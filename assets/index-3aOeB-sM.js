var bO=Object.defineProperty;var wO=(t,e,n)=>e in t?bO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ye=(t,e,n)=>wO(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function IS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pg={exports:{}},Sc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tb;function TO(){if(Tb)return Sc;Tb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:o}}return Sc.Fragment=e,Sc.jsx=n,Sc.jsxs=n,Sc}var Sb;function SO(){return Sb||(Sb=1,pg.exports=TO()),pg.exports}var D=SO();function pt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var AO={};function Op(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:AO}var DS=Object.assign,Hd=Object.getOwnPropertyDescriptor,Mi=Object.defineProperty,gh=Object.prototype,tv=[];Object.freeze(tv);var Wv={};Object.freeze(Wv);var RO=typeof Proxy<"u",CO=Object.toString();function xS(){RO||pt("Proxy not available")}function NS(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var Jl=function(){};function oi(t){return typeof t=="function"}function Uo(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function Ip(t){return t!==null&&typeof t=="object"}function Vs(t){if(!Ip(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n.toString()===CO}function PS(t){var e=t==null?void 0:t.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function vh(t,e,n){Mi(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function MS(t,e,n){Mi(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function qa(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(r){return Ip(r)&&r[n]===!0}}function Eu(t){return t!=null&&Object.prototype.toString.call(t)==="[object Map]"}function OO(t){var e=Object.getPrototypeOf(t),n=Object.getPrototypeOf(e),r=Object.getPrototypeOf(n);return r===null}function Is(t){return t!=null&&Object.prototype.toString.call(t)==="[object Set]"}var kS=typeof Object.getOwnPropertySymbols<"u";function IO(t){var e=Object.keys(t);if(!kS)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter(function(r){return gh.propertyIsEnumerable.call(t,r)})):e}var lu=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:kS?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function LS(t){return t===null?null:typeof t=="object"?""+t:t}function Ms(t,e){return gh.hasOwnProperty.call(t,e)}var DO=Object.getOwnPropertyDescriptors||function(e){var n={};return lu(e).forEach(function(r){n[r]=Hd(e,r)}),n};function pr(t,e){return!!(t&e)}function mr(t,e,n){return n?t|=e:t&=~e,t}function Ab(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function xO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PO(r.key),r)}}function bu(t,e,n){return e&&xO(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eu(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=MO(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jo(){return jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jo.apply(null,arguments)}function VS(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,nv(t,e)}function nv(t,e){return nv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},nv(t,e)}function NO(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function PO(t){var e=NO(t,"string");return typeof e=="symbol"?e:e+""}function MO(t,e){if(t){if(typeof t=="string")return Ab(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ab(t,e):void 0}}var Pi=Symbol("mobx-stored-annotations");function ki(t){function e(n,r){if(Eh(r))return t.decorate_20223_(n,r);yh(n,r,t)}return Object.assign(e,t)}function yh(t,e,n){Ms(t,Pi)||vh(t,Pi,jo({},t[Pi])),zO(n)||(t[Pi][e]=n)}function kO(t){return Ms(t,Pi)||vh(t,Pi,jo({},t[Pi])),t[Pi]}function Eh(t){return typeof t=="object"&&typeof t.kind=="string"}var Ue=Symbol("mobx administration"),Ha=function(){function t(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=bt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.reportObserved=function(){return JS(this)},e.reportChanged=function(){Hr(),e2(this),$r()},e.toString=function(){return this.name_},bu(t,[{key:"isBeingObserved",get:function(){return pr(this.flags_,t.isBeingObservedMask_)},set:function(r){this.flags_=mr(this.flags_,t.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return pr(this.flags_,t.isPendingUnobservationMask_)},set:function(r){this.flags_=mr(this.flags_,t.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return pr(this.flags_,t.diffValueMask_)?1:0},set:function(r){this.flags_=mr(this.flags_,t.diffValueMask_,r===1)}}])}();Ha.isBeingObservedMask_=1;Ha.isPendingUnobservationMask_=2;Ha.diffValueMask_=4;var Zv=qa("Atom",Ha);function US(t,e,n){e===void 0&&(e=Jl),n===void 0&&(n=Jl);var r=new Ha(t);return e!==Jl&&$I(r,e),n!==Jl&&l2(r,n),r}function LO(t,e){return b2(t,e)}function VO(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var uu={structural:LO,default:VO};function Bo(t,e,n){return ty(t)?t:Array.isArray(t)?ze.array(t,{name:n}):Vs(t)?ze.object(t,void 0,{name:n}):Eu(t)?ze.map(t,{name:n}):Is(t)?ze.set(t,{name:n}):typeof t=="function"&&!eh(t)&&!th(t)?PS(t)?cu(t):Jc(n,t):t}function UO(t,e,n){if(t==null||Rh(t)||Ah(t)||$a(t)||ri(t))return t;if(Array.isArray(t))return ze.array(t,{name:n,deep:!1});if(Vs(t))return ze.object(t,void 0,{name:n,deep:!1});if(Eu(t))return ze.map(t,{name:n,deep:!1});if(Is(t))return ze.set(t,{name:n,deep:!1})}function Dp(t){return t}function jO(t,e){return b2(t,e)?e:t}var BO="override";function zO(t){return t.annotationType_===BO}function bh(t,e){return{annotationType_:t,options_:e,make_:FO,extend_:qO,decorate_20223_:HO}}function FO(t,e,n,r){var a;if((a=this.options_)!=null&&a.bound)return this.extend_(t,e,n,!1)===null?0:1;if(r===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if(eh(n.value))return 1;var o=jS(t,this,e,n,!1);return Mi(r,e,o),2}function qO(t,e,n,r){var a=jS(t,this,e,n);return t.defineProperty_(e,a,r)}function HO(t,e){var n=e.kind,r=e.name,a=e.addInitializer,o=this,u=function(m){var g,y,w,T;return zo((g=(y=o.options_)==null?void 0:y.name)!=null?g:r.toString(),m,(w=(T=o.options_)==null?void 0:T.autoAction)!=null?w:!1)};if(n=="field")return function(d){var m,g=d;return eh(g)||(g=u(g)),(m=o.options_)!=null&&m.bound&&(g=g.bind(this),g.isMobxAction=!0),g};if(n=="method"){var h;return eh(t)||(t=u(t)),(h=this.options_)!=null&&h.bound&&a(function(){var d=this,m=d[r].bind(d);m.isMobxAction=!0,d[r]=m}),t}pt("Cannot apply '"+o.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+o.annotationType_+"' can only be used on properties with a function value."))}function $O(t,e,n,r){e.annotationType_,r.value}function jS(t,e,n,r,a){var o,u,h,d,m,g,y;a===void 0&&(a=pe.safeDescriptors),$O(t,e,n,r);var w=r.value;if((o=e.options_)!=null&&o.bound){var T;w=w.bind((T=t.proxy_)!=null?T:t.target_)}return{value:zo((u=(h=e.options_)==null?void 0:h.name)!=null?u:n.toString(),w,(d=(m=e.options_)==null?void 0:m.autoAction)!=null?d:!1,(g=e.options_)!=null&&g.bound?(y=t.proxy_)!=null?y:t.target_:void 0),configurable:a?t.isPlainObject_:!0,enumerable:!1,writable:!a}}function BS(t,e){return{annotationType_:t,options_:e,make_:GO,extend_:KO,decorate_20223_:QO}}function GO(t,e,n,r){var a;if(r===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if((a=this.options_)!=null&&a.bound&&(!Ms(t.target_,e)||!th(t.target_[e]))&&this.extend_(t,e,n,!1)===null)return 0;if(th(n.value))return 1;var o=zS(t,this,e,n,!1,!1);return Mi(r,e,o),2}function KO(t,e,n,r){var a,o=zS(t,this,e,n,(a=this.options_)==null?void 0:a.bound);return t.defineProperty_(e,o,r)}function QO(t,e){var n,r=e.name,a=e.addInitializer;return th(t)||(t=cu(t)),(n=this.options_)!=null&&n.bound&&a(function(){var o=this,u=o[r].bind(o);u.isMobXFlow=!0,o[r]=u}),t}function YO(t,e,n,r){e.annotationType_,r.value}function zS(t,e,n,r,a,o){o===void 0&&(o=pe.safeDescriptors),YO(t,e,n,r);var u=r.value;if(th(u)||(u=cu(u)),a){var h;u=u.bind((h=t.proxy_)!=null?h:t.target_),u.isMobXFlow=!0}return{value:u,configurable:o?t.isPlainObject_:!0,enumerable:!1,writable:!o}}function Jv(t,e){return{annotationType_:t,options_:e,make_:XO,extend_:WO,decorate_20223_:ZO}}function XO(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function WO(t,e,n,r){return JO(t,this,e,n),t.defineComputedProperty_(e,jo({},this.options_,{get:n.get,set:n.set}),r)}function ZO(t,e){var n=this,r=e.name,a=e.addInitializer;return a(function(){var o=Wo(this)[Ue],u=jo({},n.options_,{get:t,context:this});u.name||(u.name="ObservableObject."+r.toString()),o.values_.set(r,new li(u))}),function(){return this[Ue].getObservablePropValue_(r)}}function JO(t,e,n,r){e.annotationType_,r.get}function xp(t,e){return{annotationType_:t,options_:e,make_:eI,extend_:tI,decorate_20223_:nI}}function eI(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function tI(t,e,n,r){var a,o;return rI(t,this),t.defineObservableProperty_(e,n.value,(a=(o=this.options_)==null?void 0:o.enhancer)!=null?a:Bo,r)}function nI(t,e){var n=this,r=e.kind,a=e.name,o=new WeakSet;function u(h,d){var m,g,y=Wo(h)[Ue],w=new Ia(d,(m=(g=n.options_)==null?void 0:g.enhancer)!=null?m:Bo,"ObservableObject."+a.toString(),!1);y.values_.set(a,w),o.add(h)}if(r=="accessor")return{get:function(){return o.has(this)||u(this,t.get.call(this)),this[Ue].getObservablePropValue_(a)},set:function(d){return o.has(this)||u(this,d),this[Ue].setObservablePropValue_(a,d)},init:function(d){return o.has(this)||u(this,d),d}}}function rI(t,e,n,r){e.annotationType_}var iI="true",sI=FS();function FS(t){return{annotationType_:iI,options_:t,make_:aI,extend_:oI,decorate_20223_:lI}}function aI(t,e,n,r){var a,o;if(n.get)return Vt.make_(t,e,n,r);if(n.set){var u=zo(e.toString(),n.set);return r===t.target_?t.defineProperty_(e,{configurable:pe.safeDescriptors?t.isPlainObject_:!0,set:u})===null?0:2:(Mi(r,e,{configurable:!0,set:u}),2)}if(r!==t.target_&&typeof n.value=="function"){var h;if(PS(n.value)){var d,m=(d=this.options_)!=null&&d.autoBind?cu.bound:cu;return m.make_(t,e,n,r)}var g=(h=this.options_)!=null&&h.autoBind?Jc.bound:Jc;return g.make_(t,e,n,r)}var y=((a=this.options_)==null?void 0:a.deep)===!1?ze.ref:ze;if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var w;n.value=n.value.bind((w=t.proxy_)!=null?w:t.target_)}return y.make_(t,e,n,r)}function oI(t,e,n,r){var a,o;if(n.get)return Vt.extend_(t,e,n,r);if(n.set)return t.defineProperty_(e,{configurable:pe.safeDescriptors?t.isPlainObject_:!0,set:zo(e.toString(),n.set)},r);if(typeof n.value=="function"&&(a=this.options_)!=null&&a.autoBind){var u;n.value=n.value.bind((u=t.proxy_)!=null?u:t.target_)}var h=((o=this.options_)==null?void 0:o.deep)===!1?ze.ref:ze;return h.extend_(t,e,n,r)}function lI(t,e){pt("'"+this.annotationType_+"' cannot be used as a decorator")}var uI="observable",cI="observable.ref",hI="observable.shallow",fI="observable.struct",qS={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(qS);function sd(t){return t||qS}var rv=xp(uI),dI=xp(cI,{enhancer:Dp}),pI=xp(hI,{enhancer:UO}),mI=xp(fI,{enhancer:jO}),HS=ki(rv);function ad(t){return t.deep===!0?Bo:t.deep===!1?Dp:gI(t.defaultDecorator)}function _I(t){var e;return t?(e=t.defaultDecorator)!=null?e:FS(t):void 0}function gI(t){var e,n;return t&&(e=(n=t.options_)==null?void 0:n.enhancer)!=null?e:Bo}function $S(t,e,n){if(Eh(e))return rv.decorate_20223_(t,e);if(Uo(e)){yh(t,e,rv);return}return ty(t)?t:Vs(t)?ze.object(t,e,n):Array.isArray(t)?ze.array(t,e):Eu(t)?ze.map(t,e):Is(t)?ze.set(t,e):typeof t=="object"&&t!==null?t:ze.box(t,e)}DS($S,HS);var vI={box:function(e,n){var r=sd(n);return new Ia(e,ad(r),r.name,!0,r.equals)},array:function(e,n){var r=sd(n);return(pe.useProxies===!1||r.proxy===!1?m9:s9)(e,ad(r),r.name)},map:function(e,n){var r=sd(n);return new m2(e,ad(r),r.name)},set:function(e,n){var r=sd(n);return new _2(e,ad(r),r.name)},object:function(e,n,r){return Ga(function(){return h2(pe.useProxies===!1||(r==null?void 0:r.proxy)===!1?Wo({},r):t9({},r),e,n)})},ref:ki(dI),shallow:ki(pI),deep:HS,struct:ki(mI)},ze=DS($S,vI),GS="computed",yI="computed.struct",iv=Jv(GS),EI=Jv(yI,{equals:uu.structural}),Vt=function(e,n){if(Eh(n))return iv.decorate_20223_(e,n);if(Uo(n))return yh(e,n,iv);if(Vs(e))return ki(Jv(GS,e));var r=Vs(n)?n:{};return r.get=e,r.name||(r.name=e.name||""),new li(r)};Object.assign(Vt,iv);Vt.struct=ki(EI);var Rb,Cb,$d=0,bI=1,wI=(Rb=(Cb=Hd(function(){},"name"))==null?void 0:Cb.configurable)!=null?Rb:!1,Ob={value:"action",configurable:!0,writable:!1,enumerable:!1};function zo(t,e,n,r){n===void 0&&(n=!1);function a(){return KS(t,n,e,r||this,arguments)}return a.isMobxAction=!0,a.toString=function(){return e.toString()},wI&&(Ob.value=t,Mi(a,"name",Ob)),a}function KS(t,e,n,r,a){var o=TI(t,e);try{return n.apply(r,a)}catch(u){throw o.error_=u,u}finally{SI(o)}}function TI(t,e,n,r){var a=!1,o=0,u=pe.trackingDerivation,h=!e||!u;Hr();var d=pe.allowStateChanges;h&&(Xo(),d=Np(!0));var m=ey(!0),g={runAsAction_:h,prevDerivation_:u,prevAllowStateChanges_:d,prevAllowStateReads_:m,notifySpy_:a,startTime_:o,actionId_:bI++,parentActionId_:$d};return $d=g.actionId_,g}function SI(t){$d!==t.actionId_&&pt(30),$d=t.parentActionId_,t.error_!==void 0&&(pe.suppressReactionErrors=!0),Pp(t.prevAllowStateChanges_),Kc(t.prevAllowStateReads_),$r(),t.runAsAction_&&ks(t.prevDerivation_),pe.suppressReactionErrors=!1}function AI(t,e){var n=Np(t);try{return e()}finally{Pp(n)}}function Np(t){var e=pe.allowStateChanges;return pe.allowStateChanges=t,e}function Pp(t){pe.allowStateChanges=t}var Ia=function(t){function e(r,a,o,u,h){var d;return o===void 0&&(o="ObservableValue"),h===void 0&&(h=uu.default),d=t.call(this,o)||this,d.enhancer=void 0,d.name_=void 0,d.equals=void 0,d.hasUnreportedChange_=!1,d.interceptors_=void 0,d.changeListeners_=void 0,d.value_=void 0,d.dehancer=void 0,d.enhancer=a,d.name_=o,d.equals=h,d.value_=a(r,void 0,o),d}VS(e,t);var n=e.prototype;return n.dehanceValue=function(a){return this.dehancer!==void 0?this.dehancer(a):a},n.set=function(a){this.value_,a=this.prepareNewValue_(a),a!==pe.UNCHANGED&&this.setNewValue_(a)},n.prepareNewValue_=function(a){if(Fr(this)){var o=qr(this,{object:this,type:Li,newValue:a});if(!o)return pe.UNCHANGED;a=o.newValue}return a=this.enhancer(a,this.value_,this.name_),this.equals(this.value_,a)?pe.UNCHANGED:a},n.setNewValue_=function(a){var o=this.value_;this.value_=a,this.reportChanged(),si(this)&&ai(this,{type:Li,object:this,newValue:a,oldValue:o})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(a){return Th(this,a)},n.observe_=function(a,o){return o&&a({observableKind:"value",debugObjectName:this.name_,object:this,type:Li,newValue:this.value_,oldValue:void 0}),Sh(this,a)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return LS(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},e}(Ha),RI=qa("ObservableValue",Ia),li=function(){function t(n){this.dependenciesState_=bt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=bt.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Kd(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Gd.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||pt(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=zo("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?uu.structural:uu.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){xI(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.get=function(){if(this.isComputing&&pt(32,this.name_,this.derivation),pe.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)sv(this)&&(this.warnAboutUntrackedRead_(),Hr(),this.value_=this.computeValue_(!1),$r());else if(JS(this),sv(this)){var r=pe.trackingContext;this.keepAlive_&&!r&&(pe.trackingContext=this),this.trackAndCompute()&&DI(this),pe.trackingContext=r}var a=this.value_;if(Ad(a))throw a.cause;return a},e.set=function(r){if(this.setter_){this.isRunningSetter&&pt(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else pt(34,this.name_)},e.trackAndCompute=function(){var r=this.value_,a=this.dependenciesState_===bt.NOT_TRACKING_,o=this.computeValue_(!0),u=a||Ad(r)||Ad(o)||!this.equals_(r,o);return u&&(this.value_=o),u},e.computeValue_=function(r){this.isComputing=!0;var a=Np(!1),o;if(r)o=QS(this,this.derivation,this.scope_);else if(pe.disableErrorBoundaries===!0)o=this.derivation.call(this.scope_);else try{o=this.derivation.call(this.scope_)}catch(u){o=new Kd(u)}return Pp(a),this.isComputing=!1,o},e.suspend_=function(){this.keepAlive_||(av(this),this.value_=void 0)},e.observe_=function(r,a){var o=this,u=!0,h=void 0;return BI(function(){var d=o.get();if(!u||a){var m=Xo();r({observableKind:"computed",debugObjectName:o.name_,type:Li,object:o,newValue:d,oldValue:h}),ks(m)}u=!1,h=d})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return LS(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},bu(t,[{key:"isComputing",get:function(){return pr(this.flags_,t.isComputingMask_)},set:function(r){this.flags_=mr(this.flags_,t.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return pr(this.flags_,t.isRunningSetterMask_)},set:function(r){this.flags_=mr(this.flags_,t.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return pr(this.flags_,t.isBeingObservedMask_)},set:function(r){this.flags_=mr(this.flags_,t.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return pr(this.flags_,t.isPendingUnobservationMask_)},set:function(r){this.flags_=mr(this.flags_,t.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return pr(this.flags_,t.diffValueMask_)?1:0},set:function(r){this.flags_=mr(this.flags_,t.diffValueMask_,r===1)}}])}();li.isComputingMask_=1;li.isRunningSetterMask_=2;li.isBeingObservedMask_=4;li.isPendingUnobservationMask_=8;li.diffValueMask_=16;var wh=qa("ComputedValue",li),bt;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(bt||(bt={}));var Gd;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(Gd||(Gd={}));var Kd=function(e){this.cause=void 0,this.cause=e};function Ad(t){return t instanceof Kd}function sv(t){switch(t.dependenciesState_){case bt.UP_TO_DATE_:return!1;case bt.NOT_TRACKING_:case bt.STALE_:return!0;case bt.POSSIBLY_STALE_:{for(var e=ey(!0),n=Xo(),r=t.observing_,a=r.length,o=0;o<a;o++){var u=r[o];if(wh(u)){if(pe.disableErrorBoundaries)u.get();else try{u.get()}catch{return ks(n),Kc(e),!0}if(t.dependenciesState_===bt.STALE_)return ks(n),Kc(e),!0}}return YS(t),ks(n),Kc(e),!1}}}function QS(t,e,n){var r=ey(!0);YS(t),t.newObserving_=new Array(t.runId_===0?100:t.observing_.length),t.unboundDepsCount_=0,t.runId_=++pe.runId;var a=pe.trackingDerivation;pe.trackingDerivation=t,pe.inBatch++;var o;if(pe.disableErrorBoundaries===!0)o=e.call(n);else try{o=e.call(n)}catch(u){o=new Kd(u)}return pe.inBatch--,pe.trackingDerivation=a,CI(t),Kc(r),o}function CI(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,r=bt.UP_TO_DATE_,a=0,o=t.unboundDepsCount_,u=0;u<o;u++){var h=n[u];h.diffValue===0&&(h.diffValue=1,a!==u&&(n[a]=h),a++),h.dependenciesState_>r&&(r=h.dependenciesState_)}for(n.length=a,t.newObserving_=null,o=e.length;o--;){var d=e[o];d.diffValue===0&&WS(d,t),d.diffValue=0}for(;a--;){var m=n[a];m.diffValue===1&&(m.diffValue=0,II(m,t))}r!==bt.UP_TO_DATE_&&(t.dependenciesState_=r,t.onBecomeStale_())}function av(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)WS(e[n],t);t.dependenciesState_=bt.NOT_TRACKING_}function Qd(t){var e=Xo();try{return t()}finally{ks(e)}}function Xo(){var t=pe.trackingDerivation;return pe.trackingDerivation=null,t}function ks(t){pe.trackingDerivation=t}function ey(t){var e=pe.allowStateReads;return pe.allowStateReads=t,e}function Kc(t){pe.allowStateReads=t}function YS(t){if(t.dependenciesState_!==bt.UP_TO_DATE_){t.dependenciesState_=bt.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=bt.UP_TO_DATE_}}var Rd=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Cd=!0,XS=!1,pe=function(){var t=Op();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Cd=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new Rd().version&&(Cd=!1),Cd?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Rd):(setTimeout(function(){XS||pt(35)},1),new Rd)}();function OI(){if((pe.pendingReactions.length||pe.inBatch||pe.isRunningReactions)&&pt(36),XS=!0,Cd){var t=Op();--t.__mobxInstanceCount===0&&(t.__mobxGlobals=void 0),pe=new Rd}}function II(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function WS(t,e){t.observers_.delete(e),t.observers_.size===0&&ZS(t)}function ZS(t){t.isPendingUnobservation===!1&&(t.isPendingUnobservation=!0,pe.pendingUnobservations.push(t))}function Hr(){pe.inBatch++}function $r(){if(--pe.inBatch===0){t2();for(var t=pe.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof li&&n.suspend_())}pe.pendingUnobservations=[]}}function JS(t){var e=pe.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved&&pe.trackingContext&&(t.isBeingObserved=!0,t.onBO())),t.isBeingObserved):(t.observers_.size===0&&pe.inBatch>0&&ZS(t),!1)}function e2(t){t.lowestObserverState_!==bt.STALE_&&(t.lowestObserverState_=bt.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===bt.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=bt.STALE_}))}function DI(t){t.lowestObserverState_!==bt.STALE_&&(t.lowestObserverState_=bt.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===bt.POSSIBLY_STALE_?e.dependenciesState_=bt.STALE_:e.dependenciesState_===bt.UP_TO_DATE_&&(t.lowestObserverState_=bt.UP_TO_DATE_)}))}function xI(t){t.lowestObserverState_===bt.UP_TO_DATE_&&(t.lowestObserverState_=bt.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===bt.UP_TO_DATE_&&(e.dependenciesState_=bt.POSSIBLY_STALE_,e.onBecomeStale_())}))}var $i=function(){function t(n,r,a,o){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=bt.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Gd.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=a,this.requiresObservable_=o}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,pe.pendingReactions.push(this),t2())},e.runReaction_=function(){if(!this.isDisposed){Hr(),this.isScheduled=!1;var r=pe.trackingContext;if(pe.trackingContext=this,sv(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(a){this.reportExceptionInDerivation_(a)}}pe.trackingContext=r,$r()}},e.track=function(r){if(!this.isDisposed){Hr(),this.isRunning=!0;var a=pe.trackingContext;pe.trackingContext=this;var o=QS(this,r,void 0);pe.trackingContext=a,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&av(this),Ad(o)&&this.reportExceptionInDerivation_(o.cause),$r()}},e.reportExceptionInDerivation_=function(r){var a=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(pe.disableErrorBoundaries)throw r;var o="[mobx] uncaught error in '"+this+"'";pe.suppressReactionErrors||console.error(o,r),pe.globalReactionErrorHandlers.forEach(function(u){return u(r,a)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Hr(),av(this),$r()))},e.getDisposer_=function(r){var a=this,o=function u(){a.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",u)};return r==null||r.addEventListener==null||r.addEventListener("abort",o),o[Ue]=this,o},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(r){},bu(t,[{key:"isDisposed",get:function(){return pr(this.flags_,t.isDisposedMask_)},set:function(r){this.flags_=mr(this.flags_,t.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return pr(this.flags_,t.isScheduledMask_)},set:function(r){this.flags_=mr(this.flags_,t.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return pr(this.flags_,t.isTrackPendingMask_)},set:function(r){this.flags_=mr(this.flags_,t.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return pr(this.flags_,t.isRunningMask_)},set:function(r){this.flags_=mr(this.flags_,t.isRunningMask_,r)}},{key:"diffValue",get:function(){return pr(this.flags_,t.diffValueMask_)?1:0},set:function(r){this.flags_=mr(this.flags_,t.diffValueMask_,r===1)}}])}();$i.isDisposedMask_=1;$i.isScheduledMask_=2;$i.isTrackPendingMask_=4;$i.isRunningMask_=8;$i.diffValueMask_=16;var NI=100,ov=function(e){return e()};function t2(){pe.inBatch>0||pe.isRunningReactions||ov(PI)}function PI(){pe.isRunningReactions=!0;for(var t=pe.pendingReactions,e=0;t.length>0;){++e===NI&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,a=n.length;r<a;r++)n[r].runReaction_()}pe.isRunningReactions=!1}var Yd=qa("Reaction",$i);function MI(t){var e=ov;ov=function(r){return t(function(){return e(r)})}}function Qc(){return!1}function kI(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var n2="action",LI="action.bound",r2="autoAction",VI="autoAction.bound",i2="<unnamed action>",lv=bh(n2),UI=bh(LI,{bound:!0}),uv=bh(r2,{autoAction:!0}),jI=bh(VI,{autoAction:!0,bound:!0});function s2(t){var e=function(r,a){if(oi(r))return zo(r.name||i2,r,t);if(oi(a))return zo(r,a,t);if(Eh(a))return(t?uv:lv).decorate_20223_(r,a);if(Uo(a))return yh(r,a,t?uv:lv);if(Uo(r))return ki(bh(t?r2:n2,{name:r,autoAction:t}))};return e}var de=s2(!1);Object.assign(de,lv);var Jc=s2(!0);Object.assign(Jc,uv);de.bound=ki(UI);Jc.bound=ki(jI);function sn(t){return KS(t.name||i2,!1,t,this,void 0)}function eh(t){return oi(t)&&t.isMobxAction===!0}function BI(t,e){var n,r,a,o;e===void 0&&(e=Wv);var u=(n=(r=e)==null?void 0:r.name)!=null?n:"Autorun",h=!e.scheduler&&!e.delay,d;if(h)d=new $i(u,function(){this.track(y)},e.onError,e.requiresObservable);else{var m=a2(e),g=!1;d=new $i(u,function(){g||(g=!0,m(function(){g=!1,d.isDisposed||d.track(y)}))},e.onError,e.requiresObservable)}function y(){t(d)}return(a=e)!=null&&(a=a.signal)!=null&&a.aborted||d.schedule_(),d.getDisposer_((o=e)==null?void 0:o.signal)}var zI=function(e){return e()};function a2(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:zI}function o2(t,e,n){var r,a,o;n===void 0&&(n=Wv);var u=(r=n.name)!=null?r:"Reaction",h=de(u,n.onError?FI(n.onError,e):e),d=!n.scheduler&&!n.delay,m=a2(n),g=!0,y=!1,w,T=n.compareStructural?uu.structural:n.equals||uu.default,S=new $i(u,function(){g||d?P():y||(y=!0,m(P))},n.onError,n.requiresObservable);function P(){if(y=!1,!S.isDisposed){var O=!1,U=w;S.track(function(){var H=AI(!1,function(){return t(S)});O=g||!T(w,H),w=H}),(g&&n.fireImmediately||!g&&O)&&h(w,U,S),g=!1}}return(a=n)!=null&&(a=a.signal)!=null&&a.aborted||S.schedule_(),S.getDisposer_((o=n)==null?void 0:o.signal)}function FI(t,e){return function(){try{return e.apply(this,arguments)}catch(n){t.call(this,n)}}}var qI="onBO",HI="onBUO";function $I(t,e,n){return u2(qI,t,e,n)}function l2(t,e,n){return u2(HI,t,e,n)}function u2(t,e,n,r){var a=Zd(e),o=oi(r)?r:n,u=t+"L";return a[u]?a[u].add(o):a[u]=new Set([o]),function(){var h=a[u];h&&(h.delete(o),h.size===0&&delete a[u])}}var GI="never",od="always",KI="observed";function c2(t){t.isolateGlobalState===!0&&OI();var e=t.useProxies,n=t.enforceActions;if(e!==void 0&&(pe.useProxies=e===od?!0:e===GI?!1:typeof Proxy<"u"),e==="ifavailable"&&(pe.verifyProxies=!0),n!==void 0){var r=n===od?od:n===KI;pe.enforceActions=r,pe.allowStateChanges=!(r===!0||r===od)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(a){a in t&&(pe[a]=!!t[a])}),pe.allowStateReads=!pe.observableRequiresReaction,t.reactionScheduler&&MI(t.reactionScheduler)}function h2(t,e,n,r){var a=DO(e);return Ga(function(){var o=Wo(t,r)[Ue];lu(a).forEach(function(u){o.extend_(u,a[u],n&&u in n?n[u]:!0)})}),t}function QI(t,e){return f2(Zd(t,e))}function f2(t){var e={name:t.name_};return t.observing_&&t.observing_.length>0&&(e.dependencies=YI(t.observing_).map(f2)),e}function YI(t){return Array.from(new Set(t))}var XI=0;function d2(){this.message="FLOW_CANCELLED"}d2.prototype=Object.create(Error.prototype);var mg=BS("flow"),WI=BS("flow.bound",{bound:!0}),cu=Object.assign(function(e,n){if(Eh(n))return mg.decorate_20223_(e,n);if(Uo(n))return yh(e,n,mg);var r=e,a=r.name||"<unnamed flow>",o=function(){var h=this,d=arguments,m=++XI,g=de(a+" - runid: "+m+" - init",r).apply(h,d),y,w=void 0,T=new Promise(function(S,P){var O=0;y=P;function U(ee){w=void 0;var k;try{k=de(a+" - runid: "+m+" - yield "+O++,g.next).call(g,ee)}catch(ie){return P(ie)}Q(k)}function H(ee){w=void 0;var k;try{k=de(a+" - runid: "+m+" - yield "+O++,g.throw).call(g,ee)}catch(ie){return P(ie)}Q(k)}function Q(ee){if(oi(ee==null?void 0:ee.then)){ee.then(Q,P);return}return ee.done?S(ee.value):(w=Promise.resolve(ee.value),w.then(U,H))}U(void 0)});return T.cancel=de(a+" - runid: "+m+" - cancel",function(){try{w&&Ib(w);var S=g.return(void 0),P=Promise.resolve(S.value);P.then(Jl,Jl),Ib(P),y(new d2)}catch(O){y(O)}}),T};return o.isMobXFlow=!0,o},mg);cu.bound=ki(WI);function Ib(t){oi(t.cancel)&&t.cancel()}function th(t){return(t==null?void 0:t.isMobXFlow)===!0}function ZI(t,e){return t?Rh(t)||!!t[Ue]||Zv(t)||Yd(t)||wh(t):!1}function ty(t){return ZI(t)}function JI(t){if(Rh(t))return t[Ue].ownKeys_();pt(38)}function ld(t,e,n){return t.set(e,n),n}function Yl(t,e){if(t==null||typeof t!="object"||t instanceof Date||!ty(t))return t;if(RI(t)||wh(t))return Yl(t.get(),e);if(e.has(t))return e.get(t);if(Ah(t)){var n=ld(e,t,new Array(t.length));return t.forEach(function(u,h){n[h]=Yl(u,e)}),n}if(ri(t)){var r=ld(e,t,new Set);return t.forEach(function(u){r.add(Yl(u,e))}),r}if($a(t)){var a=ld(e,t,new Map);return t.forEach(function(u,h){a.set(h,Yl(u,e))}),a}else{var o=ld(e,t,{});return JI(t).forEach(function(u){gh.propertyIsEnumerable.call(t,u)&&(o[u]=Yl(t[u],e))}),o}}function _g(t,e){return Yl(t,new Map)}function Ds(t,e){e===void 0&&(e=void 0),Hr();try{return t.apply(e)}finally{$r()}}function Hl(t){return t[Ue]}var e9={has:function(e,n){return Hl(e).has_(n)},get:function(e,n){return Hl(e).get_(n)},set:function(e,n,r){var a;return Uo(n)?(a=Hl(e).set_(n,r,!0))!=null?a:!0:!1},deleteProperty:function(e,n){var r;return Uo(n)?(r=Hl(e).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(e,n,r){var a;return(a=Hl(e).defineProperty_(n,r))!=null?a:!0},ownKeys:function(e){return Hl(e).ownKeys_()},preventExtensions:function(e){pt(13)}};function t9(t,e){var n,r;return xS(),t=Wo(t,e),(r=(n=t[Ue]).proxy_)!=null?r:n.proxy_=new Proxy(t,e9)}function Fr(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function Th(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),NS(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function qr(t,e){var n=Xo();try{for(var r=[].concat(t.interceptors_||[]),a=0,o=r.length;a<o&&(e=r[a](e),e&&!e.type&&pt(14),!!e);a++);return e}finally{ks(n)}}function si(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function Sh(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),NS(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function ai(t,e){var n=Xo(),r=t.changeListeners_;if(r){r=r.slice();for(var a=0,o=r.length;a<o;a++)r[a](e);ks(n)}}function Qi(t,e,n){return Ga(function(){var r,a=Wo(t,n)[Ue];(r=e)!=null||(e=kO(t)),lu(e).forEach(function(o){return a.make_(o,e[o])})}),t}var gg=Symbol("mobx-keys");function n9(t,e,n){return Vs(t)?h2(t,t,e,n):(Ga(function(){var r=Wo(t,n)[Ue];if(!t[gg]){var a=Object.getPrototypeOf(t),o=new Set([].concat(lu(t),lu(a)));o.delete("constructor"),o.delete(Ue),vh(a,gg,o)}t[gg].forEach(function(u){return r.make_(u,e&&u in e?e[u]:!0)})}),t)}var Db="splice",Li="update",r9=1e4,i9={get:function(e,n){var r=e[Ue];return n===Ue?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):Ms(Xd,n)?Xd[n]:e[n]},set:function(e,n,r){var a=e[Ue];return n==="length"&&a.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?e[n]=r:a.set_(parseInt(n),r),!0},preventExtensions:function(){pt(15)}},ny=function(){function t(n,r,a,o){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=a,this.legacyMode_=o,this.atom_=new Ha(n),this.enhancer_=function(u,h){return r(u,h,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},e.intercept_=function(r){return Th(this,r)},e.observe_=function(r,a){return a===void 0&&(a=!1),a&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Sh(this,r)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&pt("Out of range: "+r);var a=this.values_.length;if(r!==a)if(r>a){for(var o=new Array(r-a),u=0;u<r-a;u++)o[u]=void 0;this.spliceWithArray_(a,0,o)}else this.spliceWithArray_(r,a-r)},e.updateArrayLength_=function(r,a){r!==this.lastKnownLength_&&pt(16),this.lastKnownLength_+=a,this.legacyMode_&&a>0&&E2(r+a+1)},e.spliceWithArray_=function(r,a,o){var u=this;this.atom_;var h=this.values_.length;if(r===void 0?r=0:r>h?r=h:r<0&&(r=Math.max(0,h+r)),arguments.length===1?a=h-r:a==null?a=0:a=Math.max(0,Math.min(a,h-r)),o===void 0&&(o=tv),Fr(this)){var d=qr(this,{object:this.proxy_,type:Db,index:r,removedCount:a,added:o});if(!d)return tv;a=d.removedCount,o=d.added}if(o=o.length===0?o:o.map(function(y){return u.enhancer_(y,void 0)}),this.legacyMode_){var m=o.length-a;this.updateArrayLength_(h,m)}var g=this.spliceItemsIntoValues_(r,a,o);return(a!==0||o.length!==0)&&this.notifyArraySplice_(r,o,g),this.dehanceValues_(g)},e.spliceItemsIntoValues_=function(r,a,o){if(o.length<r9){var u;return(u=this.values_).splice.apply(u,[r,a].concat(o))}else{var h=this.values_.slice(r,r+a),d=this.values_.slice(r+a);this.values_.length+=o.length-a;for(var m=0;m<o.length;m++)this.values_[r+m]=o[m];for(var g=0;g<d.length;g++)this.values_[r+o.length+g]=d[g];return h}},e.notifyArrayChildUpdate_=function(r,a,o){var u=!this.owned_&&Qc(),h=si(this),d=h||u?{observableKind:"array",object:this.proxy_,type:Li,debugObjectName:this.atom_.name_,index:r,newValue:a,oldValue:o}:null;this.atom_.reportChanged(),h&&ai(this,d)},e.notifyArraySplice_=function(r,a,o){var u=!this.owned_&&Qc(),h=si(this),d=h||u?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Db,index:r,removed:o,added:a,removedCount:o.length,addedCount:a.length}:null;this.atom_.reportChanged(),h&&ai(this,d)},e.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},e.set_=function(r,a){var o=this.values_;if(this.legacyMode_&&r>o.length&&pt(17,r,o.length),r<o.length){this.atom_;var u=o[r];if(Fr(this)){var h=qr(this,{type:Li,object:this.proxy_,index:r,newValue:a});if(!h)return;a=h.newValue}a=this.enhancer_(a,u);var d=a!==u;d&&(o[r]=a,this.notifyArrayChildUpdate_(r,a,u))}else{for(var m=new Array(r+1-o.length),g=0;g<m.length-1;g++)m[g]=void 0;m[m.length-1]=a,this.spliceWithArray_(o.length,0,m)}},t}();function s9(t,e,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),xS(),Ga(function(){var a=new ny(n,e,r,!1);MS(a.values_,Ue,a);var o=new Proxy(a.values_,i9);return a.proxy_=o,t&&t.length&&a.spliceWithArray_(0,0,t),o})}var Xd={clear:function(){return this.splice(0)},replace:function(e){var n=this[Ue];return n.spliceWithArray_(0,n.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=this[Ue];switch(arguments.length){case 0:return[];case 1:return u.spliceWithArray_(e);case 2:return u.spliceWithArray_(e,n)}return u.spliceWithArray_(e,n,a)},spliceWithArray:function(e,n,r){return this[Ue].spliceWithArray_(e,n,r)},push:function(){for(var e=this[Ue],n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.spliceWithArray_(e.values_.length,0,r),e.values_.length},pop:function(){return this.splice(Math.max(this[Ue].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[Ue],n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.spliceWithArray_(0,0,r),e.values_.length},reverse:function(){return pe.trackingDerivation&&pt(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){pe.trackingDerivation&&pt(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var n=this[Ue],r=n.dehanceValues_(n.values_).indexOf(e);return r>-1?(this.splice(r,1),!0):!1}};kt("at",Er);kt("concat",Er);kt("flat",Er);kt("includes",Er);kt("indexOf",Er);kt("join",Er);kt("lastIndexOf",Er);kt("slice",Er);kt("toString",Er);kt("toLocaleString",Er);kt("toSorted",Er);kt("toSpliced",Er);kt("with",Er);kt("every",hi);kt("filter",hi);kt("find",hi);kt("findIndex",hi);kt("findLast",hi);kt("findLastIndex",hi);kt("flatMap",hi);kt("forEach",hi);kt("map",hi);kt("some",hi);kt("toReversed",hi);kt("reduce",p2);kt("reduceRight",p2);function kt(t,e){typeof Array.prototype[t]=="function"&&(Xd[t]=e(t))}function Er(t){return function(){var e=this[Ue];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function hi(t){return function(e,n){var r=this,a=this[Ue];a.atom_.reportObserved();var o=a.dehanceValues_(a.values_);return o[t](function(u,h){return e.call(n,u,h,r)})}}function p2(t){return function(){var e=this,n=this[Ue];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),a=arguments[0];return arguments[0]=function(o,u,h){return a(o,u,h,e)},r[t].apply(r,arguments)}}var a9=qa("ObservableArrayAdministration",ny);function Ah(t){return Ip(t)&&a9(t[Ue])}var o9={},Ca="add",Wd="delete",m2=function(){function t(n,r,a){var o=this;r===void 0&&(r=Bo),a===void 0&&(a="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Ue]=o9,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=a,oi(Map)||pt(18),Ga(function(){o.keysAtom_=US("ObservableMap.keys()"),o.data_=new Map,o.hasMap_=new Map,n&&o.merge(n)})}var e=t.prototype;return e.has_=function(r){return this.data_.has(r)},e.has=function(r){var a=this;if(!pe.trackingDerivation)return this.has_(r);var o=this.hasMap_.get(r);if(!o){var u=o=new Ia(this.has_(r),Dp,"ObservableMap.key?",!1);this.hasMap_.set(r,u),l2(u,function(){return a.hasMap_.delete(r)})}return o.get()},e.set=function(r,a){var o=this.has_(r);if(Fr(this)){var u=qr(this,{type:o?Li:Ca,object:this,newValue:a,name:r});if(!u)return this;a=u.newValue}return o?this.updateValue_(r,a):this.addValue_(r,a),this},e.delete=function(r){var a=this;if(this.keysAtom_,Fr(this)){var o=qr(this,{type:Wd,object:this,name:r});if(!o)return!1}if(this.has_(r)){var u=Qc(),h=si(this),d=h||u?{observableKind:"map",debugObjectName:this.name_,type:Wd,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Ds(function(){var m;a.keysAtom_.reportChanged(),(m=a.hasMap_.get(r))==null||m.setNewValue_(!1);var g=a.data_.get(r);g.setNewValue_(void 0),a.data_.delete(r)}),h&&ai(this,d),!0}return!1},e.updateValue_=function(r,a){var o=this.data_.get(r);if(a=o.prepareNewValue_(a),a!==pe.UNCHANGED){var u=Qc(),h=si(this),d=h||u?{observableKind:"map",debugObjectName:this.name_,type:Li,object:this,oldValue:o.value_,name:r,newValue:a}:null;o.setNewValue_(a),h&&ai(this,d)}},e.addValue_=function(r,a){var o=this;this.keysAtom_,Ds(function(){var m,g=new Ia(a,o.enhancer_,"ObservableMap.key",!1);o.data_.set(r,g),a=g.value_,(m=o.hasMap_.get(r))==null||m.setNewValue_(!0),o.keysAtom_.reportChanged()});var u=Qc(),h=si(this),d=h||u?{observableKind:"map",debugObjectName:this.name_,type:Ca,object:this,name:r,newValue:a}:null;h&&ai(this,d)},e.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var r=this,a=this.keys();return xb({next:function(){var u=a.next(),h=u.done,d=u.value;return{done:h,value:h?void 0:r.get(d)}}})},e.entries=function(){var r=this,a=this.keys();return xb({next:function(){var u=a.next(),h=u.done,d=u.value;return{done:h,value:h?void 0:[d,r.get(d)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(r,a){for(var o=eu(this),u;!(u=o()).done;){var h=u.value,d=h[0],m=h[1];r.call(a,m,d,this)}},e.merge=function(r){var a=this;return $a(r)&&(r=new Map(r)),Ds(function(){Vs(r)?IO(r).forEach(function(o){return a.set(o,r[o])}):Array.isArray(r)?r.forEach(function(o){var u=o[0],h=o[1];return a.set(u,h)}):Eu(r)?(OO(r)||pt(19,r),r.forEach(function(o,u){return a.set(u,o)})):r!=null&&pt(20,r)}),this},e.clear=function(){var r=this;Ds(function(){Qd(function(){for(var a=eu(r.keys()),o;!(o=a()).done;){var u=o.value;r.delete(u)}})})},e.replace=function(r){var a=this;return Ds(function(){for(var o=l9(r),u=new Map,h=!1,d=eu(a.data_.keys()),m;!(m=d()).done;){var g=m.value;if(!o.has(g)){var y=a.delete(g);if(y)h=!0;else{var w=a.data_.get(g);u.set(g,w)}}}for(var T=eu(o.entries()),S;!(S=T()).done;){var P=S.value,O=P[0],U=P[1],H=a.data_.has(O);if(a.set(O,U),a.data_.has(O)){var Q=a.data_.get(O);u.set(O,Q),H||(h=!0)}}if(!h)if(a.data_.size!==u.size)a.keysAtom_.reportChanged();else for(var ee=a.data_.keys(),k=u.keys(),ie=ee.next(),M=k.next();!ie.done;){if(ie.value!==M.value){a.keysAtom_.reportChanged();break}ie=ee.next(),M=k.next()}a.data_=u}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(r,a){return Sh(this,r)},e.intercept_=function(r){return Th(this,r)},bu(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),$a=qa("ObservableMap",m2);function xb(t){return t[Symbol.toStringTag]="MapIterator",iy(t)}function l9(t){if(Eu(t)||$a(t))return t;if(Array.isArray(t))return new Map(t);if(Vs(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}else return pt(21,t)}var u9={},_2=function(){function t(n,r,a){var o=this;r===void 0&&(r=Bo),a===void 0&&(a="ObservableSet"),this.name_=void 0,this[Ue]=u9,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=a,oi(Set)||pt(22),this.enhancer_=function(u,h){return r(u,h,a)},Ga(function(){o.atom_=US(o.name_),n&&o.replace(n)})}var e=t.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.clear=function(){var r=this;Ds(function(){Qd(function(){for(var a=eu(r.data_.values()),o;!(o=a()).done;){var u=o.value;r.delete(u)}})})},e.forEach=function(r,a){for(var o=eu(this),u;!(u=o()).done;){var h=u.value;r.call(a,h,h,this)}},e.add=function(r){var a=this;if(this.atom_,Fr(this)){var o=qr(this,{type:Ca,object:this,newValue:r});if(!o)return this;r=o.newValue}if(!this.has(r)){Ds(function(){a.data_.add(a.enhancer_(r,void 0)),a.atom_.reportChanged()});var u=!1,h=si(this),d=h||u?{observableKind:"set",debugObjectName:this.name_,type:Ca,object:this,newValue:r}:null;h&&ai(this,d)}return this},e.delete=function(r){var a=this;if(Fr(this)){var o=qr(this,{type:Wd,object:this,oldValue:r});if(!o)return!1}if(this.has(r)){var u=!1,h=si(this),d=h||u?{observableKind:"set",debugObjectName:this.name_,type:Wd,object:this,oldValue:r}:null;return Ds(function(){a.atom_.reportChanged(),a.data_.delete(r)}),h&&ai(this,d),!0}return!1},e.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},e.entries=function(){var r=this.values();return Nb({next:function(){var o=r.next(),u=o.value,h=o.done;return h?{value:void 0,done:h}:{value:[u,u],done:h}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var r=this,a=this.data_.values();return Nb({next:function(){var u=a.next(),h=u.value,d=u.done;return d?{value:void 0,done:d}:{value:r.dehanceValue_(h),done:d}}})},e.intersection=function(r){if(Is(r)&&!ri(r))return r.intersection(this);var a=new Set(this);return a.intersection(r)},e.union=function(r){if(Is(r)&&!ri(r))return r.union(this);var a=new Set(this);return a.union(r)},e.difference=function(r){return new Set(this).difference(r)},e.symmetricDifference=function(r){if(Is(r)&&!ri(r))return r.symmetricDifference(this);var a=new Set(this);return a.symmetricDifference(r)},e.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},e.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},e.isDisjointFrom=function(r){if(Is(r)&&!ri(r))return r.isDisjointFrom(this);var a=new Set(this);return a.isDisjointFrom(r)},e.replace=function(r){var a=this;return ri(r)&&(r=new Set(r)),Ds(function(){Array.isArray(r)?(a.clear(),r.forEach(function(o){return a.add(o)})):Is(r)?(a.clear(),r.forEach(function(o){return a.add(o)})):r!=null&&pt("Cannot initialize set from "+r)}),this},e.observe_=function(r,a){return Sh(this,r)},e.intercept_=function(r){return Th(this,r)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},bu(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),ri=qa("ObservableSet",_2);function Nb(t){return t[Symbol.toStringTag]="SetIterator",iy(t)}var Pb=Object.create(null),Mb="remove",g2=function(){function t(n,r,a,o){r===void 0&&(r=new Map),o===void 0&&(o=sI),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=a,this.defaultAnnotation_=o,this.keysAtom_=new Ha("ObservableObject.keys"),this.isPlainObject_=Vs(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(r){return this.values_.get(r).get()},e.setObservablePropValue_=function(r,a){var o=this.values_.get(r);if(o instanceof li)return o.set(a),!0;if(Fr(this)){var u=qr(this,{type:Li,object:this.proxy_||this.target_,name:r,newValue:a});if(!u)return null;a=u.newValue}if(a=o.prepareNewValue_(a),a!==pe.UNCHANGED){var h=si(this),d=!1,m=h||d?{type:Li,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:o.value_,name:r,newValue:a}:null;o.setNewValue_(a),h&&ai(this,m)}return!0},e.get_=function(r){return pe.trackingDerivation&&!Ms(this.target_,r)&&this.has_(r),this.target_[r]},e.set_=function(r,a,o){return o===void 0&&(o=!1),Ms(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,a):o?Reflect.set(this.target_,r,a):(this.target_[r]=a,!0):this.extend_(r,{value:a,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,o)},e.has_=function(r){if(!pe.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var a=this.pendingKeys_.get(r);return a||(a=new Ia(r in this.target_,Dp,"ObservableObject.key?",!1),this.pendingKeys_.set(r,a)),a.get()},e.make_=function(r,a){if(a===!0&&(a=this.defaultAnnotation_),a!==!1){if(!(r in this.target_)){var o;if((o=this.target_[Pi])!=null&&o[r])return;pt(1,a.annotationType_,this.name_+"."+r.toString())}for(var u=this.target_;u&&u!==gh;){var h=Hd(u,r);if(h){var d=a.make_(this,r,h,u);if(d===0)return;if(d===1)break}u=Object.getPrototypeOf(u)}Lb(this,a,r)}},e.extend_=function(r,a,o,u){if(u===void 0&&(u=!1),o===!0&&(o=this.defaultAnnotation_),o===!1)return this.defineProperty_(r,a,u);var h=o.extend_(this,r,a,u);return h&&Lb(this,o,r),h},e.defineProperty_=function(r,a,o){o===void 0&&(o=!1),this.keysAtom_;try{Hr();var u=this.delete_(r);if(!u)return u;if(Fr(this)){var h=qr(this,{object:this.proxy_||this.target_,name:r,type:Ca,newValue:a.value});if(!h)return null;var d=h.newValue;a.value!==d&&(a=jo({},a,{value:d}))}if(o){if(!Reflect.defineProperty(this.target_,r,a))return!1}else Mi(this.target_,r,a);this.notifyPropertyAddition_(r,a.value)}finally{$r()}return!0},e.defineObservableProperty_=function(r,a,o,u){u===void 0&&(u=!1),this.keysAtom_;try{Hr();var h=this.delete_(r);if(!h)return h;if(Fr(this)){var d=qr(this,{object:this.proxy_||this.target_,name:r,type:Ca,newValue:a});if(!d)return null;a=d.newValue}var m=kb(r),g={configurable:pe.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:m.get,set:m.set};if(u){if(!Reflect.defineProperty(this.target_,r,g))return!1}else Mi(this.target_,r,g);var y=new Ia(a,o,"ObservableObject.key",!1);this.values_.set(r,y),this.notifyPropertyAddition_(r,y.value_)}finally{$r()}return!0},e.defineComputedProperty_=function(r,a,o){o===void 0&&(o=!1),this.keysAtom_;try{Hr();var u=this.delete_(r);if(!u)return u;if(Fr(this)){var h=qr(this,{object:this.proxy_||this.target_,name:r,type:Ca,newValue:void 0});if(!h)return null}a.name||(a.name="ObservableObject.key"),a.context=this.proxy_||this.target_;var d=kb(r),m={configurable:pe.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:d.get,set:d.set};if(o){if(!Reflect.defineProperty(this.target_,r,m))return!1}else Mi(this.target_,r,m);this.values_.set(r,new li(a)),this.notifyPropertyAddition_(r,void 0)}finally{$r()}return!0},e.delete_=function(r,a){if(a===void 0&&(a=!1),this.keysAtom_,!Ms(this.target_,r))return!0;if(Fr(this)){var o=qr(this,{object:this.proxy_||this.target_,name:r,type:Mb});if(!o)return null}try{var u;Hr();var h=si(this),d=!1,m=this.values_.get(r),g=void 0;if(!m&&(h||d)){var y;g=(y=Hd(this.target_,r))==null?void 0:y.value}if(a){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(m&&(this.values_.delete(r),m instanceof Ia&&(g=m.value_),e2(m)),this.keysAtom_.reportChanged(),(u=this.pendingKeys_)==null||(u=u.get(r))==null||u.set(r in this.target_),h||d){var w={type:Mb,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:g,name:r};h&&ai(this,w)}}finally{$r()}return!0},e.observe_=function(r,a){return Sh(this,r)},e.intercept_=function(r){return Th(this,r)},e.notifyPropertyAddition_=function(r,a){var o,u=si(this),h=!1;if(u||h){var d=u||h?{type:Ca,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:a}:null;u&&ai(this,d)}(o=this.pendingKeys_)==null||(o=o.get(r))==null||o.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),lu(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function Wo(t,e){var n;if(Ms(t,Ue))return t;var r=(n=e==null?void 0:e.name)!=null?n:"ObservableObject",a=new g2(t,new Map,String(r),_I(e));return vh(t,Ue,a),t}var c9=qa("ObservableObjectAdministration",g2);function kb(t){return Pb[t]||(Pb[t]={get:function(){return this[Ue].getObservablePropValue_(t)},set:function(n){return this[Ue].setObservablePropValue_(t,n)}})}function Rh(t){return Ip(t)?c9(t[Ue]):!1}function Lb(t,e,n){var r;(r=t.target_[Pi])==null||delete r[n]}var h9=y2(0),f9=function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1}(),vg=0,v2=function(){};function d9(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}d9(v2,Array.prototype);var ry=function(t){function e(r,a,o,u){var h;return o===void 0&&(o="ObservableArray"),u===void 0&&(u=!1),h=t.call(this)||this,Ga(function(){var d=new ny(o,a,u,!0);d.proxy_=h,MS(h,Ue,d),r&&r.length&&h.spliceWithArray(0,0,r),f9&&Object.defineProperty(h,"0",h9)}),h}VS(e,t);var n=e.prototype;return n.concat=function(){this[Ue].atom_.reportObserved();for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return Array.prototype.concat.apply(this.slice(),o.map(function(h){return Ah(h)?h.slice():h}))},n[Symbol.iterator]=function(){var r=this,a=0;return iy({next:function(){return a<r.length?{value:r[a++],done:!1}:{done:!0,value:void 0}}})},bu(e,[{key:"length",get:function(){return this[Ue].getArrayLength_()},set:function(a){this[Ue].setArrayLength_(a)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(v2);Object.entries(Xd).forEach(function(t){var e=t[0],n=t[1];e!=="concat"&&vh(ry.prototype,e,n)});function y2(t){return{enumerable:!1,configurable:!0,get:function(){return this[Ue].get_(t)},set:function(n){this[Ue].set_(t,n)}}}function p9(t){Mi(ry.prototype,""+t,y2(t))}function E2(t){if(t>vg){for(var e=vg;e<t+100;e++)p9(e);vg=t}}E2(1e3);function m9(t,e,n){return new ry(t,e,n)}function Zd(t,e){if(typeof t=="object"&&t!==null){if(Ah(t))return e!==void 0&&pt(23),t[Ue].atom_;if(ri(t))return t.atom_;if($a(t)){if(e===void 0)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||pt(25,e,cv(t)),n}if(Rh(t)){if(!e)return pt(26);var r=t[Ue].values_.get(e);return r||pt(27,e,cv(t)),r}if(Zv(t)||wh(t)||Yd(t))return t}else if(oi(t)&&Yd(t[Ue]))return t[Ue];pt(28)}function _9(t,e){if(t||pt(29),Zv(t)||wh(t)||Yd(t)||$a(t)||ri(t))return t;if(t[Ue])return t[Ue];pt(24,t)}function cv(t,e){var n;if(e!==void 0)n=Zd(t,e);else{if(eh(t))return t.name;Rh(t)||$a(t)||ri(t)?n=_9(t):n=Zd(t)}return n.name_}function Ga(t){var e=Xo(),n=Np(!0);Hr();try{return t()}finally{$r(),Pp(n),ks(e)}}var Vb=gh.toString;function b2(t,e,n){return n===void 0&&(n=-1),hv(t,e,n)}function hv(t,e,n,r,a){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var o=typeof t;if(o!=="function"&&o!=="object"&&typeof e!="object")return!1;var u=Vb.call(t);if(u!==Vb.call(e))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++;break}t=Ub(t),e=Ub(e);var h=u==="[object Array]";if(!h){if(typeof t!="object"||typeof e!="object")return!1;var d=t.constructor,m=e.constructor;if(d!==m&&!(oi(d)&&d instanceof d&&oi(m)&&m instanceof m)&&"constructor"in t&&"constructor"in e)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],a=a||[];for(var g=r.length;g--;)if(r[g]===t)return a[g]===e;if(r.push(t),a.push(e),h){if(g=t.length,g!==e.length)return!1;for(;g--;)if(!hv(t[g],e[g],n-1,r,a))return!1}else{var y=Object.keys(t),w=y.length;if(Object.keys(e).length!==w)return!1;for(var T=0;T<w;T++){var S=y[T];if(!(Ms(e,S)&&hv(t[S],e[S],n-1,r,a)))return!1}}return r.pop(),a.pop(),!0}function Ub(t){return Ah(t)?t.slice():Eu(t)||$a(t)||Is(t)||ri(t)?Array.from(t.entries()):t}var jb,g9=((jb=Op().Iterator)==null?void 0:jb.prototype)||{};function iy(t){return t[Symbol.iterator]=v9,Object.assign(Object.create(g9),t)}function v9(){return this}["Symbol","Map","Set"].forEach(function(t){var e=Op();typeof e[t]>"u"&&pt("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:kI,extras:{getDebugName:cv},$mobx:Ue});c2({useProxies:"always",computedRequiresReaction:!0,reactionRequiresObservable:!0,observableRequiresReaction:!0});var yg={exports:{}},Qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bb;function y9(){if(Bb)return Qe;Bb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=y&&j[y]||j["@@iterator"],typeof j=="function"?j:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,P={};function O(j,ce,be){this.props=j,this.context=ce,this.refs=P,this.updater=be||T}O.prototype.isReactComponent={},O.prototype.setState=function(j,ce){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ce,"setState")},O.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function U(){}U.prototype=O.prototype;function H(j,ce,be){this.props=j,this.context=ce,this.refs=P,this.updater=be||T}var Q=H.prototype=new U;Q.constructor=H,S(Q,O.prototype),Q.isPureReactComponent=!0;var ee=Array.isArray,k={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function M(j,ce,be,_e,Ee,je){return be=je.ref,{$$typeof:t,type:j,key:ce,ref:be!==void 0?be:null,props:je}}function I(j,ce){return M(j.type,ce,void 0,void 0,void 0,j.props)}function C(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function N(j){var ce={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(be){return ce[be]})}var B=/\/+/g;function $(j,ce){return typeof j=="object"&&j!==null&&j.key!=null?N(""+j.key):ce.toString(36)}function L(){}function mt(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(L,L):(j.status="pending",j.then(function(ce){j.status==="pending"&&(j.status="fulfilled",j.value=ce)},function(ce){j.status==="pending"&&(j.status="rejected",j.reason=ce)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Ke(j,ce,be,_e,Ee){var je=typeof j;(je==="undefined"||je==="boolean")&&(j=null);var $e=!1;if(j===null)$e=!0;else switch(je){case"bigint":case"string":case"number":$e=!0;break;case"object":switch(j.$$typeof){case t:case e:$e=!0;break;case g:return $e=j._init,Ke($e(j._payload),ce,be,_e,Ee)}}if($e)return Ee=Ee(j),$e=_e===""?"."+$(j,0):_e,ee(Ee)?(be="",$e!=null&&(be=$e.replace(B,"$&/")+"/"),Ke(Ee,ce,be,"",function(et){return et})):Ee!=null&&(C(Ee)&&(Ee=I(Ee,be+(Ee.key==null||j&&j.key===Ee.key?"":(""+Ee.key).replace(B,"$&/")+"/")+$e)),ce.push(Ee)),1;$e=0;var Ft=_e===""?".":_e+":";if(ee(j))for(var ut=0;ut<j.length;ut++)_e=j[ut],je=Ft+$(_e,ut),$e+=Ke(_e,ce,be,je,Ee);else if(ut=w(j),typeof ut=="function")for(j=ut.call(j),ut=0;!(_e=j.next()).done;)_e=_e.value,je=Ft+$(_e,ut++),$e+=Ke(_e,ce,be,je,Ee);else if(je==="object"){if(typeof j.then=="function")return Ke(mt(j),ce,be,_e,Ee);throw ce=String(j),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return $e}function he(j,ce,be){if(j==null)return j;var _e=[],Ee=0;return Ke(j,_e,"","",function(je){return ce.call(be,je,Ee++)}),_e}function Me(j){if(j._status===-1){var ce=j._result;ce=ce(),ce.then(function(be){(j._status===0||j._status===-1)&&(j._status=1,j._result=be)},function(be){(j._status===0||j._status===-1)&&(j._status=2,j._result=be)}),j._status===-1&&(j._status=0,j._result=ce)}if(j._status===1)return j._result.default;throw j._result}var Re=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function Ye(){}return Qe.Children={map:he,forEach:function(j,ce,be){he(j,function(){ce.apply(this,arguments)},be)},count:function(j){var ce=0;return he(j,function(){ce++}),ce},toArray:function(j){return he(j,function(ce){return ce})||[]},only:function(j){if(!C(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Qe.Component=O,Qe.Fragment=n,Qe.Profiler=a,Qe.PureComponent=H,Qe.StrictMode=r,Qe.Suspense=d,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Qe.act=function(){throw Error("act(...) is not supported in production builds of React.")},Qe.cache=function(j){return function(){return j.apply(null,arguments)}},Qe.cloneElement=function(j,ce,be){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var _e=S({},j.props),Ee=j.key,je=void 0;if(ce!=null)for($e in ce.ref!==void 0&&(je=void 0),ce.key!==void 0&&(Ee=""+ce.key),ce)!ie.call(ce,$e)||$e==="key"||$e==="__self"||$e==="__source"||$e==="ref"&&ce.ref===void 0||(_e[$e]=ce[$e]);var $e=arguments.length-2;if($e===1)_e.children=be;else if(1<$e){for(var Ft=Array($e),ut=0;ut<$e;ut++)Ft[ut]=arguments[ut+2];_e.children=Ft}return M(j.type,Ee,void 0,void 0,je,_e)},Qe.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},Qe.createElement=function(j,ce,be){var _e,Ee={},je=null;if(ce!=null)for(_e in ce.key!==void 0&&(je=""+ce.key),ce)ie.call(ce,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(Ee[_e]=ce[_e]);var $e=arguments.length-2;if($e===1)Ee.children=be;else if(1<$e){for(var Ft=Array($e),ut=0;ut<$e;ut++)Ft[ut]=arguments[ut+2];Ee.children=Ft}if(j&&j.defaultProps)for(_e in $e=j.defaultProps,$e)Ee[_e]===void 0&&(Ee[_e]=$e[_e]);return M(j,je,void 0,void 0,null,Ee)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(j){return{$$typeof:h,render:j}},Qe.isValidElement=C,Qe.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:Me}},Qe.memo=function(j,ce){return{$$typeof:m,type:j,compare:ce===void 0?null:ce}},Qe.startTransition=function(j){var ce=k.T,be={};k.T=be;try{var _e=j(),Ee=k.S;Ee!==null&&Ee(be,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(Ye,Re)}catch(je){Re(je)}finally{k.T=ce}},Qe.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Qe.use=function(j){return k.H.use(j)},Qe.useActionState=function(j,ce,be){return k.H.useActionState(j,ce,be)},Qe.useCallback=function(j,ce){return k.H.useCallback(j,ce)},Qe.useContext=function(j){return k.H.useContext(j)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(j,ce){return k.H.useDeferredValue(j,ce)},Qe.useEffect=function(j,ce){return k.H.useEffect(j,ce)},Qe.useId=function(){return k.H.useId()},Qe.useImperativeHandle=function(j,ce,be){return k.H.useImperativeHandle(j,ce,be)},Qe.useInsertionEffect=function(j,ce){return k.H.useInsertionEffect(j,ce)},Qe.useLayoutEffect=function(j,ce){return k.H.useLayoutEffect(j,ce)},Qe.useMemo=function(j,ce){return k.H.useMemo(j,ce)},Qe.useOptimistic=function(j,ce){return k.H.useOptimistic(j,ce)},Qe.useReducer=function(j,ce,be){return k.H.useReducer(j,ce,be)},Qe.useRef=function(j){return k.H.useRef(j)},Qe.useState=function(j){return k.H.useState(j)},Qe.useSyncExternalStore=function(j,ce,be){return k.H.useSyncExternalStore(j,ce,be)},Qe.useTransition=function(){return k.H.useTransition()},Qe.version="19.0.0",Qe}var zb;function Mp(){return zb||(zb=1,yg.exports=y9()),yg.exports}var q=Mp();const Jd=IS(q);var Eg={exports:{}},Ac={},bg={exports:{}},wg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fb;function E9(){return Fb||(Fb=1,function(t){function e(he,Me){var Re=he.length;he.push(Me);e:for(;0<Re;){var Ye=Re-1>>>1,j=he[Ye];if(0<a(j,Me))he[Ye]=Me,he[Re]=j,Re=Ye;else break e}}function n(he){return he.length===0?null:he[0]}function r(he){if(he.length===0)return null;var Me=he[0],Re=he.pop();if(Re!==Me){he[0]=Re;e:for(var Ye=0,j=he.length,ce=j>>>1;Ye<ce;){var be=2*(Ye+1)-1,_e=he[be],Ee=be+1,je=he[Ee];if(0>a(_e,Re))Ee<j&&0>a(je,_e)?(he[Ye]=je,he[Ee]=Re,Ye=Ee):(he[Ye]=_e,he[be]=Re,Ye=be);else if(Ee<j&&0>a(je,Re))he[Ye]=je,he[Ee]=Re,Ye=Ee;else break e}}return Me}function a(he,Me){var Re=he.sortIndex-Me.sortIndex;return Re!==0?Re:he.id-Me.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],m=[],g=1,y=null,w=3,T=!1,S=!1,P=!1,O=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function Q(he){for(var Me=n(m);Me!==null;){if(Me.callback===null)r(m);else if(Me.startTime<=he)r(m),Me.sortIndex=Me.expirationTime,e(d,Me);else break;Me=n(m)}}function ee(he){if(P=!1,Q(he),!S)if(n(d)!==null)S=!0,mt();else{var Me=n(m);Me!==null&&Ke(ee,Me.startTime-he)}}var k=!1,ie=-1,M=5,I=-1;function C(){return!(t.unstable_now()-I<M)}function N(){if(k){var he=t.unstable_now();I=he;var Me=!0;try{e:{S=!1,P&&(P=!1,U(ie),ie=-1),T=!0;var Re=w;try{t:{for(Q(he),y=n(d);y!==null&&!(y.expirationTime>he&&C());){var Ye=y.callback;if(typeof Ye=="function"){y.callback=null,w=y.priorityLevel;var j=Ye(y.expirationTime<=he);if(he=t.unstable_now(),typeof j=="function"){y.callback=j,Q(he),Me=!0;break t}y===n(d)&&r(d),Q(he)}else r(d);y=n(d)}if(y!==null)Me=!0;else{var ce=n(m);ce!==null&&Ke(ee,ce.startTime-he),Me=!1}}break e}finally{y=null,w=Re,T=!1}Me=void 0}}finally{Me?B():k=!1}}}var B;if(typeof H=="function")B=function(){H(N)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,L=$.port2;$.port1.onmessage=N,B=function(){L.postMessage(null)}}else B=function(){O(N,0)};function mt(){k||(k=!0,B())}function Ke(he,Me){ie=O(function(){he(t.unstable_now())},Me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(he){he.callback=null},t.unstable_continueExecution=function(){S||T||(S=!0,mt())},t.unstable_forceFrameRate=function(he){0>he||125<he?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<he?Math.floor(1e3/he):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(he){switch(w){case 1:case 2:case 3:var Me=3;break;default:Me=w}var Re=w;w=Me;try{return he()}finally{w=Re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(he,Me){switch(he){case 1:case 2:case 3:case 4:case 5:break;default:he=3}var Re=w;w=he;try{return Me()}finally{w=Re}},t.unstable_scheduleCallback=function(he,Me,Re){var Ye=t.unstable_now();switch(typeof Re=="object"&&Re!==null?(Re=Re.delay,Re=typeof Re=="number"&&0<Re?Ye+Re:Ye):Re=Ye,he){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=Re+j,he={id:g++,callback:Me,priorityLevel:he,startTime:Re,expirationTime:j,sortIndex:-1},Re>Ye?(he.sortIndex=Re,e(m,he),n(d)===null&&he===n(m)&&(P?(U(ie),ie=-1):P=!0,Ke(ee,Re-Ye))):(he.sortIndex=j,e(d,he),S||T||(S=!0,mt())),he},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(he){var Me=w;return function(){var Re=w;w=Me;try{return he.apply(this,arguments)}finally{w=Re}}}}(wg)),wg}var qb;function b9(){return qb||(qb=1,bg.exports=E9()),bg.exports}var Tg={exports:{}},Un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hb;function w9(){if(Hb)return Un;Hb=1;var t=Mp();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:d,containerInfo:m,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Un.createPortal=function(d,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(d,m,null,g)},Un.flushSync=function(d){var m=u.T,g=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=m,r.p=g,r.d.f()}},Un.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(d,m))},Un.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Un.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var g=m.as,y=h(g,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:T}):g==="script"&&r.d.X(d,{crossOrigin:y,integrity:w,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Un.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(d)},Un.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=h(g,m.crossOrigin);r.d.L(d,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Un.preloadModule=function(d,m){if(typeof d=="string")if(m){var g=h(m.as,m.crossOrigin);r.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(d)},Un.requestFormReset=function(d){r.d.r(d)},Un.unstable_batchedUpdates=function(d,m){return d(m)},Un.useFormState=function(d,m,g){return u.H.useFormState(d,m,g)},Un.useFormStatus=function(){return u.H.useHostTransitionStatus()},Un.version="19.0.0",Un}var $b;function w2(){if($b)return Tg.exports;$b=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Tg.exports=w9(),Tg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gb;function T9(){if(Gb)return Ac;Gb=1;var t=b9(),e=Mp(),n=w2();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var o=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),T=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),ee=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function ie(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function I(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case d:return"Fragment";case h:return"Portal";case g:return"Profiler";case m:return"StrictMode";case P:return"Suspense";case O:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case T:return(i.displayName||"Context")+".Provider";case w:return(i._context.displayName||"Context")+".Consumer";case S:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case U:return s=i.displayName||null,s!==null?s:I(i.type)||"Memo";case H:s=i._payload,i=i._init;try{return I(i(s))}catch{}}return null}var C=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,B,$;function L(i){if(B===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);B=s&&s[1]||"",$=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+B+i+$}var mt=!1;function Ke(i,s){if(!i||mt)return"";mt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ne){var W=ne}Reflect.construct(i,[],ue)}else{try{ue.call()}catch(ne){W=ne}i.call(ue.prototype)}}else{try{throw Error()}catch(ne){W=ne}(ue=i())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ne){if(ne&&W&&typeof ne.stack=="string")return[ne.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=c.DetermineComponentFrameRoot(),b=_[0],A=_[1];if(b&&A){var x=b.split(`
`),F=A.split(`
`);for(p=c=0;c<x.length&&!x[c].includes("DetermineComponentFrameRoot");)c++;for(;p<F.length&&!F[p].includes("DetermineComponentFrameRoot");)p++;if(c===x.length||p===F.length)for(c=x.length-1,p=F.length-1;1<=c&&0<=p&&x[c]!==F[p];)p--;for(;1<=c&&0<=p;c--,p--)if(x[c]!==F[p]){if(c!==1||p!==1)do if(c--,p--,0>p||x[c]!==F[p]){var re=`
`+x[c].replace(" at new "," at ");return i.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",i.displayName)),re}while(1<=c&&0<=p);break}}}finally{mt=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?L(l):""}function he(i){switch(i.tag){case 26:case 27:case 5:return L(i.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 15:return i=Ke(i.type,!1),i;case 11:return i=Ke(i.type.render,!1),i;case 1:return i=Ke(i.type,!0),i;default:return""}}function Me(i){try{var s="";do s+=he(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Re(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function Ye(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function j(i){if(Re(i)!==i)throw Error(r(188))}function ce(i){var s=i.alternate;if(!s){if(s=Re(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,c=s;;){var p=l.return;if(p===null)break;var _=p.alternate;if(_===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===_.child){for(_=p.child;_;){if(_===l)return j(p),i;if(_===c)return j(p),s;_=_.sibling}throw Error(r(188))}if(l.return!==c.return)l=p,c=_;else{for(var b=!1,A=p.child;A;){if(A===l){b=!0,l=p,c=_;break}if(A===c){b=!0,c=p,l=_;break}A=A.sibling}if(!b){for(A=_.child;A;){if(A===l){b=!0,l=_,c=p;break}if(A===c){b=!0,c=_,l=p;break}A=A.sibling}if(!b)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function be(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=be(i),s!==null)return s;i=i.sibling}return null}var _e=Array.isArray,Ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,je={pending:!1,data:null,method:null,action:null},$e=[],Ft=-1;function ut(i){return{current:i}}function et(i){0>Ft||(i.current=$e[Ft],$e[Ft]=null,Ft--)}function rt(i,s){Ft++,$e[Ft]=i.current,i.current=s}var pn=ut(null),Qr=ut(null),Zt=ut(null),di=ut(null);function pi(i,s){switch(rt(Zt,s),rt(Qr,i),rt(pn,null),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?ZE(s):0;break;default:if(i=i===8?s.parentNode:s,s=i.tagName,i=i.namespaceURI)i=ZE(i),s=JE(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}et(pn),rt(pn,s)}function wr(){et(pn),et(Qr),et(Zt)}function Za(i){i.memoizedState!==null&&rt(di,i);var s=pn.current,l=JE(s,i.type);s!==l&&(rt(Qr,i),rt(pn,l))}function qs(i){Qr.current===i&&(et(pn),et(Qr)),di.current===i&&(et(di),yc._currentValue=je)}var Hs=Object.prototype.hasOwnProperty,Ji=t.unstable_scheduleCallback,Zn=t.unstable_cancelCallback,es=t.unstable_shouldYield,$s=t.unstable_requestPaint,mn=t.unstable_now,sr=t.unstable_getCurrentPriorityLevel,Rt=t.unstable_ImmediatePriority,Qt=t.unstable_UserBlockingPriority,ar=t.unstable_NormalPriority,il=t.unstable_LowPriority,Jn=t.unstable_IdlePriority,sl=t.log,mi=t.unstable_setDisableYieldValue,Yr=null,_n=null;function Gs(i){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(Yr,i,void 0,(i.current.flags&128)===128)}catch{}}function $n(i){if(typeof sl=="function"&&mi(i),_n&&typeof _n.setStrictMode=="function")try{_n.setStrictMode(Yr,i)}catch{}}var gn=Math.clz32?Math.clz32:Ja,ts=Math.log,al=Math.LN2;function Ja(i){return i>>>=0,i===0?32:31-(ts(i)/al|0)|0}var Tr=128,Xr=4194304;function Ln(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Rn(i,s){var l=i.pendingLanes;if(l===0)return 0;var c=0,p=i.suspendedLanes,_=i.pingedLanes,b=i.warmLanes;i=i.finishedLanes!==0;var A=l&134217727;return A!==0?(l=A&~p,l!==0?c=Ln(l):(_&=A,_!==0?c=Ln(_):i||(b=A&~b,b!==0&&(c=Ln(b))))):(A=l&~p,A!==0?c=Ln(A):_!==0?c=Ln(_):i||(b=l&~b,b!==0&&(c=Ln(b)))),c===0?0:s!==0&&s!==c&&(s&p)===0&&(p=c&-c,b=s&-s,p>=b||p===32&&(b&4194176)!==0)?s:c}function _i(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Ks(i,s){switch(i){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V(){var i=Tr;return Tr<<=1,(Tr&4194176)===0&&(Tr=128),i}function G(){var i=Xr;return Xr<<=1,(Xr&62914560)===0&&(Xr=4194304),i}function Z(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function ae(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function me(i,s,l,c,p,_){var b=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var A=i.entanglements,x=i.expirationTimes,F=i.hiddenUpdates;for(l=b&~l;0<l;){var re=31-gn(l),ue=1<<re;A[re]=0,x[re]=-1;var W=F[re];if(W!==null)for(F[re]=null,re=0;re<W.length;re++){var ne=W[re];ne!==null&&(ne.lane&=-536870913)}l&=~ue}c!==0&&xe(i,c,0),_!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=_&~(b&~s))}function xe(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-gn(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194218}function De(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var c=31-gn(l),p=1<<c;p&s|i[c]&s&&(i[c]|=s),l&=~p}}function Ce(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Oe(){var i=Ee.p;return i!==0?i:(i=window.event,i===void 0?32:gb(i.type))}function ve(i,s){var l=Ee.p;try{return Ee.p=i,s()}finally{Ee.p=l}}var Te=Math.random().toString(36).slice(2),Se="__reactFiber$"+Te,ke="__reactProps$"+Te,gt="__reactContainer$"+Te,Ut="__reactEvents$"+Te,It="__reactListeners$"+Te,_t="__reactHandles$"+Te,Lt="__reactResources$"+Te,Gn="__reactMarker$"+Te;function or(i){delete i[Se],delete i[ke],delete i[Ut],delete i[It],delete i[_t]}function Yt(i){var s=i[Se];if(s)return s;for(var l=i.parentNode;l;){if(s=l[gt]||l[Se]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=nb(i);i!==null;){if(l=i[Se])return l;i=nb(i)}return s}i=l,l=i.parentNode}return null}function Jt(i){if(i=i[Se]||i[gt]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Sr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function er(i){var s=i[Lt];return s||(s=i[Lt]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function wt(i){i[Gn]=!0}var gi=new Set,Wr={};function Xe(i,s){Tt(i,s),Tt(i+"Capture",s)}function Tt(i,s){for(Wr[i]=s,i=0;i<s.length;i++)gi.add(s[i])}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ns=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xt={},Ar={};function eo(i){return Hs.call(Ar,i)?!0:Hs.call(xt,i)?!1:ns.test(i)?Ar[i]=!0:(xt[i]=!0,!1)}function vi(i,s,l){if(eo(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function Qs(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function Rr(i,s,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+c)}}function Kn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function $h(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ym(i){var s=$h(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),c=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,_=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(b){c=""+b,_.call(this,b)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function to(i){i._valueTracker||(i._valueTracker=ym(i))}function Iu(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return i&&(c=$h(i)?i.checked?"true":"false":i.value),i=c,i!==l?(s.setValue(i),!0):!1}function ol(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var rs=/[\n"\\]/g;function qt(i){return i.replace(rs,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ys(i,s,l,c,p,_,b,A){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),s!=null?b==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Kn(s)):i.value!==""+Kn(s)&&(i.value=""+Kn(s)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),s!=null?ll(i,b,Kn(s)):l!=null?ll(i,b,Kn(l)):c!=null&&i.removeAttribute("value"),p==null&&_!=null&&(i.defaultChecked=!!_),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+Kn(A):i.removeAttribute("name")}function no(i,s,l,c,p,_,b,A){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),s!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||s!=null))return;l=l!=null?""+Kn(l):"",s=s!=null?""+Kn(s):l,A||s===i.value||(i.value=s),i.defaultValue=s}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function ll(i,s,l){s==="number"&&ol(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function vt(i,s,l,c){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&c&&(i[l].defaultSelected=!0)}else{for(l=""+Kn(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function ro(i,s,l){if(s!=null&&(s=""+Kn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+Kn(l):""}function Xs(i,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(r(92));if(_e(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=Kn(s),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function Cr(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Em=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Du(i,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,l):typeof l!="number"||l===0||Em.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function Gh(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in s)c=s[p],s.hasOwnProperty(p)&&l[p]!==c&&Du(i,p,c)}else for(var _ in s)s.hasOwnProperty(_)&&Du(i,_,s[_])}function xu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yi(i){return wm.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Or=null;function ul(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var is=null,ss=null;function as(i){var s=Jt(i);if(s&&(i=s.stateNode)){var l=i[ke]||null;e:switch(i=s.stateNode,s.type){case"input":if(Ys(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+qt(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==i&&c.form===i.form){var p=c[ke]||null;if(!p)throw Error(r(90));Ys(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===i.form&&Iu(c)}break e;case"textarea":ro(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&vt(i,!!l.multiple,s,!1)}}}var Nu=!1;function Kh(i,s,l){if(Nu)return i(s,l);Nu=!0;try{var c=i(s);return c}finally{if(Nu=!1,(is!==null||ss!==null)&&(jf(),is&&(s=is,i=ss,ss=is=null,as(s),i)))for(s=0;s<i.length;s++)as(i[s])}}function io(i,s){var l=i.stateNode;if(l===null)return null;var c=l[ke]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Ir=!1;if(vn)try{var so={};Object.defineProperty(so,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{Ir=!1}var Ei=null,Ws=null,os=null;function Pu(){if(os)return os;var i,s=Ws,l=s.length,c,p="value"in Ei?Ei.value:Ei.textContent,_=p.length;for(i=0;i<l&&s[i]===p[i];i++);var b=l-i;for(c=1;c<=b&&s[l-c]===p[_-c];c++);return os=p.slice(i,1<c?1-c:void 0)}function bi(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function wi(){return!0}function Mu(){return!1}function yn(i){function s(l,c,p,_,b){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=_,this.target=b,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(l=i[A],this[A]=l?l(_):_[A]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?wi:Mu,this.isPropagationStopped=Mu,this}return N(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),s}var At={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cl=yn(At),ao=N({},At,{view:0,detail:0}),Qh=yn(ao),hl,fl,Ti,oo=N({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:co,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ti&&(Ti&&i.type==="mousemove"?(hl=i.screenX-Ti.screenX,fl=i.screenY-Ti.screenY):fl=hl=0,Ti=i),hl)},movementY:function(i){return"movementY"in i?i.movementY:fl}}),Dr=yn(oo),Yh=N({},oo,{dataTransfer:0}),Tm=yn(Yh),lo=N({},ao,{relatedTarget:0}),dl=yn(lo),ku=N({},At,{animationName:0,elapsedTime:0,pseudoElement:0}),pl=yn(ku),Xh=N({},At,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ml=yn(Xh),Sm=N({},At,{data:0}),Lu=yn(Sm),uo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Zh[i])?!!s[i]:!1}function co(){return Vu}var Jh=N({},ao,{key:function(i){if(i.key){var s=uo[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=bi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Wh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:co,charCode:function(i){return i.type==="keypress"?bi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?bi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),_l=yn(Jh),ef=N({},oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uu=yn(ef),ls=N({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:co}),tf=yn(ls),nf=N({},At,{propertyName:0,elapsedTime:0,pseudoElement:0}),rf=yn(nf),sf=N({},oo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),gl=yn(sf),Qn=N({},At,{newState:0,oldState:0}),af=yn(Qn),of=[9,13,27,32],Si=vn&&"CompositionEvent"in window,f=null;vn&&"documentMode"in document&&(f=document.documentMode);var v=vn&&"TextEvent"in window&&!f,E=vn&&(!Si||f&&8<f&&11>=f),R=" ",Y=!1;function J(i,s){switch(i){case"keyup":return of.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ct=!1;function un(i,s){switch(i){case"compositionend":return fe(s);case"keypress":return s.which!==32?null:(Y=!0,R);case"textInput":return i=s.data,i===R&&Y?null:i;default:return null}}function ht(i,s){if(ct)return i==="compositionend"||!Si&&J(i,s)?(i=Pu(),os=Ws=Ei=null,ct=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var En={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cn(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!En[i.type]:s==="textarea"}function us(i,s,l,c){is?ss?ss.push(c):ss=[c]:is=c,s=Hf(s,"onChange"),0<s.length&&(l=new cl("onChange","change",null,l,c),i.push({event:l,listeners:s}))}var Cn=null,Ai=null;function ju(i){KE(i,0)}function lf(i){var s=Sr(i);if(Iu(s))return i}function w0(i,s){if(i==="change")return s}var T0=!1;if(vn){var Am;if(vn){var Rm="oninput"in document;if(!Rm){var S0=document.createElement("div");S0.setAttribute("oninput","return;"),Rm=typeof S0.oninput=="function"}Am=Rm}else Am=!1;T0=Am&&(!document.documentMode||9<document.documentMode)}function A0(){Cn&&(Cn.detachEvent("onpropertychange",R0),Ai=Cn=null)}function R0(i){if(i.propertyName==="value"&&lf(Ai)){var s=[];us(s,Ai,i,ul(i)),Kh(ju,s)}}function WC(i,s,l){i==="focusin"?(A0(),Cn=s,Ai=l,Cn.attachEvent("onpropertychange",R0)):i==="focusout"&&A0()}function ZC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return lf(Ai)}function JC(i,s){if(i==="click")return lf(s)}function e4(i,s){if(i==="input"||i==="change")return lf(s)}function t4(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var lr=typeof Object.is=="function"?Object.is:t4;function Bu(i,s){if(lr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!Hs.call(s,p)||!lr(i[p],s[p]))return!1}return!0}function C0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function O0(i,s){var l=C0(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=s&&c>=s)return{node:l,offset:s-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=C0(l)}}function I0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?I0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function D0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ol(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=ol(i.document)}return s}function Cm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function n4(i,s){var l=D0(s);s=i.focusedElem;var c=i.selectionRange;if(l!==s&&s&&s.ownerDocument&&I0(s.ownerDocument.documentElement,s)){if(c!==null&&Cm(s)){if(i=c.start,l=c.end,l===void 0&&(l=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(l,s.value.length);else if(l=(i=s.ownerDocument||document)&&i.defaultView||window,l.getSelection){l=l.getSelection();var p=s.textContent.length,_=Math.min(c.start,p);c=c.end===void 0?_:Math.min(c.end,p),!l.extend&&_>c&&(p=c,c=_,_=p),p=O0(s,_);var b=O0(s,c);p&&b&&(l.rangeCount!==1||l.anchorNode!==p.node||l.anchorOffset!==p.offset||l.focusNode!==b.node||l.focusOffset!==b.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),l.removeAllRanges(),_>c?(l.addRange(i),l.extend(b.node,b.offset)):(i.setEnd(b.node,b.offset),l.addRange(i)))}}for(i=[],l=s;l=l.parentNode;)l.nodeType===1&&i.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)l=i[s],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var r4=vn&&"documentMode"in document&&11>=document.documentMode,vl=null,Om=null,zu=null,Im=!1;function x0(i,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Im||vl==null||vl!==ol(c)||(c=vl,"selectionStart"in c&&Cm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),zu&&Bu(zu,c)||(zu=c,c=Hf(Om,"onSelect"),0<c.length&&(s=new cl("onSelect","select",null,s,l),i.push({event:s,listeners:c}),s.target=vl)))}function ho(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var yl={animationend:ho("Animation","AnimationEnd"),animationiteration:ho("Animation","AnimationIteration"),animationstart:ho("Animation","AnimationStart"),transitionrun:ho("Transition","TransitionRun"),transitionstart:ho("Transition","TransitionStart"),transitioncancel:ho("Transition","TransitionCancel"),transitionend:ho("Transition","TransitionEnd")},Dm={},N0={};vn&&(N0=document.createElement("div").style,"AnimationEvent"in window||(delete yl.animationend.animation,delete yl.animationiteration.animation,delete yl.animationstart.animation),"TransitionEvent"in window||delete yl.transitionend.transition);function fo(i){if(Dm[i])return Dm[i];if(!yl[i])return i;var s=yl[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in N0)return Dm[i]=s[l];return i}var P0=fo("animationend"),M0=fo("animationiteration"),k0=fo("animationstart"),i4=fo("transitionrun"),s4=fo("transitionstart"),a4=fo("transitioncancel"),L0=fo("transitionend"),V0=new Map,U0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Zr(i,s){V0.set(i,s),Xe(s,[i])}var xr=[],El=0,xm=0;function uf(){for(var i=El,s=xm=El=0;s<i;){var l=xr[s];xr[s++]=null;var c=xr[s];xr[s++]=null;var p=xr[s];xr[s++]=null;var _=xr[s];if(xr[s++]=null,c!==null&&p!==null){var b=c.pending;b===null?p.next=p:(p.next=b.next,b.next=p),c.pending=p}_!==0&&j0(l,p,_)}}function cf(i,s,l,c){xr[El++]=i,xr[El++]=s,xr[El++]=l,xr[El++]=c,xm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Nm(i,s,l,c){return cf(i,s,l,c),hf(i)}function Zs(i,s){return cf(i,null,null,s),hf(i)}function j0(i,s,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var p=!1,_=i.return;_!==null;)_.childLanes|=l,c=_.alternate,c!==null&&(c.childLanes|=l),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(p=!0)),i=_,_=_.return;p&&s!==null&&i.tag===3&&(_=i.stateNode,p=31-gn(l),_=_.hiddenUpdates,i=_[p],i===null?_[p]=[s]:i.push(s),s.lane=l|536870912)}function hf(i){if(50<fc)throw fc=0,U_=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var bl={},B0=new WeakMap;function Nr(i,s){if(typeof i=="object"&&i!==null){var l=B0.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Me(s)},B0.set(i,s),s)}return{value:i,source:s,stack:Me(s)}}var wl=[],Tl=0,ff=null,df=0,Pr=[],Mr=0,po=null,cs=1,hs="";function mo(i,s){wl[Tl++]=df,wl[Tl++]=ff,ff=i,df=s}function z0(i,s,l){Pr[Mr++]=cs,Pr[Mr++]=hs,Pr[Mr++]=po,po=i;var c=cs;i=hs;var p=32-gn(c)-1;c&=~(1<<p),l+=1;var _=32-gn(s)+p;if(30<_){var b=p-p%5;_=(c&(1<<b)-1).toString(32),c>>=b,p-=b,cs=1<<32-gn(s)+p|l<<p|c,hs=_+i}else cs=1<<_|l<<p|c,hs=i}function Pm(i){i.return!==null&&(mo(i,1),z0(i,1,0))}function Mm(i){for(;i===ff;)ff=wl[--Tl],wl[Tl]=null,df=wl[--Tl],wl[Tl]=null;for(;i===po;)po=Pr[--Mr],Pr[Mr]=null,hs=Pr[--Mr],Pr[Mr]=null,cs=Pr[--Mr],Pr[Mr]=null}var Yn=null,On=null,yt=!1,Jr=null,Ri=!1,km=Error(r(519));function _o(i){var s=Error(r(418,""));throw Hu(Nr(s,i)),km}function F0(i){var s=i.stateNode,l=i.type,c=i.memoizedProps;switch(s[Se]=i,s[ke]=c,l){case"dialog":at("cancel",s),at("close",s);break;case"iframe":case"object":case"embed":at("load",s);break;case"video":case"audio":for(l=0;l<pc.length;l++)at(pc[l],s);break;case"source":at("error",s);break;case"img":case"image":case"link":at("error",s),at("load",s);break;case"details":at("toggle",s);break;case"input":at("invalid",s),no(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),to(s);break;case"select":at("invalid",s);break;case"textarea":at("invalid",s),Xs(s,c.value,c.defaultValue,c.children),to(s)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||WE(s.textContent,l)?(c.popover!=null&&(at("beforetoggle",s),at("toggle",s)),c.onScroll!=null&&at("scroll",s),c.onScrollEnd!=null&&at("scrollend",s),c.onClick!=null&&(s.onclick=$f),s=!0):s=!1,s||_o(i)}function q0(i){for(Yn=i.return;Yn;)switch(Yn.tag){case 3:case 27:Ri=!0;return;case 5:case 13:Ri=!1;return;default:Yn=Yn.return}}function Fu(i){if(i!==Yn)return!1;if(!yt)return q0(i),yt=!0,!1;var s=!1,l;if((l=i.tag!==3&&i.tag!==27)&&((l=i.tag===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||tg(i.type,i.memoizedProps)),l=!l),l&&(s=!0),s&&On&&_o(i),q0(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){On=ti(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}On=null}}else On=Yn?ti(i.stateNode.nextSibling):null;return!0}function qu(){On=Yn=null,yt=!1}function Hu(i){Jr===null?Jr=[i]:Jr.push(i)}var $u=Error(r(460)),H0=Error(r(474)),Lm={then:function(){}};function $0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function pf(){}function G0(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(pf,pf),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===$u?Error(r(483)):i;default:if(typeof s.status=="string")s.then(pf,pf);else{if(i=Nt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=c}},function(c){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===$u?Error(r(483)):i}throw Gu=s,$u}}var Gu=null;function K0(){if(Gu===null)throw Error(r(459));var i=Gu;return Gu=null,i}var Sl=null,Ku=0;function mf(i){var s=Ku;return Ku+=1,Sl===null&&(Sl=[]),G0(Sl,i,s)}function Qu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function _f(i,s){throw s.$$typeof===o?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Q0(i){var s=i._init;return s(i._payload)}function Y0(i){function s(K,z){if(i){var X=K.deletions;X===null?(K.deletions=[z],K.flags|=16):X.push(z)}}function l(K,z){if(!i)return null;for(;z!==null;)s(K,z),z=z.sibling;return null}function c(K){for(var z=new Map;K!==null;)K.key!==null?z.set(K.key,K):z.set(K.index,K),K=K.sibling;return z}function p(K,z){return K=ca(K,z),K.index=0,K.sibling=null,K}function _(K,z,X){return K.index=X,i?(X=K.alternate,X!==null?(X=X.index,X<z?(K.flags|=33554434,z):X):(K.flags|=33554434,z)):(K.flags|=1048576,z)}function b(K){return i&&K.alternate===null&&(K.flags|=33554434),K}function A(K,z,X,oe){return z===null||z.tag!==6?(z=D_(X,K.mode,oe),z.return=K,z):(z=p(z,X),z.return=K,z)}function x(K,z,X,oe){var Ae=X.type;return Ae===d?re(K,z,X.props.children,oe,X.key):z!==null&&(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===H&&Q0(Ae)===z.type)?(z=p(z,X.props),Qu(z,X),z.return=K,z):(z=Mf(X.type,X.key,X.props,null,K.mode,oe),Qu(z,X),z.return=K,z)}function F(K,z,X,oe){return z===null||z.tag!==4||z.stateNode.containerInfo!==X.containerInfo||z.stateNode.implementation!==X.implementation?(z=x_(X,K.mode,oe),z.return=K,z):(z=p(z,X.children||[]),z.return=K,z)}function re(K,z,X,oe,Ae){return z===null||z.tag!==7?(z=Ro(X,K.mode,oe,Ae),z.return=K,z):(z=p(z,X),z.return=K,z)}function ue(K,z,X){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=D_(""+z,K.mode,X),z.return=K,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case u:return X=Mf(z.type,z.key,z.props,null,K.mode,X),Qu(X,z),X.return=K,X;case h:return z=x_(z,K.mode,X),z.return=K,z;case H:var oe=z._init;return z=oe(z._payload),ue(K,z,X)}if(_e(z)||ie(z))return z=Ro(z,K.mode,X,null),z.return=K,z;if(typeof z.then=="function")return ue(K,mf(z),X);if(z.$$typeof===T)return ue(K,xf(K,z),X);_f(K,z)}return null}function W(K,z,X,oe){var Ae=z!==null?z.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ae!==null?null:A(K,z,""+X,oe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case u:return X.key===Ae?x(K,z,X,oe):null;case h:return X.key===Ae?F(K,z,X,oe):null;case H:return Ae=X._init,X=Ae(X._payload),W(K,z,X,oe)}if(_e(X)||ie(X))return Ae!==null?null:re(K,z,X,oe,null);if(typeof X.then=="function")return W(K,z,mf(X),oe);if(X.$$typeof===T)return W(K,z,xf(K,X),oe);_f(K,X)}return null}function ne(K,z,X,oe,Ae){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return K=K.get(X)||null,A(z,K,""+oe,Ae);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case u:return K=K.get(oe.key===null?X:oe.key)||null,x(z,K,oe,Ae);case h:return K=K.get(oe.key===null?X:oe.key)||null,F(z,K,oe,Ae);case H:var tt=oe._init;return oe=tt(oe._payload),ne(K,z,X,oe,Ae)}if(_e(oe)||ie(oe))return K=K.get(X)||null,re(z,K,oe,Ae,null);if(typeof oe.then=="function")return ne(K,z,X,mf(oe),Ae);if(oe.$$typeof===T)return ne(K,z,X,xf(z,oe),Ae);_f(z,oe)}return null}function Ie(K,z,X,oe){for(var Ae=null,tt=null,Ne=z,Le=z=0,Tn=null;Ne!==null&&Le<X.length;Le++){Ne.index>Le?(Tn=Ne,Ne=null):Tn=Ne.sibling;var Et=W(K,Ne,X[Le],oe);if(Et===null){Ne===null&&(Ne=Tn);break}i&&Ne&&Et.alternate===null&&s(K,Ne),z=_(Et,z,Le),tt===null?Ae=Et:tt.sibling=Et,tt=Et,Ne=Tn}if(Le===X.length)return l(K,Ne),yt&&mo(K,Le),Ae;if(Ne===null){for(;Le<X.length;Le++)Ne=ue(K,X[Le],oe),Ne!==null&&(z=_(Ne,z,Le),tt===null?Ae=Ne:tt.sibling=Ne,tt=Ne);return yt&&mo(K,Le),Ae}for(Ne=c(Ne);Le<X.length;Le++)Tn=ne(Ne,K,Le,X[Le],oe),Tn!==null&&(i&&Tn.alternate!==null&&Ne.delete(Tn.key===null?Le:Tn.key),z=_(Tn,z,Le),tt===null?Ae=Tn:tt.sibling=Tn,tt=Tn);return i&&Ne.forEach(function(ga){return s(K,ga)}),yt&&mo(K,Le),Ae}function He(K,z,X,oe){if(X==null)throw Error(r(151));for(var Ae=null,tt=null,Ne=z,Le=z=0,Tn=null,Et=X.next();Ne!==null&&!Et.done;Le++,Et=X.next()){Ne.index>Le?(Tn=Ne,Ne=null):Tn=Ne.sibling;var ga=W(K,Ne,Et.value,oe);if(ga===null){Ne===null&&(Ne=Tn);break}i&&Ne&&ga.alternate===null&&s(K,Ne),z=_(ga,z,Le),tt===null?Ae=ga:tt.sibling=ga,tt=ga,Ne=Tn}if(Et.done)return l(K,Ne),yt&&mo(K,Le),Ae;if(Ne===null){for(;!Et.done;Le++,Et=X.next())Et=ue(K,Et.value,oe),Et!==null&&(z=_(Et,z,Le),tt===null?Ae=Et:tt.sibling=Et,tt=Et);return yt&&mo(K,Le),Ae}for(Ne=c(Ne);!Et.done;Le++,Et=X.next())Et=ne(Ne,K,Le,Et.value,oe),Et!==null&&(i&&Et.alternate!==null&&Ne.delete(Et.key===null?Le:Et.key),z=_(Et,z,Le),tt===null?Ae=Et:tt.sibling=Et,tt=Et);return i&&Ne.forEach(function(EO){return s(K,EO)}),yt&&mo(K,Le),Ae}function Gt(K,z,X,oe){if(typeof X=="object"&&X!==null&&X.type===d&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case u:e:{for(var Ae=X.key;z!==null;){if(z.key===Ae){if(Ae=X.type,Ae===d){if(z.tag===7){l(K,z.sibling),oe=p(z,X.props.children),oe.return=K,K=oe;break e}}else if(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===H&&Q0(Ae)===z.type){l(K,z.sibling),oe=p(z,X.props),Qu(oe,X),oe.return=K,K=oe;break e}l(K,z);break}else s(K,z);z=z.sibling}X.type===d?(oe=Ro(X.props.children,K.mode,oe,X.key),oe.return=K,K=oe):(oe=Mf(X.type,X.key,X.props,null,K.mode,oe),Qu(oe,X),oe.return=K,K=oe)}return b(K);case h:e:{for(Ae=X.key;z!==null;){if(z.key===Ae)if(z.tag===4&&z.stateNode.containerInfo===X.containerInfo&&z.stateNode.implementation===X.implementation){l(K,z.sibling),oe=p(z,X.children||[]),oe.return=K,K=oe;break e}else{l(K,z);break}else s(K,z);z=z.sibling}oe=x_(X,K.mode,oe),oe.return=K,K=oe}return b(K);case H:return Ae=X._init,X=Ae(X._payload),Gt(K,z,X,oe)}if(_e(X))return Ie(K,z,X,oe);if(ie(X)){if(Ae=ie(X),typeof Ae!="function")throw Error(r(150));return X=Ae.call(X),He(K,z,X,oe)}if(typeof X.then=="function")return Gt(K,z,mf(X),oe);if(X.$$typeof===T)return Gt(K,z,xf(K,X),oe);_f(K,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,z!==null&&z.tag===6?(l(K,z.sibling),oe=p(z,X),oe.return=K,K=oe):(l(K,z),oe=D_(X,K.mode,oe),oe.return=K,K=oe),b(K)):l(K,z)}return function(K,z,X,oe){try{Ku=0;var Ae=Gt(K,z,X,oe);return Sl=null,Ae}catch(Ne){if(Ne===$u)throw Ne;var tt=Ur(29,Ne,null,K.mode);return tt.lanes=oe,tt.return=K,tt}finally{}}}var go=Y0(!0),X0=Y0(!1),Al=ut(null),gf=ut(0);function W0(i,s){i=ws,rt(gf,i),rt(Al,s),ws=i|s.baseLanes}function Vm(){rt(gf,ws),rt(Al,Al.current)}function Um(){ws=gf.current,et(Al),et(gf)}var kr=ut(null),Ci=null;function Js(i){var s=i.alternate;rt(hn,hn.current&1),rt(kr,i),Ci===null&&(s===null||Al.current!==null||s.memoizedState!==null)&&(Ci=i)}function Z0(i){if(i.tag===22){if(rt(hn,hn.current),rt(kr,i),Ci===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Ci=i)}}else ea()}function ea(){rt(hn,hn.current),rt(kr,kr.current)}function fs(i){et(kr),Ci===i&&(Ci=null),et(hn)}var hn=ut(0);function vf(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var o4=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},l4=t.unstable_scheduleCallback,u4=t.unstable_NormalPriority,fn={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jm(){return{controller:new o4,data:new Map,refCount:0}}function Yu(i){i.refCount--,i.refCount===0&&l4(u4,function(){i.controller.abort()})}var Xu=null,Bm=0,Rl=0,Cl=null;function c4(i,s){if(Xu===null){var l=Xu=[];Bm=0,Rl=G_(),Cl={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Bm++,s.then(J0,J0),s}function J0(){if(--Bm===0&&Xu!==null){Cl!==null&&(Cl.status="fulfilled");var i=Xu;Xu=null,Rl=0,Cl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function h4(i,s){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var e1=C.S;C.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&c4(i,s),e1!==null&&e1(i,s)};var vo=ut(null);function zm(){var i=vo.current;return i!==null?i:Nt.pooledCache}function yf(i,s){s===null?rt(vo,vo.current):rt(vo,s.pool)}function t1(){var i=zm();return i===null?null:{parent:fn._currentValue,pool:i}}var ta=0,Ze=null,Ct=null,en=null,Ef=!1,Ol=!1,yo=!1,bf=0,Wu=0,Il=null,f4=0;function Xt(){throw Error(r(321))}function Fm(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!lr(i[l],s[l]))return!1;return!0}function qm(i,s,l,c,p,_){return ta=_,Ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,C.H=i===null||i.memoizedState===null?Eo:na,yo=!1,_=l(c,p),yo=!1,Ol&&(_=r1(s,l,c,p)),n1(i),_}function n1(i){C.H=Oi;var s=Ct!==null&&Ct.next!==null;if(ta=0,en=Ct=Ze=null,Ef=!1,Wu=0,Il=null,s)throw Error(r(300));i===null||bn||(i=i.dependencies,i!==null&&Df(i)&&(bn=!0))}function r1(i,s,l,c){Ze=i;var p=0;do{if(Ol&&(Il=null),Wu=0,Ol=!1,25<=p)throw Error(r(301));if(p+=1,en=Ct=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}C.H=bo,_=s(l,c)}while(Ol);return _}function d4(){var i=C.H,s=i.useState()[0];return s=typeof s.then=="function"?Zu(s):s,i=i.useState()[0],(Ct!==null?Ct.memoizedState:null)!==i&&(Ze.flags|=1024),s}function Hm(){var i=bf!==0;return bf=0,i}function $m(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function Gm(i){if(Ef){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Ef=!1}ta=0,en=Ct=Ze=null,Ol=!1,Wu=bf=0,Il=null}function tr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Ze.memoizedState=en=i:en=en.next=i,en}function tn(){if(Ct===null){var i=Ze.alternate;i=i!==null?i.memoizedState:null}else i=Ct.next;var s=en===null?Ze.memoizedState:en.next;if(s!==null)en=s,Ct=i;else{if(i===null)throw Ze.alternate===null?Error(r(467)):Error(r(310));Ct=i,i={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},en===null?Ze.memoizedState=en=i:en=en.next=i}return en}var wf;wf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Zu(i){var s=Wu;return Wu+=1,Il===null&&(Il=[]),i=G0(Il,i,s),s=Ze,(en===null?s.memoizedState:en.next)===null&&(s=s.alternate,C.H=s===null||s.memoizedState===null?Eo:na),i}function Tf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Zu(i);if(i.$$typeof===T)return Vn(i)}throw Error(r(438,String(i)))}function Km(i){var s=null,l=Ze.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=Ze.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=wf(),Ze.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),c=0;c<i;c++)l[c]=ee;return s.index++,l}function ds(i,s){return typeof s=="function"?s(i):s}function Sf(i){var s=tn();return Qm(s,Ct,i)}function Qm(i,s,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var p=i.baseQueue,_=c.pending;if(_!==null){if(p!==null){var b=p.next;p.next=_.next,_.next=b}s.baseQueue=p=_,c.pending=null}if(_=i.baseState,p===null)i.memoizedState=_;else{s=p.next;var A=b=null,x=null,F=s,re=!1;do{var ue=F.lane&-536870913;if(ue!==F.lane?(ft&ue)===ue:(ta&ue)===ue){var W=F.revertLane;if(W===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ue===Rl&&(re=!0);else if((ta&W)===W){F=F.next,W===Rl&&(re=!0);continue}else ue={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(A=x=ue,b=_):x=x.next=ue,Ze.lanes|=W,ha|=W;ue=F.action,yo&&l(_,ue),_=F.hasEagerState?F.eagerState:l(_,ue)}else W={lane:ue,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(A=x=W,b=_):x=x.next=W,Ze.lanes|=ue,ha|=ue;F=F.next}while(F!==null&&F!==s);if(x===null?b=_:x.next=A,!lr(_,i.memoizedState)&&(bn=!0,re&&(l=Cl,l!==null)))throw l;i.memoizedState=_,i.baseState=b,i.baseQueue=x,c.lastRenderedState=_}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Ym(i){var s=tn(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,p=l.pending,_=s.memoizedState;if(p!==null){l.pending=null;var b=p=p.next;do _=i(_,b.action),b=b.next;while(b!==p);lr(_,s.memoizedState)||(bn=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,c]}function i1(i,s,l){var c=Ze,p=tn(),_=yt;if(_){if(l===void 0)throw Error(r(407));l=l()}else l=s();var b=!lr((Ct||p).memoizedState,l);if(b&&(p.memoizedState=l,bn=!0),p=p.queue,Zm(o1.bind(null,c,p,i),[i]),p.getSnapshot!==s||b||en!==null&&en.memoizedState.tag&1){if(c.flags|=2048,Dl(9,a1.bind(null,c,p,l,s),{destroy:void 0},null),Nt===null)throw Error(r(349));_||(ta&60)!==0||s1(c,s,l)}return l}function s1(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Ze.updateQueue,s===null?(s=wf(),Ze.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function a1(i,s,l,c){s.value=l,s.getSnapshot=c,l1(s)&&u1(i)}function o1(i,s,l){return l(function(){l1(s)&&u1(i)})}function l1(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!lr(i,l)}catch{return!0}}function u1(i){var s=Zs(i,2);s!==null&&Xn(s,i,2)}function Xm(i){var s=tr();if(typeof i=="function"){var l=i;if(i=l(),yo){$n(!0);try{l()}finally{$n(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:i},s}function c1(i,s,l,c){return i.baseState=l,Qm(i,Ct,typeof c=="function"?c:ds)}function p4(i,s,l,c,p){if(Cf(i))throw Error(r(485));if(i=s.action,i!==null){var _={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){_.listeners.push(b)}};C.T!==null?l(!0):_.isTransition=!1,c(_),l=s.pending,l===null?(_.next=s.pending=_,h1(s,_)):(_.next=l.next,s.pending=l.next=_)}}function h1(i,s){var l=s.action,c=s.payload,p=i.state;if(s.isTransition){var _=C.T,b={};C.T=b;try{var A=l(p,c),x=C.S;x!==null&&x(b,A),f1(i,s,A)}catch(F){Wm(i,s,F)}finally{C.T=_}}else try{_=l(p,c),f1(i,s,_)}catch(F){Wm(i,s,F)}}function f1(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){d1(i,s,c)},function(c){return Wm(i,s,c)}):d1(i,s,l)}function d1(i,s,l){s.status="fulfilled",s.value=l,p1(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,h1(i,l)))}function Wm(i,s,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,p1(s),s=s.next;while(s!==c)}i.action=null}function p1(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function m1(i,s){return s}function _1(i,s){if(yt){var l=Nt.formState;if(l!==null){e:{var c=Ze;if(yt){if(On){t:{for(var p=On,_=Ri;p.nodeType!==8;){if(!_){p=null;break t}if(p=ti(p.nextSibling),p===null){p=null;break t}}_=p.data,p=_==="F!"||_==="F"?p:null}if(p){On=ti(p.nextSibling),c=p.data==="F!";break e}}_o(c)}c=!1}c&&(s=l[0])}}return l=tr(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m1,lastRenderedState:s},l.queue=c,l=M1.bind(null,Ze,c),c.dispatch=l,c=Xm(!1),_=r_.bind(null,Ze,!1,c.queue),c=tr(),p={state:s,dispatch:null,action:i,pending:null},c.queue=p,l=p4.bind(null,Ze,p,_,l),p.dispatch=l,c.memoizedState=i,[s,l,!1]}function g1(i){var s=tn();return v1(s,Ct,i)}function v1(i,s,l){s=Qm(i,s,m1)[0],i=Sf(ds)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Zu(s):s;var c=tn(),p=c.queue,_=p.dispatch;return l!==c.memoizedState&&(Ze.flags|=2048,Dl(9,m4.bind(null,p,l),{destroy:void 0},null)),[s,_,i]}function m4(i,s){i.action=s}function y1(i){var s=tn(),l=Ct;if(l!==null)return v1(s,l,i);tn(),s=s.memoizedState,l=tn();var c=l.queue.dispatch;return l.memoizedState=i,[s,c,!1]}function Dl(i,s,l,c){return i={tag:i,create:s,inst:l,deps:c,next:null},s=Ze.updateQueue,s===null&&(s=wf(),Ze.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,s.lastEffect=i),i}function E1(){return tn().memoizedState}function Af(i,s,l,c){var p=tr();Ze.flags|=i,p.memoizedState=Dl(1|s,l,{destroy:void 0},c===void 0?null:c)}function Rf(i,s,l,c){var p=tn();c=c===void 0?null:c;var _=p.memoizedState.inst;Ct!==null&&c!==null&&Fm(c,Ct.memoizedState.deps)?p.memoizedState=Dl(s,l,_,c):(Ze.flags|=i,p.memoizedState=Dl(1|s,l,_,c))}function b1(i,s){Af(8390656,8,i,s)}function Zm(i,s){Rf(2048,8,i,s)}function w1(i,s){return Rf(4,2,i,s)}function T1(i,s){return Rf(4,4,i,s)}function S1(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function A1(i,s,l){l=l!=null?l.concat([i]):null,Rf(4,4,S1.bind(null,s,i),l)}function Jm(){}function R1(i,s){var l=tn();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&Fm(s,c[1])?c[0]:(l.memoizedState=[i,s],i)}function C1(i,s){var l=tn();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&Fm(s,c[1]))return c[0];if(c=i(),yo){$n(!0);try{i()}finally{$n(!1)}}return l.memoizedState=[c,s],c}function e_(i,s,l){return l===void 0||(ta&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=IE(),Ze.lanes|=i,ha|=i,l)}function O1(i,s,l,c){return lr(l,s)?l:Al.current!==null?(i=e_(i,l,c),lr(i,s)||(bn=!0),i):(ta&42)===0?(bn=!0,i.memoizedState=l):(i=IE(),Ze.lanes|=i,ha|=i,s)}function I1(i,s,l,c,p){var _=Ee.p;Ee.p=_!==0&&8>_?_:8;var b=C.T,A={};C.T=A,r_(i,!1,s,l);try{var x=p(),F=C.S;if(F!==null&&F(A,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var re=h4(x,c);Ju(i,s,re,fr(i))}else Ju(i,s,c,fr(i))}catch(ue){Ju(i,s,{then:function(){},status:"rejected",reason:ue},fr())}finally{Ee.p=_,C.T=b}}function _4(){}function t_(i,s,l,c){if(i.tag!==5)throw Error(r(476));var p=D1(i).queue;I1(i,p,s,je,l===null?_4:function(){return x1(i),l(c)})}function D1(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:je,baseState:je,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:je},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function x1(i){var s=D1(i).next.queue;Ju(i,s,{},fr())}function n_(){return Vn(yc)}function N1(){return tn().memoizedState}function P1(){return tn().memoizedState}function g4(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=fr();i=sa(l);var c=aa(s,i,l);c!==null&&(Xn(c,s,l),nc(c,s,l)),s={cache:jm()},i.payload=s;return}s=s.return}}function v4(i,s,l){var c=fr();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Cf(i)?k1(s,l):(l=Nm(i,s,l,c),l!==null&&(Xn(l,i,c),L1(l,s,c)))}function M1(i,s,l){var c=fr();Ju(i,s,l,c)}function Ju(i,s,l,c){var p={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Cf(i))k1(s,p);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var b=s.lastRenderedState,A=_(b,l);if(p.hasEagerState=!0,p.eagerState=A,lr(A,b))return cf(i,s,p,0),Nt===null&&uf(),!1}catch{}finally{}if(l=Nm(i,s,p,c),l!==null)return Xn(l,i,c),L1(l,s,c),!0}return!1}function r_(i,s,l,c){if(c={lane:2,revertLane:G_(),action:c,hasEagerState:!1,eagerState:null,next:null},Cf(i)){if(s)throw Error(r(479))}else s=Nm(i,l,c,2),s!==null&&Xn(s,i,2)}function Cf(i){var s=i.alternate;return i===Ze||s!==null&&s===Ze}function k1(i,s){Ol=Ef=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function L1(i,s,l){if((l&4194176)!==0){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,De(i,l)}}var Oi={readContext:Vn,use:Tf,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt};Oi.useCacheRefresh=Xt,Oi.useMemoCache=Xt,Oi.useHostTransitionStatus=Xt,Oi.useFormState=Xt,Oi.useActionState=Xt,Oi.useOptimistic=Xt;var Eo={readContext:Vn,use:Tf,useCallback:function(i,s){return tr().memoizedState=[i,s===void 0?null:s],i},useContext:Vn,useEffect:b1,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Af(4194308,4,S1.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Af(4194308,4,i,s)},useInsertionEffect:function(i,s){Af(4,2,i,s)},useMemo:function(i,s){var l=tr();s=s===void 0?null:s;var c=i();if(yo){$n(!0);try{i()}finally{$n(!1)}}return l.memoizedState=[c,s],c},useReducer:function(i,s,l){var c=tr();if(l!==void 0){var p=l(s);if(yo){$n(!0);try{l(s)}finally{$n(!1)}}}else p=s;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=v4.bind(null,Ze,i),[c.memoizedState,i]},useRef:function(i){var s=tr();return i={current:i},s.memoizedState=i},useState:function(i){i=Xm(i);var s=i.queue,l=M1.bind(null,Ze,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:Jm,useDeferredValue:function(i,s){var l=tr();return e_(l,i,s)},useTransition:function(){var i=Xm(!1);return i=I1.bind(null,Ze,i.queue,!0,!1),tr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var c=Ze,p=tr();if(yt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Nt===null)throw Error(r(349));(ft&60)!==0||s1(c,s,l)}p.memoizedState=l;var _={value:l,getSnapshot:s};return p.queue=_,b1(o1.bind(null,c,_,i),[i]),c.flags|=2048,Dl(9,a1.bind(null,c,_,l,s),{destroy:void 0},null),l},useId:function(){var i=tr(),s=Nt.identifierPrefix;if(yt){var l=hs,c=cs;l=(c&~(1<<32-gn(c)-1)).toString(32)+l,s=":"+s+"R"+l,l=bf++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=f4++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},useCacheRefresh:function(){return tr().memoizedState=g4.bind(null,Ze)}};Eo.useMemoCache=Km,Eo.useHostTransitionStatus=n_,Eo.useFormState=_1,Eo.useActionState=_1,Eo.useOptimistic=function(i){var s=tr();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=r_.bind(null,Ze,!0,l),l.dispatch=s,[i,s]};var na={readContext:Vn,use:Tf,useCallback:R1,useContext:Vn,useEffect:Zm,useImperativeHandle:A1,useInsertionEffect:w1,useLayoutEffect:T1,useMemo:C1,useReducer:Sf,useRef:E1,useState:function(){return Sf(ds)},useDebugValue:Jm,useDeferredValue:function(i,s){var l=tn();return O1(l,Ct.memoizedState,i,s)},useTransition:function(){var i=Sf(ds)[0],s=tn().memoizedState;return[typeof i=="boolean"?i:Zu(i),s]},useSyncExternalStore:i1,useId:N1};na.useCacheRefresh=P1,na.useMemoCache=Km,na.useHostTransitionStatus=n_,na.useFormState=g1,na.useActionState=g1,na.useOptimistic=function(i,s){var l=tn();return c1(l,Ct,i,s)};var bo={readContext:Vn,use:Tf,useCallback:R1,useContext:Vn,useEffect:Zm,useImperativeHandle:A1,useInsertionEffect:w1,useLayoutEffect:T1,useMemo:C1,useReducer:Ym,useRef:E1,useState:function(){return Ym(ds)},useDebugValue:Jm,useDeferredValue:function(i,s){var l=tn();return Ct===null?e_(l,i,s):O1(l,Ct.memoizedState,i,s)},useTransition:function(){var i=Ym(ds)[0],s=tn().memoizedState;return[typeof i=="boolean"?i:Zu(i),s]},useSyncExternalStore:i1,useId:N1};bo.useCacheRefresh=P1,bo.useMemoCache=Km,bo.useHostTransitionStatus=n_,bo.useFormState=y1,bo.useActionState=y1,bo.useOptimistic=function(i,s){var l=tn();return Ct!==null?c1(l,Ct,i,s):(l.baseState=i,[i,l.queue.dispatch])};function i_(i,s,l,c){s=i.memoizedState,l=l(c,s),l=l==null?s:N({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var s_={isMounted:function(i){return(i=i._reactInternals)?Re(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var c=fr(),p=sa(c);p.payload=s,l!=null&&(p.callback=l),s=aa(i,p,c),s!==null&&(Xn(s,i,c),nc(s,i,c))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var c=fr(),p=sa(c);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=aa(i,p,c),s!==null&&(Xn(s,i,c),nc(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=fr(),c=sa(l);c.tag=2,s!=null&&(c.callback=s),s=aa(i,c,l),s!==null&&(Xn(s,i,l),nc(s,i,l))}};function V1(i,s,l,c,p,_,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,_,b):s.prototype&&s.prototype.isPureReactComponent?!Bu(l,c)||!Bu(p,_):!0}function U1(i,s,l,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==i&&s_.enqueueReplaceState(s,s.state,null)}function wo(i,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(i=i.defaultProps){l===s&&(l=N({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}var Of=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function j1(i){Of(i)}function B1(i){console.error(i)}function z1(i){Of(i)}function If(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function F1(i,s,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function a_(i,s,l){return l=sa(l),l.tag=3,l.payload={element:null},l.callback=function(){If(i,s)},l}function q1(i){return i=sa(i),i.tag=3,i}function H1(i,s,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var _=c.value;i.payload=function(){return p(_)},i.callback=function(){F1(s,l,c)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){F1(s,l,c),typeof p!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function y4(i,s,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&tc(s,l,p,!0),l=kr.current,l!==null){switch(l.tag){case 13:return Ci===null?z_():l.alternate===null&&$t===0&&($t=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===Lm?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),q_(i,c,p)),!1;case 22:return l.flags|=65536,c===Lm?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),q_(i,c,p)),!1}throw Error(r(435,l.tag))}return q_(i,c,p),z_(),!1}if(yt)return s=kr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,c!==km&&(i=Error(r(422),{cause:c}),Hu(Nr(i,l)))):(c!==km&&(s=Error(r(423),{cause:c}),Hu(Nr(s,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=Nr(c,l),p=a_(i.stateNode,c,p),b_(i,p),$t!==4&&($t=2)),!1;var _=Error(r(520),{cause:c});if(_=Nr(_,l),cc===null?cc=[_]:cc.push(_),$t!==4&&($t=2),s===null)return!0;c=Nr(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=a_(l.stateNode,c,i),b_(l,i),!1;case 1:if(s=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(fa===null||!fa.has(_))))return l.flags|=65536,p&=-p,l.lanes|=p,p=q1(p),H1(p,i,l,c),b_(l,p),!1}l=l.return}while(l!==null);return!1}var $1=Error(r(461)),bn=!1;function In(i,s,l,c){s.child=i===null?X0(s,null,l,c):go(s,i.child,l,c)}function G1(i,s,l,c,p){l=l.render;var _=s.ref;if("ref"in c){var b={};for(var A in c)A!=="ref"&&(b[A]=c[A])}else b=c;return So(s),c=qm(i,s,l,b,_,p),A=Hm(),i!==null&&!bn?($m(i,s,p),ps(i,s,p)):(yt&&A&&Pm(s),s.flags|=1,In(i,s,c,p),s.child)}function K1(i,s,l,c,p){if(i===null){var _=l.type;return typeof _=="function"&&!I_(_)&&_.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=_,Q1(i,s,_,c,p)):(i=Mf(l.type,null,c,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(_=i.child,!m_(i,p)){var b=_.memoizedProps;if(l=l.compare,l=l!==null?l:Bu,l(b,c)&&i.ref===s.ref)return ps(i,s,p)}return s.flags|=1,i=ca(_,c),i.ref=s.ref,i.return=s,s.child=i}function Q1(i,s,l,c,p){if(i!==null){var _=i.memoizedProps;if(Bu(_,c)&&i.ref===s.ref)if(bn=!1,s.pendingProps=c=_,m_(i,p))(i.flags&131072)!==0&&(bn=!0);else return s.lanes=i.lanes,ps(i,s,p)}return o_(i,s,l,c,p)}function Y1(i,s,l){var c=s.pendingProps,p=c.children,_=(s.stateNode._pendingVisibility&2)!==0,b=i!==null?i.memoizedState:null;if(ec(i,s),c.mode==="hidden"||_){if((s.flags&128)!==0){if(c=b!==null?b.baseLanes|l:l,i!==null){for(p=s.child=i.child,_=0;p!==null;)_=_|p.lanes|p.childLanes,p=p.sibling;s.childLanes=_&~c}else s.childLanes=0,s.child=null;return X1(i,s,c,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&yf(s,b!==null?b.cachePool:null),b!==null?W0(s,b):Vm(),Z0(s);else return s.lanes=s.childLanes=536870912,X1(i,s,b!==null?b.baseLanes|l:l,l)}else b!==null?(yf(s,b.cachePool),W0(s,b),ea(),s.memoizedState=null):(i!==null&&yf(s,null),Vm(),ea());return In(i,s,p,l),s.child}function X1(i,s,l,c){var p=zm();return p=p===null?null:{parent:fn._currentValue,pool:p},s.memoizedState={baseLanes:l,cachePool:p},i!==null&&yf(s,null),Vm(),Z0(s),i!==null&&tc(i,s,c,!0),null}function ec(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=2097664)}}function o_(i,s,l,c,p){return So(s),l=qm(i,s,l,c,void 0,p),c=Hm(),i!==null&&!bn?($m(i,s,p),ps(i,s,p)):(yt&&c&&Pm(s),s.flags|=1,In(i,s,l,p),s.child)}function W1(i,s,l,c,p,_){return So(s),s.updateQueue=null,l=r1(s,c,l,p),n1(i),c=Hm(),i!==null&&!bn?($m(i,s,_),ps(i,s,_)):(yt&&c&&Pm(s),s.flags|=1,In(i,s,l,_),s.child)}function Z1(i,s,l,c,p){if(So(s),s.stateNode===null){var _=bl,b=l.contextType;typeof b=="object"&&b!==null&&(_=Vn(b)),_=new l(c,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=s_,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=c,_.state=s.memoizedState,_.refs={},y_(s),b=l.contextType,_.context=typeof b=="object"&&b!==null?Vn(b):bl,_.state=s.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(i_(s,l,b,c),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(b=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),b!==_.state&&s_.enqueueReplaceState(_,_.state,null),ic(s,c,_,p),rc(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){_=s.stateNode;var A=s.memoizedProps,x=wo(l,A);_.props=x;var F=_.context,re=l.contextType;b=bl,typeof re=="object"&&re!==null&&(b=Vn(re));var ue=l.getDerivedStateFromProps;re=typeof ue=="function"||typeof _.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,re||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A||F!==b)&&U1(s,_,c,b),ia=!1;var W=s.memoizedState;_.state=W,ic(s,c,_,p),rc(),F=s.memoizedState,A||W!==F||ia?(typeof ue=="function"&&(i_(s,l,ue,c),F=s.memoizedState),(x=ia||V1(s,l,x,c,W,F,b))?(re||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=F),_.props=c,_.state=F,_.context=b,c=x):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{_=s.stateNode,E_(i,s),b=s.memoizedProps,re=wo(l,b),_.props=re,ue=s.pendingProps,W=_.context,F=l.contextType,x=bl,typeof F=="object"&&F!==null&&(x=Vn(F)),A=l.getDerivedStateFromProps,(F=typeof A=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(b!==ue||W!==x)&&U1(s,_,c,x),ia=!1,W=s.memoizedState,_.state=W,ic(s,c,_,p),rc();var ne=s.memoizedState;b!==ue||W!==ne||ia||i!==null&&i.dependencies!==null&&Df(i.dependencies)?(typeof A=="function"&&(i_(s,l,A,c),ne=s.memoizedState),(re=ia||V1(s,l,re,c,W,ne,x)||i!==null&&i.dependencies!==null&&Df(i.dependencies))?(F||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ne,x),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ne,x)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ne),_.props=c,_.state=ne,_.context=x,c=re):(typeof _.componentDidUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),c=!1)}return _=c,ec(i,s),c=(s.flags&128)!==0,_||c?(_=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,i!==null&&c?(s.child=go(s,i.child,null,p),s.child=go(s,null,l,p)):In(i,s,l,p),s.memoizedState=_.state,i=s.child):i=ps(i,s,p),i}function J1(i,s,l,c){return qu(),s.flags|=256,In(i,s,l,c),s.child}var l_={dehydrated:null,treeContext:null,retryLane:0};function u_(i){return{baseLanes:i,cachePool:t1()}}function c_(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=jr),i}function eE(i,s,l){var c=s.pendingProps,p=!1,_=(s.flags&128)!==0,b;if((b=_)||(b=i!==null&&i.memoizedState===null?!1:(hn.current&2)!==0),b&&(p=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,i===null){if(yt){if(p?Js(s):ea(),yt){var A=On,x;if(x=A){e:{for(x=A,A=Ri;x.nodeType!==8;){if(!A){A=null;break e}if(x=ti(x.nextSibling),x===null){A=null;break e}}A=x}A!==null?(s.memoizedState={dehydrated:A,treeContext:po!==null?{id:cs,overflow:hs}:null,retryLane:536870912},x=Ur(18,null,null,0),x.stateNode=A,x.return=s,s.child=x,Yn=s,On=null,x=!0):x=!1}x||_o(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return A.data==="$!"?s.lanes=16:s.lanes=536870912,null;fs(s)}return A=c.children,c=c.fallback,p?(ea(),p=s.mode,A=f_({mode:"hidden",children:A},p),c=Ro(c,p,l,null),A.return=s,c.return=s,A.sibling=c,s.child=A,p=s.child,p.memoizedState=u_(l),p.childLanes=c_(i,b,l),s.memoizedState=l_,c):(Js(s),h_(s,A))}if(x=i.memoizedState,x!==null&&(A=x.dehydrated,A!==null)){if(_)s.flags&256?(Js(s),s.flags&=-257,s=d_(i,s,l)):s.memoizedState!==null?(ea(),s.child=i.child,s.flags|=128,s=null):(ea(),p=c.fallback,A=s.mode,c=f_({mode:"visible",children:c.children},A),p=Ro(p,A,l,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,go(s,i.child,null,l),c=s.child,c.memoizedState=u_(l),c.childLanes=c_(i,b,l),s.memoizedState=l_,s=p);else if(Js(s),A.data==="$!"){if(b=A.nextSibling&&A.nextSibling.dataset,b)var F=b.dgst;b=F,c=Error(r(419)),c.stack="",c.digest=b,Hu({value:c,source:null,stack:null}),s=d_(i,s,l)}else if(bn||tc(i,s,l,!1),b=(l&i.childLanes)!==0,bn||b){if(b=Nt,b!==null){if(c=l&-l,(c&42)!==0)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=(c&(b.suspendedLanes|l))!==0?0:c,c!==0&&c!==x.retryLane)throw x.retryLane=c,Zs(i,c),Xn(b,i,c),$1}A.data==="$?"||z_(),s=d_(i,s,l)}else A.data==="$?"?(s.flags|=128,s.child=i.child,s=M4.bind(null,i),A._reactRetry=s,s=null):(i=x.treeContext,On=ti(A.nextSibling),Yn=s,yt=!0,Jr=null,Ri=!1,i!==null&&(Pr[Mr++]=cs,Pr[Mr++]=hs,Pr[Mr++]=po,cs=i.id,hs=i.overflow,po=s),s=h_(s,c.children),s.flags|=4096);return s}return p?(ea(),p=c.fallback,A=s.mode,x=i.child,F=x.sibling,c=ca(x,{mode:"hidden",children:c.children}),c.subtreeFlags=x.subtreeFlags&31457280,F!==null?p=ca(F,p):(p=Ro(p,A,l,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,A=i.child.memoizedState,A===null?A=u_(l):(x=A.cachePool,x!==null?(F=fn._currentValue,x=x.parent!==F?{parent:F,pool:F}:x):x=t1(),A={baseLanes:A.baseLanes|l,cachePool:x}),p.memoizedState=A,p.childLanes=c_(i,b,l),s.memoizedState=l_,c):(Js(s),l=i.child,i=l.sibling,l=ca(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,i!==null&&(b=s.deletions,b===null?(s.deletions=[i],s.flags|=16):b.push(i)),s.child=l,s.memoizedState=null,l)}function h_(i,s){return s=f_({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function f_(i,s){return RE(i,s,0,null)}function d_(i,s,l){return go(s,i.child,null,l),i=h_(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function tE(i,s,l){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),g_(i.return,s,l)}function p_(i,s,l,c,p){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=l,_.tailMode=p)}function nE(i,s,l){var c=s.pendingProps,p=c.revealOrder,_=c.tail;if(In(i,s,c.children,l),c=hn.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&tE(i,l,s);else if(i.tag===19)tE(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(rt(hn,c),p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&vf(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),p_(s,!1,p,l,_);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&vf(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}p_(s,!0,l,null,_);break;case"together":p_(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ps(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),ha|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(tc(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=ca(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=ca(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function m_(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Df(i)))}function E4(i,s,l){switch(s.tag){case 3:pi(s,s.stateNode.containerInfo),ra(s,fn,i.memoizedState.cache),qu();break;case 27:case 5:Za(s);break;case 4:pi(s,s.stateNode.containerInfo);break;case 10:ra(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Js(s),s.flags|=128,null):(l&s.child.childLanes)!==0?eE(i,s,l):(Js(s),i=ps(i,s,l),i!==null?i.sibling:null);Js(s);break;case 19:var p=(i.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(tc(i,s,l,!1),c=(l&s.childLanes)!==0),p){if(c)return nE(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),rt(hn,hn.current),c)break;return null;case 22:case 23:return s.lanes=0,Y1(i,s,l);case 24:ra(s,fn,i.memoizedState.cache)}return ps(i,s,l)}function rE(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)bn=!0;else{if(!m_(i,l)&&(s.flags&128)===0)return bn=!1,E4(i,s,l);bn=(i.flags&131072)!==0}else bn=!1,yt&&(s.flags&1048576)!==0&&z0(s,df,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var c=s.elementType,p=c._init;if(c=p(c._payload),s.type=c,typeof c=="function")I_(c)?(i=wo(c,i),s.tag=1,s=Z1(null,s,c,i,l)):(s.tag=0,s=o_(null,s,c,i,l));else{if(c!=null){if(p=c.$$typeof,p===S){s.tag=11,s=G1(null,s,c,i,l);break e}else if(p===U){s.tag=14,s=K1(null,s,c,i,l);break e}}throw s=I(c)||c,Error(r(306,s,""))}}return s;case 0:return o_(i,s,s.type,s.pendingProps,l);case 1:return c=s.type,p=wo(c,s.pendingProps),Z1(i,s,c,p,l);case 3:e:{if(pi(s,s.stateNode.containerInfo),i===null)throw Error(r(387));var _=s.pendingProps;p=s.memoizedState,c=p.element,E_(i,s),ic(s,_,null,l);var b=s.memoizedState;if(_=b.cache,ra(s,fn,_),_!==p.cache&&v_(s,[fn],l,!0),rc(),_=b.element,p.isDehydrated)if(p={element:_,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=J1(i,s,_,l);break e}else if(_!==c){c=Nr(Error(r(424)),s),Hu(c),s=J1(i,s,_,l);break e}else for(On=ti(s.stateNode.containerInfo.firstChild),Yn=s,yt=!0,Jr=null,Ri=!0,l=X0(s,null,_,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(qu(),_===c){s=ps(i,s,l);break e}In(i,s,_,l)}s=s.child}return s;case 26:return ec(i,s),i===null?(l=ab(s.type,null,s.pendingProps,null))?s.memoizedState=l:yt||(l=s.type,i=s.pendingProps,c=Gf(Zt.current).createElement(l),c[Se]=s,c[ke]=i,Dn(c,l,i),wt(c),s.stateNode=c):s.memoizedState=ab(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Za(s),i===null&&yt&&(c=s.stateNode=rb(s.type,s.pendingProps,Zt.current),Yn=s,Ri=!0,On=ti(c.firstChild)),c=s.pendingProps.children,i!==null||yt?In(i,s,c,l):s.child=go(s,null,c,l),ec(i,s),s.child;case 5:return i===null&&yt&&((p=c=On)&&(c=X4(c,s.type,s.pendingProps,Ri),c!==null?(s.stateNode=c,Yn=s,On=ti(c.firstChild),Ri=!1,p=!0):p=!1),p||_o(s)),Za(s),p=s.type,_=s.pendingProps,b=i!==null?i.memoizedProps:null,c=_.children,tg(p,_)?c=null:b!==null&&tg(p,b)&&(s.flags|=32),s.memoizedState!==null&&(p=qm(i,s,d4,null,null,l),yc._currentValue=p),ec(i,s),In(i,s,c,l),s.child;case 6:return i===null&&yt&&((i=l=On)&&(l=W4(l,s.pendingProps,Ri),l!==null?(s.stateNode=l,Yn=s,On=null,i=!0):i=!1),i||_o(s)),null;case 13:return eE(i,s,l);case 4:return pi(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=go(s,null,c,l):In(i,s,c,l),s.child;case 11:return G1(i,s,s.type,s.pendingProps,l);case 7:return In(i,s,s.pendingProps,l),s.child;case 8:return In(i,s,s.pendingProps.children,l),s.child;case 12:return In(i,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,ra(s,s.type,c.value),In(i,s,c.children,l),s.child;case 9:return p=s.type._context,c=s.pendingProps.children,So(s),p=Vn(p),c=c(p),s.flags|=1,In(i,s,c,l),s.child;case 14:return K1(i,s,s.type,s.pendingProps,l);case 15:return Q1(i,s,s.type,s.pendingProps,l);case 19:return nE(i,s,l);case 22:return Y1(i,s,l);case 24:return So(s),c=Vn(fn),i===null?(p=zm(),p===null&&(p=Nt,_=jm(),p.pooledCache=_,_.refCount++,_!==null&&(p.pooledCacheLanes|=l),p=_),s.memoizedState={parent:c,cache:p},y_(s),ra(s,fn,p)):((i.lanes&l)!==0&&(E_(i,s),ic(s,null,null,l),rc()),p=i.memoizedState,_=s.memoizedState,p.parent!==c?(p={parent:c,cache:c},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),ra(s,fn,c)):(c=_.cache,ra(s,fn,c),c!==p.cache&&v_(s,[fn],l,!0))),In(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}var __=ut(null),To=null,ms=null;function ra(i,s,l){rt(__,s._currentValue),s._currentValue=l}function _s(i){i._currentValue=__.current,et(__)}function g_(i,s,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===l)break;i=i.return}}function v_(i,s,l,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var _=p.dependencies;if(_!==null){var b=p.child;_=_.firstContext;e:for(;_!==null;){var A=_;_=p;for(var x=0;x<s.length;x++)if(A.context===s[x]){_.lanes|=l,A=_.alternate,A!==null&&(A.lanes|=l),g_(_.return,l,i),c||(b=null);break e}_=A.next}}else if(p.tag===18){if(b=p.return,b===null)throw Error(r(341));b.lanes|=l,_=b.alternate,_!==null&&(_.lanes|=l),g_(b,l,i),b=null}else b=p.child;if(b!==null)b.return=p;else for(b=p;b!==null;){if(b===i){b=null;break}if(p=b.sibling,p!==null){p.return=b.return,b=p;break}b=b.return}p=b}}function tc(i,s,l,c){i=null;for(var p=s,_=!1;p!==null;){if(!_){if((p.flags&524288)!==0)_=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var b=p.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var A=p.type;lr(p.pendingProps.value,b.value)||(i!==null?i.push(A):i=[A])}}else if(p===di.current){if(b=p.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(yc):i=[yc])}p=p.return}i!==null&&v_(s,i,l,c),s.flags|=262144}function Df(i){for(i=i.firstContext;i!==null;){if(!lr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function So(i){To=i,ms=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Vn(i){return iE(To,i)}function xf(i,s){return To===null&&So(i),iE(i,s)}function iE(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},ms===null){if(i===null)throw Error(r(308));ms=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ms=ms.next=s;return l}var ia=!1;function y_(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function E_(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function sa(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function aa(i,s,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Bt&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,s=hf(i),j0(i,null,l),s}return cf(i,c,s,l),hf(i)}function nc(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194176)!==0)){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,De(i,l)}}function b_(i,s){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?p=_=b:_=_.next=b,l=l.next}while(l!==null);_===null?p=_=s:_=_.next=s}else p=_=s;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:_,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var w_=!1;function rc(){if(w_){var i=Cl;if(i!==null)throw i}}function ic(i,s,l,c){w_=!1;var p=i.updateQueue;ia=!1;var _=p.firstBaseUpdate,b=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var x=A,F=x.next;x.next=null,b===null?_=F:b.next=F,b=x;var re=i.alternate;re!==null&&(re=re.updateQueue,A=re.lastBaseUpdate,A!==b&&(A===null?re.firstBaseUpdate=F:A.next=F,re.lastBaseUpdate=x))}if(_!==null){var ue=p.baseState;b=0,re=F=x=null,A=_;do{var W=A.lane&-536870913,ne=W!==A.lane;if(ne?(ft&W)===W:(c&W)===W){W!==0&&W===Rl&&(w_=!0),re!==null&&(re=re.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ie=i,He=A;W=s;var Gt=l;switch(He.tag){case 1:if(Ie=He.payload,typeof Ie=="function"){ue=Ie.call(Gt,ue,W);break e}ue=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=He.payload,W=typeof Ie=="function"?Ie.call(Gt,ue,W):Ie,W==null)break e;ue=N({},ue,W);break e;case 2:ia=!0}}W=A.callback,W!==null&&(i.flags|=64,ne&&(i.flags|=8192),ne=p.callbacks,ne===null?p.callbacks=[W]:ne.push(W))}else ne={lane:W,tag:A.tag,payload:A.payload,callback:A.callback,next:null},re===null?(F=re=ne,x=ue):re=re.next=ne,b|=W;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;ne=A,A=ne.next,ne.next=null,p.lastBaseUpdate=ne,p.shared.pending=null}}while(!0);re===null&&(x=ue),p.baseState=x,p.firstBaseUpdate=F,p.lastBaseUpdate=re,_===null&&(p.shared.lanes=0),ha|=b,i.lanes=b,i.memoizedState=ue}}function sE(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function aE(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)sE(l[i],s)}function sc(i,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&i)===i){c=void 0;var _=l.create,b=l.inst;c=_(),b.destroy=c}l=l.next}while(l!==p)}}catch(A){Dt(s,s.return,A)}}function oa(i,s,l){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var _=p.next;c=_;do{if((c.tag&i)===i){var b=c.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,p=s;var x=l;try{A()}catch(F){Dt(p,x,F)}}}c=c.next}while(c!==_)}}catch(F){Dt(s,s.return,F)}}function oE(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{aE(s,l)}catch(c){Dt(i,i.return,c)}}}function lE(i,s,l){l.props=wo(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){Dt(i,s,c)}}function Ao(i,s){try{var l=i.ref;if(l!==null){var c=i.stateNode;switch(i.tag){case 26:case 27:case 5:var p=c;break;default:p=c}typeof l=="function"?i.refCleanup=l(p):l.current=p}}catch(_){Dt(i,s,_)}}function ur(i,s){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){Dt(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Dt(i,s,p)}else l.current=null}function uE(i){var s=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){Dt(i,i.return,p)}}function cE(i,s,l){try{var c=i.stateNode;$4(c,i.type,l,s),c[ke]=s}catch(p){Dt(i,i.return,p)}}function hE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function T_(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||hE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function S_(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=$f));else if(c!==4&&c!==27&&(i=i.child,i!==null))for(S_(i,s,l),i=i.sibling;i!==null;)S_(i,s,l),i=i.sibling}function Nf(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(c!==4&&c!==27&&(i=i.child,i!==null))for(Nf(i,s,l),i=i.sibling;i!==null;)Nf(i,s,l),i=i.sibling}var gs=!1,Ht=!1,A_=!1,fE=typeof WeakSet=="function"?WeakSet:Set,wn=null,dE=!1;function b4(i,s){if(i=i.containerInfo,J_=Zf,i=D0(i),Cm(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,_=c.focusNode;c=c.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var b=0,A=-1,x=-1,F=0,re=0,ue=i,W=null;t:for(;;){for(var ne;ue!==l||p!==0&&ue.nodeType!==3||(A=b+p),ue!==_||c!==0&&ue.nodeType!==3||(x=b+c),ue.nodeType===3&&(b+=ue.nodeValue.length),(ne=ue.firstChild)!==null;)W=ue,ue=ne;for(;;){if(ue===i)break t;if(W===l&&++F===p&&(A=b),W===_&&++re===c&&(x=b),(ne=ue.nextSibling)!==null)break;ue=W,W=ue.parentNode}ue=ne}l=A===-1||x===-1?null:{start:A,end:x}}else l=null}l=l||{start:0,end:0}}else l=null;for(eg={focusedElem:i,selectionRange:l},Zf=!1,wn=s;wn!==null;)if(s=wn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,wn=i;else for(;wn!==null;){switch(s=wn,_=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,l=s,p=_.memoizedProps,_=_.memoizedState,c=l.stateNode;try{var Ie=wo(l.type,p,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(Ie,_),c.__reactInternalSnapshotBeforeUpdate=i}catch(He){Dt(l,l.return,He)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)ig(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ig(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,wn=i;break}wn=s.return}return Ie=dE,dE=!1,Ie}function pE(i,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:ys(i,l),c&4&&sc(5,l);break;case 1:if(ys(i,l),c&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(A){Dt(l,l.return,A)}else{var p=wo(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(A){Dt(l,l.return,A)}}c&64&&oE(l),c&512&&Ao(l,l.return);break;case 3:if(ys(i,l),c&64&&(c=l.updateQueue,c!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{aE(c,i)}catch(A){Dt(l,l.return,A)}}break;case 26:ys(i,l),c&512&&Ao(l,l.return);break;case 27:case 5:ys(i,l),s===null&&c&4&&uE(l),c&512&&Ao(l,l.return);break;case 12:ys(i,l);break;case 13:ys(i,l),c&4&&gE(i,l);break;case 22:if(p=l.memoizedState!==null||gs,!p){s=s!==null&&s.memoizedState!==null||Ht;var _=gs,b=Ht;gs=p,(Ht=s)&&!b?la(i,l,(l.subtreeFlags&8772)!==0):ys(i,l),gs=_,Ht=b}c&512&&(l.memoizedProps.mode==="manual"?Ao(l,l.return):ur(l,l.return));break;default:ys(i,l)}}function mE(i){var s=i.alternate;s!==null&&(i.alternate=null,mE(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&or(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var nn=null,cr=!1;function vs(i,s,l){for(l=l.child;l!==null;)_E(i,s,l),l=l.sibling}function _E(i,s,l){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(Yr,l)}catch{}switch(l.tag){case 26:Ht||ur(l,s),vs(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ht||ur(l,s);var c=nn,p=cr;for(nn=l.stateNode,vs(i,s,l),l=l.stateNode,s=l.attributes;s.length;)l.removeAttributeNode(s[0]);or(l),nn=c,cr=p;break;case 5:Ht||ur(l,s);case 6:p=nn;var _=cr;if(nn=null,vs(i,s,l),nn=p,cr=_,nn!==null)if(cr)try{i=nn,c=l.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)}catch(b){Dt(l,s,b)}else try{nn.removeChild(l.stateNode)}catch(b){Dt(l,s,b)}break;case 18:nn!==null&&(cr?(s=nn,l=l.stateNode,s.nodeType===8?rg(s.parentNode,l):s.nodeType===1&&rg(s,l),Tc(s)):rg(nn,l.stateNode));break;case 4:c=nn,p=cr,nn=l.stateNode.containerInfo,cr=!0,vs(i,s,l),nn=c,cr=p;break;case 0:case 11:case 14:case 15:Ht||oa(2,l,s),Ht||oa(4,l,s),vs(i,s,l);break;case 1:Ht||(ur(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&lE(l,s,c)),vs(i,s,l);break;case 21:vs(i,s,l);break;case 22:Ht||ur(l,s),Ht=(c=Ht)||l.memoizedState!==null,vs(i,s,l),Ht=c;break;default:vs(i,s,l)}}function gE(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Tc(i)}catch(l){Dt(s,s.return,l)}}function w4(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new fE),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new fE),s;default:throw Error(r(435,i.tag))}}function R_(i,s){var l=w4(i);s.forEach(function(c){var p=k4.bind(null,i,c);l.has(c)||(l.add(c),c.then(p,p))})}function Lr(i,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],_=i,b=s,A=b;e:for(;A!==null;){switch(A.tag){case 27:case 5:nn=A.stateNode,cr=!1;break e;case 3:nn=A.stateNode.containerInfo,cr=!0;break e;case 4:nn=A.stateNode.containerInfo,cr=!0;break e}A=A.return}if(nn===null)throw Error(r(160));_E(_,b,p),nn=null,cr=!1,_=p.alternate,_!==null&&(_.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)vE(s,i),s=s.sibling}var ei=null;function vE(i,s){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Lr(s,i),Vr(i),c&4&&(oa(3,i,i.return),sc(3,i),oa(5,i,i.return));break;case 1:Lr(s,i),Vr(i),c&512&&(Ht||l===null||ur(l,l.return)),c&64&&gs&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=ei;if(Lr(s,i),Vr(i),c&512&&(Ht||l===null||ur(l,l.return)),c&4){var _=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":_=p.getElementsByTagName("title")[0],(!_||_[Gn]||_[Se]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=p.createElement(c),p.head.insertBefore(_,p.querySelector("head > title"))),Dn(_,c,l),_[Se]=i,wt(_),c=_;break e;case"link":var b=ub("link","href",p).get(c+(l.href||""));if(b){for(var A=0;A<b.length;A++)if(_=b[A],_.getAttribute("href")===(l.href==null?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(A,1);break t}}_=p.createElement(c),Dn(_,c,l),p.head.appendChild(_);break;case"meta":if(b=ub("meta","content",p).get(c+(l.content||""))){for(A=0;A<b.length;A++)if(_=b[A],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(A,1);break t}}_=p.createElement(c),Dn(_,c,l),p.head.appendChild(_);break;default:throw Error(r(468,c))}_[Se]=i,wt(_),c=_}i.stateNode=c}else cb(p,i.type,i.stateNode);else i.stateNode=lb(p,c,i.memoizedProps);else _!==c?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,c===null?cb(p,i.type,i.stateNode):lb(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&cE(i,i.memoizedProps,l.memoizedProps)}break;case 27:if(c&4&&i.alternate===null){p=i.stateNode,_=i.memoizedProps;try{for(var x=p.firstChild;x;){var F=x.nextSibling,re=x.nodeName;x[Gn]||re==="HEAD"||re==="BODY"||re==="SCRIPT"||re==="STYLE"||re==="LINK"&&x.rel.toLowerCase()==="stylesheet"||p.removeChild(x),x=F}for(var ue=i.type,W=p.attributes;W.length;)p.removeAttributeNode(W[0]);Dn(p,ue,_),p[Se]=i,p[ke]=_}catch(Ie){Dt(i,i.return,Ie)}}case 5:if(Lr(s,i),Vr(i),c&512&&(Ht||l===null||ur(l,l.return)),i.flags&32){p=i.stateNode;try{Cr(p,"")}catch(Ie){Dt(i,i.return,Ie)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,cE(i,p,l!==null?l.memoizedProps:p)),c&1024&&(A_=!0);break;case 6:if(Lr(s,i),Vr(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(Ie){Dt(i,i.return,Ie)}}break;case 3:if(Yf=null,p=ei,ei=Kf(s.containerInfo),Lr(s,i),ei=p,Vr(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Tc(s.containerInfo)}catch(Ie){Dt(i,i.return,Ie)}A_&&(A_=!1,yE(i));break;case 4:c=ei,ei=Kf(i.stateNode.containerInfo),Lr(s,i),Vr(i),ei=c;break;case 12:Lr(s,i),Vr(i);break;case 13:Lr(s,i),Vr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(k_=mn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,R_(i,c)));break;case 22:if(c&512&&(Ht||l===null||ur(l,l.return)),x=i.memoizedState!==null,F=l!==null&&l.memoizedState!==null,re=gs,ue=Ht,gs=re||x,Ht=ue||F,Lr(s,i),Ht=ue,gs=re,Vr(i),s=i.stateNode,s._current=i,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,c&8192&&(s._visibility=x?s._visibility&-2:s._visibility|1,x&&(s=gs||Ht,l===null||F||s||xl(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(l=null,s=i;;){if(s.tag===5||s.tag===26||s.tag===27){if(l===null){F=l=s;try{if(p=F.stateNode,x)_=p.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=F.stateNode,A=F.memoizedProps.style;var ne=A!=null&&A.hasOwnProperty("display")?A.display:null;b.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(Ie){Dt(F,F.return,Ie)}}}else if(s.tag===6){if(l===null){F=s;try{F.stateNode.nodeValue=x?"":F.memoizedProps}catch(Ie){Dt(F,F.return,Ie)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,R_(i,l))));break;case 19:Lr(s,i),Vr(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,R_(i,c)));break;case 21:break;default:Lr(s,i),Vr(i)}}function Vr(i){var s=i.flags;if(s&2){try{if(i.tag!==27){e:{for(var l=i.return;l!==null;){if(hE(l)){var c=l;break e}l=l.return}throw Error(r(160))}switch(c.tag){case 27:var p=c.stateNode,_=T_(i);Nf(i,_,p);break;case 5:var b=c.stateNode;c.flags&32&&(Cr(b,""),c.flags&=-33);var A=T_(i);Nf(i,A,b);break;case 3:case 4:var x=c.stateNode.containerInfo,F=T_(i);S_(i,F,x);break;default:throw Error(r(161))}}}catch(re){Dt(i,i.return,re)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function yE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;yE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ys(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)pE(i,s.alternate,s),s=s.sibling}function xl(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:oa(4,s,s.return),xl(s);break;case 1:ur(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&lE(s,s.return,l),xl(s);break;case 26:case 27:case 5:ur(s,s.return),xl(s);break;case 22:ur(s,s.return),s.memoizedState===null&&xl(s);break;default:xl(s)}i=i.sibling}}function la(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,p=i,_=s,b=_.flags;switch(_.tag){case 0:case 11:case 15:la(p,_,l),sc(4,_);break;case 1:if(la(p,_,l),c=_,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(F){Dt(c,c.return,F)}if(c=_,p=c.updateQueue,p!==null){var A=c.stateNode;try{var x=p.shared.hiddenCallbacks;if(x!==null)for(p.shared.hiddenCallbacks=null,p=0;p<x.length;p++)sE(x[p],A)}catch(F){Dt(c,c.return,F)}}l&&b&64&&oE(_),Ao(_,_.return);break;case 26:case 27:case 5:la(p,_,l),l&&c===null&&b&4&&uE(_),Ao(_,_.return);break;case 12:la(p,_,l);break;case 13:la(p,_,l),l&&b&4&&gE(p,_);break;case 22:_.memoizedState===null&&la(p,_,l),Ao(_,_.return);break;default:la(p,_,l)}s=s.sibling}}function C_(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Yu(l))}function O_(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Yu(i))}function ua(i,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)EE(i,s,l,c),s=s.sibling}function EE(i,s,l,c){var p=s.flags;switch(s.tag){case 0:case 11:case 15:ua(i,s,l,c),p&2048&&sc(9,s);break;case 3:ua(i,s,l,c),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Yu(i)));break;case 12:if(p&2048){ua(i,s,l,c),i=s.stateNode;try{var _=s.memoizedProps,b=_.id,A=_.onPostCommit;typeof A=="function"&&A(b,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(x){Dt(s,s.return,x)}}else ua(i,s,l,c);break;case 23:break;case 22:_=s.stateNode,s.memoizedState!==null?_._visibility&4?ua(i,s,l,c):ac(i,s):_._visibility&4?ua(i,s,l,c):(_._visibility|=4,Nl(i,s,l,c,(s.subtreeFlags&10256)!==0)),p&2048&&C_(s.alternate,s);break;case 24:ua(i,s,l,c),p&2048&&O_(s.alternate,s);break;default:ua(i,s,l,c)}}function Nl(i,s,l,c,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var _=i,b=s,A=l,x=c,F=b.flags;switch(b.tag){case 0:case 11:case 15:Nl(_,b,A,x,p),sc(8,b);break;case 23:break;case 22:var re=b.stateNode;b.memoizedState!==null?re._visibility&4?Nl(_,b,A,x,p):ac(_,b):(re._visibility|=4,Nl(_,b,A,x,p)),p&&F&2048&&C_(b.alternate,b);break;case 24:Nl(_,b,A,x,p),p&&F&2048&&O_(b.alternate,b);break;default:Nl(_,b,A,x,p)}s=s.sibling}}function ac(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,c=s,p=c.flags;switch(c.tag){case 22:ac(l,c),p&2048&&C_(c.alternate,c);break;case 24:ac(l,c),p&2048&&O_(c.alternate,c);break;default:ac(l,c)}s=s.sibling}}var oc=8192;function Pl(i){if(i.subtreeFlags&oc)for(i=i.child;i!==null;)bE(i),i=i.sibling}function bE(i){switch(i.tag){case 26:Pl(i),i.flags&oc&&i.memoizedState!==null&&cO(ei,i.memoizedState,i.memoizedProps);break;case 5:Pl(i);break;case 3:case 4:var s=ei;ei=Kf(i.stateNode.containerInfo),Pl(i),ei=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=oc,oc=16777216,Pl(i),oc=s):Pl(i));break;default:Pl(i)}}function wE(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function lc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];wn=c,SE(c,i)}wE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)TE(i),i=i.sibling}function TE(i){switch(i.tag){case 0:case 11:case 15:lc(i),i.flags&2048&&oa(9,i,i.return);break;case 3:lc(i);break;case 12:lc(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&4&&(i.return===null||i.return.tag!==13)?(s._visibility&=-5,Pf(i)):lc(i);break;default:lc(i)}}function Pf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];wn=c,SE(c,i)}wE(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:oa(8,s,s.return),Pf(s);break;case 22:l=s.stateNode,l._visibility&4&&(l._visibility&=-5,Pf(s));break;default:Pf(s)}i=i.sibling}}function SE(i,s){for(;wn!==null;){var l=wn;switch(l.tag){case 0:case 11:case 15:oa(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Yu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,wn=c;else e:for(l=i;wn!==null;){c=wn;var p=c.sibling,_=c.return;if(mE(c),c===l){wn=null;break e}if(p!==null){p.return=_,wn=p;break e}wn=_}}}function T4(i,s,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(i,s,l,c){return new T4(i,s,l,c)}function I_(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ca(i,s){var l=i.alternate;return l===null?(l=Ur(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&31457280,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function AE(i,s){i.flags&=31457282;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Mf(i,s,l,c,p,_){var b=0;if(c=i,typeof i=="function")I_(i)&&(b=1);else if(typeof i=="string")b=lO(i,l,pn.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case d:return Ro(l.children,p,_,s);case m:b=8,p|=24;break;case g:return i=Ur(12,l,s,p|2),i.elementType=g,i.lanes=_,i;case P:return i=Ur(13,l,s,p),i.elementType=P,i.lanes=_,i;case O:return i=Ur(19,l,s,p),i.elementType=O,i.lanes=_,i;case Q:return RE(l,p,_,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case y:case T:b=10;break e;case w:b=9;break e;case S:b=11;break e;case U:b=14;break e;case H:b=16,c=null;break e}b=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=Ur(b,l,s,p),s.elementType=i,s.type=c,s.lanes=_,s}function Ro(i,s,l,c){return i=Ur(7,i,c,s),i.lanes=l,i}function RE(i,s,l,c){i=Ur(22,i,c,s),i.elementType=Q,i.lanes=l;var p={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var _=p._current;if(_===null)throw Error(r(456));if((p._pendingVisibility&2)===0){var b=Zs(_,2);b!==null&&(p._pendingVisibility|=2,Xn(b,_,2))}},attach:function(){var _=p._current;if(_===null)throw Error(r(456));if((p._pendingVisibility&2)!==0){var b=Zs(_,2);b!==null&&(p._pendingVisibility&=-3,Xn(b,_,2))}}};return i.stateNode=p,i}function D_(i,s,l){return i=Ur(6,i,null,s),i.lanes=l,i}function x_(i,s,l){return s=Ur(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function Es(i){i.flags|=4}function CE(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!hb(s)){if(s=kr.current,s!==null&&((ft&4194176)===ft?Ci!==null:(ft&62914560)!==ft&&(ft&536870912)===0||s!==Ci))throw Gu=Lm,H0;i.flags|=8192}}function kf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?G():536870912,i.lanes|=s,kl|=s)}function uc(i,s){if(!yt)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function jt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&31457280,c|=p.flags&31457280,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=l,s}function S4(i,s,l){var c=s.pendingProps;switch(Mm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(s),null;case 1:return jt(s),null;case 3:return l=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),_s(fn),wr(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Fu(s)?Es(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Jr!==null&&(j_(Jr),Jr=null))),jt(s),null;case 26:return l=s.memoizedState,i===null?(Es(s),l!==null?(jt(s),CE(s,l)):(jt(s),s.flags&=-16777217)):l?l!==i.memoizedState?(Es(s),jt(s),CE(s,l)):(jt(s),s.flags&=-16777217):(i.memoizedProps!==c&&Es(s),jt(s),s.flags&=-16777217),null;case 27:qs(s),l=Zt.current;var p=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Es(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return jt(s),null}i=pn.current,Fu(s)?F0(s):(i=rb(p,c,l),s.stateNode=i,Es(s))}return jt(s),null;case 5:if(qs(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Es(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return jt(s),null}if(i=pn.current,Fu(s))F0(s);else{switch(p=Gf(Zt.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?p.createElement(l,{is:c.is}):p.createElement(l)}}i[Se]=s,i[ke]=c;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=i;e:switch(Dn(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Es(s)}}return jt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&Es(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=Zt.current,Fu(s)){if(i=s.stateNode,l=s.memoizedProps,c=null,p=Yn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[Se]=s,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||WE(i.nodeValue,l)),i||_o(s)}else i=Gf(i).createTextNode(c),i[Se]=s,s.stateNode=i}return jt(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Fu(s),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Se]=s}else qu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;jt(s),p=!1}else Jr!==null&&(j_(Jr),Jr=null),p=!0;if(!p)return s.flags&256?(fs(s),s):(fs(s),null)}if(fs(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=s.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var _=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(_=c.memoizedState.cachePool.pool),_!==p&&(c.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),kf(s,s.updateQueue),jt(s),null;case 4:return wr(),i===null&&X_(s.stateNode.containerInfo),jt(s),null;case 10:return _s(s.type),jt(s),null;case 19:if(et(hn),p=s.memoizedState,p===null)return jt(s),null;if(c=(s.flags&128)!==0,_=p.rendering,_===null)if(c)uc(p,!1);else{if($t!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(_=vf(i),_!==null){for(s.flags|=128,uc(p,!1),i=_.updateQueue,s.updateQueue=i,kf(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)AE(l,i),l=l.sibling;return rt(hn,hn.current&1|2),s.child}i=i.sibling}p.tail!==null&&mn()>Lf&&(s.flags|=128,c=!0,uc(p,!1),s.lanes=4194304)}else{if(!c)if(i=vf(_),i!==null){if(s.flags|=128,c=!0,i=i.updateQueue,s.updateQueue=i,kf(s,i),uc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!yt)return jt(s),null}else 2*mn()-p.renderingStartTime>Lf&&l!==536870912&&(s.flags|=128,c=!0,uc(p,!1),s.lanes=4194304);p.isBackwards?(_.sibling=s.child,s.child=_):(i=p.last,i!==null?i.sibling=_:s.child=_,p.last=_)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=mn(),s.sibling=null,i=hn.current,rt(hn,c?i&1|2:i&1),s):(jt(s),null);case 22:case 23:return fs(s),Um(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(jt(s),s.subtreeFlags&6&&(s.flags|=8192)):jt(s),l=s.updateQueue,l!==null&&kf(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),i!==null&&et(vo),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),_s(fn),jt(s),null;case 25:return null}throw Error(r(156,s.tag))}function A4(i,s){switch(Mm(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return _s(fn),wr(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return qs(s),null;case 13:if(fs(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));qu()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return et(hn),null;case 4:return wr(),null;case 10:return _s(s.type),null;case 22:case 23:return fs(s),Um(),i!==null&&et(vo),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return _s(fn),null;case 25:return null;default:return null}}function OE(i,s){switch(Mm(s),s.tag){case 3:_s(fn),wr();break;case 26:case 27:case 5:qs(s);break;case 4:wr();break;case 13:fs(s);break;case 19:et(hn);break;case 10:_s(s.type);break;case 22:case 23:fs(s),Um(),i!==null&&et(vo);break;case 24:_s(fn)}}var R4={getCacheForType:function(i){var s=Vn(fn),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},C4=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Nt=null,nt=null,ft=0,Pt=0,hr=null,bs=!1,Ml=!1,N_=!1,ws=0,$t=0,ha=0,Co=0,P_=0,jr=0,kl=0,cc=null,Ii=null,M_=!1,k_=0,Lf=1/0,Vf=null,fa=null,Uf=!1,Oo=null,hc=0,L_=0,V_=null,fc=0,U_=null;function fr(){if((Bt&2)!==0&&ft!==0)return ft&-ft;if(C.T!==null){var i=Rl;return i!==0?i:G_()}return Oe()}function IE(){jr===0&&(jr=(ft&536870912)===0||yt?V():536870912);var i=kr.current;return i!==null&&(i.flags|=32),jr}function Xn(i,s,l){(i===Nt&&Pt===2||i.cancelPendingCommit!==null)&&(Ll(i,0),Ts(i,ft,jr,!1)),ae(i,l),((Bt&2)===0||i!==Nt)&&(i===Nt&&((Bt&2)===0&&(Co|=l),$t===4&&Ts(i,ft,jr,!1)),Di(i))}function DE(i,s,l){if((Bt&6)!==0)throw Error(r(327));var c=!l&&(s&60)===0&&(s&i.expiredLanes)===0||_i(i,s),p=c?D4(i,s):F_(i,s,!0),_=c;do{if(p===0){Ml&&!c&&Ts(i,s,0,!1);break}else if(p===6)Ts(i,s,0,!bs);else{if(l=i.current.alternate,_&&!O4(l)){p=F_(i,s,!1),_=!1;continue}if(p===2){if(_=s,i.errorRecoveryDisabledLanes&_)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var A=i;p=cc;var x=A.current.memoizedState.isDehydrated;if(x&&(Ll(A,b).flags|=256),b=F_(A,b,!1),b!==2){if(N_&&!x){A.errorRecoveryDisabledLanes|=_,Co|=_,p=4;break e}_=Ii,Ii=p,_!==null&&j_(_)}p=b}if(_=!1,p!==2)continue}}if(p===1){Ll(i,0),Ts(i,s,0,!0);break}e:{switch(c=i,p){case 0:case 1:throw Error(r(345));case 4:if((s&4194176)===s){Ts(c,s,jr,!bs);break e}break;case 2:Ii=null;break;case 3:case 5:break;default:throw Error(r(329))}if(c.finishedWork=l,c.finishedLanes=s,(s&62914560)===s&&(_=k_+300-mn(),10<_)){if(Ts(c,s,jr,!bs),Rn(c,0)!==0)break e;c.timeoutHandle=eb(xE.bind(null,c,l,Ii,Vf,M_,s,jr,Co,kl,bs,2,-0,0),_);break e}xE(c,l,Ii,Vf,M_,s,jr,Co,kl,bs,0,-0,0)}}break}while(!0);Di(i)}function j_(i){Ii===null?Ii=i:Ii.push.apply(Ii,i)}function xE(i,s,l,c,p,_,b,A,x,F,re,ue,W){var ne=s.subtreeFlags;if((ne&8192||(ne&16785408)===16785408)&&(vc={stylesheets:null,count:0,unsuspend:uO},bE(s),s=hO(),s!==null)){i.cancelPendingCommit=s(UE.bind(null,i,l,c,p,b,A,x,1,ue,W)),Ts(i,_,b,!F);return}UE(i,l,c,p,b,A,x,re,ue,W)}function O4(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],_=p.getSnapshot;p=p.value;try{if(!lr(_(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ts(i,s,l,c){s&=~P_,s&=~Co,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var p=s;0<p;){var _=31-gn(p),b=1<<_;c[_]=-1,p&=~b}l!==0&&xe(i,l,s)}function jf(){return(Bt&6)===0?(dc(0),!1):!0}function B_(){if(nt!==null){if(Pt===0)var i=nt.return;else i=nt,ms=To=null,Gm(i),Sl=null,Ku=0,i=nt;for(;i!==null;)OE(i.alternate,i),i=i.return;nt=null}}function Ll(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,K4(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),B_(),Nt=i,nt=l=ca(i.current,null),ft=s,Pt=0,hr=null,bs=!1,Ml=_i(i,s),N_=!1,kl=jr=P_=Co=ha=$t=0,Ii=cc=null,M_=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var p=31-gn(c),_=1<<p;s|=i[p],c&=~_}return ws=s,uf(),l}function NE(i,s){Ze=null,C.H=Oi,s===$u?(s=K0(),Pt=3):s===H0?(s=K0(),Pt=4):Pt=s===$1?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,hr=s,nt===null&&($t=1,If(i,Nr(s,i.current)))}function PE(){var i=C.H;return C.H=Oi,i===null?Oi:i}function ME(){var i=C.A;return C.A=R4,i}function z_(){$t=4,bs||(ft&4194176)!==ft&&kr.current!==null||(Ml=!0),(ha&134217727)===0&&(Co&134217727)===0||Nt===null||Ts(Nt,ft,jr,!1)}function F_(i,s,l){var c=Bt;Bt|=2;var p=PE(),_=ME();(Nt!==i||ft!==s)&&(Vf=null,Ll(i,s)),s=!1;var b=$t;e:do try{if(Pt!==0&&nt!==null){var A=nt,x=hr;switch(Pt){case 8:B_(),b=6;break e;case 3:case 2:case 6:kr.current===null&&(s=!0);var F=Pt;if(Pt=0,hr=null,Vl(i,A,x,F),l&&Ml){b=0;break e}break;default:F=Pt,Pt=0,hr=null,Vl(i,A,x,F)}}I4(),b=$t;break}catch(re){NE(i,re)}while(!0);return s&&i.shellSuspendCounter++,ms=To=null,Bt=c,C.H=p,C.A=_,nt===null&&(Nt=null,ft=0,uf()),b}function I4(){for(;nt!==null;)kE(nt)}function D4(i,s){var l=Bt;Bt|=2;var c=PE(),p=ME();Nt!==i||ft!==s?(Vf=null,Lf=mn()+500,Ll(i,s)):Ml=_i(i,s);e:do try{if(Pt!==0&&nt!==null){s=nt;var _=hr;t:switch(Pt){case 1:Pt=0,hr=null,Vl(i,s,_,1);break;case 2:if($0(_)){Pt=0,hr=null,LE(s);break}s=function(){Pt===2&&Nt===i&&(Pt=7),Di(i)},_.then(s,s);break e;case 3:Pt=7;break e;case 4:Pt=5;break e;case 7:$0(_)?(Pt=0,hr=null,LE(s)):(Pt=0,hr=null,Vl(i,s,_,7));break;case 5:var b=null;switch(nt.tag){case 26:b=nt.memoizedState;case 5:case 27:var A=nt;if(!b||hb(b)){Pt=0,hr=null;var x=A.sibling;if(x!==null)nt=x;else{var F=A.return;F!==null?(nt=F,Bf(F)):nt=null}break t}}Pt=0,hr=null,Vl(i,s,_,5);break;case 6:Pt=0,hr=null,Vl(i,s,_,6);break;case 8:B_(),$t=6;break e;default:throw Error(r(462))}}x4();break}catch(re){NE(i,re)}while(!0);return ms=To=null,C.H=c,C.A=p,Bt=l,nt!==null?0:(Nt=null,ft=0,uf(),$t)}function x4(){for(;nt!==null&&!es();)kE(nt)}function kE(i){var s=rE(i.alternate,i,ws);i.memoizedProps=i.pendingProps,s===null?Bf(i):nt=s}function LE(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=W1(l,s,s.pendingProps,s.type,void 0,ft);break;case 11:s=W1(l,s,s.pendingProps,s.type.render,s.ref,ft);break;case 5:Gm(s);default:OE(l,s),s=nt=AE(s,ws),s=rE(l,s,ws)}i.memoizedProps=i.pendingProps,s===null?Bf(i):nt=s}function Vl(i,s,l,c){ms=To=null,Gm(s),Sl=null,Ku=0;var p=s.return;try{if(y4(i,p,s,l,ft)){$t=1,If(i,Nr(l,i.current)),nt=null;return}}catch(_){if(p!==null)throw nt=p,_;$t=1,If(i,Nr(l,i.current)),nt=null;return}s.flags&32768?(yt||c===1?i=!0:Ml||(ft&536870912)!==0?i=!1:(bs=i=!0,(c===2||c===3||c===6)&&(c=kr.current,c!==null&&c.tag===13&&(c.flags|=16384))),VE(s,i)):Bf(s)}function Bf(i){var s=i;do{if((s.flags&32768)!==0){VE(s,bs);return}i=s.return;var l=S4(s.alternate,s,ws);if(l!==null){nt=l;return}if(s=s.sibling,s!==null){nt=s;return}nt=s=i}while(s!==null);$t===0&&($t=5)}function VE(i,s){do{var l=A4(i.alternate,i);if(l!==null){l.flags&=32767,nt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){nt=i;return}nt=i=l}while(i!==null);$t=6,nt=null}function UE(i,s,l,c,p,_,b,A,x,F){var re=C.T,ue=Ee.p;try{Ee.p=2,C.T=null,N4(i,s,l,c,ue,p,_,b,A,x,F)}finally{C.T=re,Ee.p=ue}}function N4(i,s,l,c,p,_,b,A){do Ul();while(Oo!==null);if((Bt&6)!==0)throw Error(r(327));var x=i.finishedWork;if(c=i.finishedLanes,x===null)return null;if(i.finishedWork=null,i.finishedLanes=0,x===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var F=x.lanes|x.childLanes;if(F|=xm,me(i,c,F,_,b,A),i===Nt&&(nt=Nt=null,ft=0),(x.subtreeFlags&10256)===0&&(x.flags&10256)===0||Uf||(Uf=!0,L_=F,V_=l,L4(ar,function(){return Ul(),null})),l=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||l?(l=C.T,C.T=null,_=Ee.p,Ee.p=2,b=Bt,Bt|=4,b4(i,x),vE(x,i),n4(eg,i.containerInfo),Zf=!!J_,eg=J_=null,i.current=x,pE(i,x.alternate,x),$s(),Bt=b,Ee.p=_,C.T=l):i.current=x,Uf?(Uf=!1,Oo=i,hc=c):jE(i,F),F=i.pendingLanes,F===0&&(fa=null),Gs(x.stateNode),Di(i),s!==null)for(p=i.onRecoverableError,x=0;x<s.length;x++)F=s[x],p(F.value,{componentStack:F.stack});return(hc&3)!==0&&Ul(),F=i.pendingLanes,(c&4194218)!==0&&(F&42)!==0?i===U_?fc++:(fc=0,U_=i):fc=0,dc(0),null}function jE(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Yu(s)))}function Ul(){if(Oo!==null){var i=Oo,s=L_;L_=0;var l=Ce(hc),c=C.T,p=Ee.p;try{if(Ee.p=32>l?32:l,C.T=null,Oo===null)var _=!1;else{l=V_,V_=null;var b=Oo,A=hc;if(Oo=null,hc=0,(Bt&6)!==0)throw Error(r(331));var x=Bt;if(Bt|=4,TE(b.current),EE(b,b.current,A,l),Bt=x,dc(0,!1),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(Yr,b)}catch{}_=!0}return _}finally{Ee.p=p,C.T=c,jE(i,s)}}return!1}function BE(i,s,l){s=Nr(l,s),s=a_(i.stateNode,s,2),i=aa(i,s,2),i!==null&&(ae(i,2),Di(i))}function Dt(i,s,l){if(i.tag===3)BE(i,i,l);else for(;s!==null;){if(s.tag===3){BE(s,i,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(fa===null||!fa.has(c))){i=Nr(l,i),l=q1(2),c=aa(s,l,2),c!==null&&(H1(l,c,s,i),ae(c,2),Di(c));break}}s=s.return}}function q_(i,s,l){var c=i.pingCache;if(c===null){c=i.pingCache=new C4;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(l)||(N_=!0,p.add(l),i=P4.bind(null,i,s,l),s.then(i,i))}function P4(i,s,l){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Nt===i&&(ft&l)===l&&($t===4||$t===3&&(ft&62914560)===ft&&300>mn()-k_?(Bt&2)===0&&Ll(i,0):P_|=l,kl===ft&&(kl=0)),Di(i)}function zE(i,s){s===0&&(s=G()),i=Zs(i,s),i!==null&&(ae(i,s),Di(i))}function M4(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),zE(i,l)}function k4(i,s){var l=0;switch(i.tag){case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),zE(i,l)}function L4(i,s){return Ji(i,s)}var zf=null,jl=null,H_=!1,Ff=!1,$_=!1,Io=0;function Di(i){i!==jl&&i.next===null&&(jl===null?zf=jl=i:jl=jl.next=i),Ff=!0,H_||(H_=!0,U4(V4))}function dc(i,s){if(!$_&&Ff){$_=!0;do for(var l=!1,c=zf;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var _=0;else{var b=c.suspendedLanes,A=c.pingedLanes;_=(1<<31-gn(42|i)+1)-1,_&=p&~(b&~A),_=_&201326677?_&201326677|1:_?_|2:0}_!==0&&(l=!0,HE(c,_))}else _=ft,_=Rn(c,c===Nt?_:0),(_&3)===0||_i(c,_)||(l=!0,HE(c,_));c=c.next}while(l);$_=!1}}function V4(){Ff=H_=!1;var i=0;Io!==0&&(G4()&&(i=Io),Io=0);for(var s=mn(),l=null,c=zf;c!==null;){var p=c.next,_=FE(c,s);_===0?(c.next=null,l===null?zf=p:l.next=p,p===null&&(jl=l)):(l=c,(i!==0||(_&3)!==0)&&(Ff=!0)),c=p}dc(i)}function FE(i,s){for(var l=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var b=31-gn(_),A=1<<b,x=p[b];x===-1?((A&l)===0||(A&c)!==0)&&(p[b]=Ks(A,s)):x<=s&&(i.expiredLanes|=A),_&=~A}if(s=Nt,l=ft,l=Rn(i,i===s?l:0),c=i.callbackNode,l===0||i===s&&Pt===2||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Zn(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||_i(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(c!==null&&Zn(c),Ce(l)){case 2:case 8:l=Qt;break;case 32:l=ar;break;case 268435456:l=Jn;break;default:l=ar}return c=qE.bind(null,i),l=Ji(l,c),i.callbackPriority=s,i.callbackNode=l,s}return c!==null&&c!==null&&Zn(c),i.callbackPriority=2,i.callbackNode=null,2}function qE(i,s){var l=i.callbackNode;if(Ul()&&i.callbackNode!==l)return null;var c=ft;return c=Rn(i,i===Nt?c:0),c===0?null:(DE(i,c,s),FE(i,mn()),i.callbackNode!=null&&i.callbackNode===l?qE.bind(null,i):null)}function HE(i,s){if(Ul())return null;DE(i,s,!0)}function U4(i){Q4(function(){(Bt&6)!==0?Ji(Rt,i):i()})}function G_(){return Io===0&&(Io=V()),Io}function $E(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:yi(""+i)}function GE(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function j4(i,s,l,c,p){if(s==="submit"&&l&&l.stateNode===p){var _=$E((p[ke]||null).action),b=c.submitter;b&&(s=(s=b[ke]||null)?$E(s.formAction):b.getAttribute("formAction"),s!==null&&(_=s,b=null));var A=new cl("action","action",null,c,p);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Io!==0){var x=b?GE(p,b):new FormData(p);t_(l,{pending:!0,data:x,method:p.method,action:_},null,x)}}else typeof _=="function"&&(A.preventDefault(),x=b?GE(p,b):new FormData(p),t_(l,{pending:!0,data:x,method:p.method,action:_},_,x))},currentTarget:p}]})}}for(var K_=0;K_<U0.length;K_++){var Q_=U0[K_],B4=Q_.toLowerCase(),z4=Q_[0].toUpperCase()+Q_.slice(1);Zr(B4,"on"+z4)}Zr(P0,"onAnimationEnd"),Zr(M0,"onAnimationIteration"),Zr(k0,"onAnimationStart"),Zr("dblclick","onDoubleClick"),Zr("focusin","onFocus"),Zr("focusout","onBlur"),Zr(i4,"onTransitionRun"),Zr(s4,"onTransitionStart"),Zr(a4,"onTransitionCancel"),Zr(L0,"onTransitionEnd"),Tt("onMouseEnter",["mouseout","mouseover"]),Tt("onMouseLeave",["mouseout","mouseover"]),Tt("onPointerEnter",["pointerout","pointerover"]),Tt("onPointerLeave",["pointerout","pointerover"]),Xe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pc));function KE(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],p=c.event;c=c.listeners;e:{var _=void 0;if(s)for(var b=c.length-1;0<=b;b--){var A=c[b],x=A.instance,F=A.currentTarget;if(A=A.listener,x!==_&&p.isPropagationStopped())break e;_=A,p.currentTarget=F;try{_(p)}catch(re){Of(re)}p.currentTarget=null,_=x}else for(b=0;b<c.length;b++){if(A=c[b],x=A.instance,F=A.currentTarget,A=A.listener,x!==_&&p.isPropagationStopped())break e;_=A,p.currentTarget=F;try{_(p)}catch(re){Of(re)}p.currentTarget=null,_=x}}}}function at(i,s){var l=s[Ut];l===void 0&&(l=s[Ut]=new Set);var c=i+"__bubble";l.has(c)||(QE(s,i,2,!1),l.add(c))}function Y_(i,s,l){var c=0;s&&(c|=4),QE(l,i,c,s)}var qf="_reactListening"+Math.random().toString(36).slice(2);function X_(i){if(!i[qf]){i[qf]=!0,gi.forEach(function(l){l!=="selectionchange"&&(F4.has(l)||Y_(l,!1,i),Y_(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[qf]||(s[qf]=!0,Y_("selectionchange",!1,s))}}function QE(i,s,l,c){switch(gb(s)){case 2:var p=pO;break;case 8:p=mO;break;default:p=ug}l=p.bind(null,s,l,i),p=void 0,!Ir||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function W_(i,s,l,c,p){var _=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var A=c.stateNode.containerInfo;if(A===p||A.nodeType===8&&A.parentNode===p)break;if(b===4)for(b=c.return;b!==null;){var x=b.tag;if((x===3||x===4)&&(x=b.stateNode.containerInfo,x===p||x.nodeType===8&&x.parentNode===p))return;b=b.return}for(;A!==null;){if(b=Yt(A),b===null)return;if(x=b.tag,x===5||x===6||x===26||x===27){c=_=b;continue e}A=A.parentNode}}c=c.return}Kh(function(){var F=_,re=ul(l),ue=[];e:{var W=V0.get(i);if(W!==void 0){var ne=cl,Ie=i;switch(i){case"keypress":if(bi(l)===0)break e;case"keydown":case"keyup":ne=_l;break;case"focusin":Ie="focus",ne=dl;break;case"focusout":Ie="blur",ne=dl;break;case"beforeblur":case"afterblur":ne=dl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Dr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Tm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=tf;break;case P0:case M0:case k0:ne=pl;break;case L0:ne=rf;break;case"scroll":case"scrollend":ne=Qh;break;case"wheel":ne=gl;break;case"copy":case"cut":case"paste":ne=ml;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Uu;break;case"toggle":case"beforetoggle":ne=af}var He=(s&4)!==0,Gt=!He&&(i==="scroll"||i==="scrollend"),K=He?W!==null?W+"Capture":null:W;He=[];for(var z=F,X;z!==null;){var oe=z;if(X=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||X===null||K===null||(oe=io(z,K),oe!=null&&He.push(mc(z,oe,X))),Gt)break;z=z.return}0<He.length&&(W=new ne(W,Ie,null,l,re),ue.push({event:W,listeners:He}))}}if((s&7)===0){e:{if(W=i==="mouseover"||i==="pointerover",ne=i==="mouseout"||i==="pointerout",W&&l!==Or&&(Ie=l.relatedTarget||l.fromElement)&&(Yt(Ie)||Ie[gt]))break e;if((ne||W)&&(W=re.window===re?re:(W=re.ownerDocument)?W.defaultView||W.parentWindow:window,ne?(Ie=l.relatedTarget||l.toElement,ne=F,Ie=Ie?Yt(Ie):null,Ie!==null&&(Gt=Re(Ie),He=Ie.tag,Ie!==Gt||He!==5&&He!==27&&He!==6)&&(Ie=null)):(ne=null,Ie=F),ne!==Ie)){if(He=Dr,oe="onMouseLeave",K="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(He=Uu,oe="onPointerLeave",K="onPointerEnter",z="pointer"),Gt=ne==null?W:Sr(ne),X=Ie==null?W:Sr(Ie),W=new He(oe,z+"leave",ne,l,re),W.target=Gt,W.relatedTarget=X,oe=null,Yt(re)===F&&(He=new He(K,z+"enter",Ie,l,re),He.target=X,He.relatedTarget=Gt,oe=He),Gt=oe,ne&&Ie)t:{for(He=ne,K=Ie,z=0,X=He;X;X=Bl(X))z++;for(X=0,oe=K;oe;oe=Bl(oe))X++;for(;0<z-X;)He=Bl(He),z--;for(;0<X-z;)K=Bl(K),X--;for(;z--;){if(He===K||K!==null&&He===K.alternate)break t;He=Bl(He),K=Bl(K)}He=null}else He=null;ne!==null&&YE(ue,W,ne,He,!1),Ie!==null&&Gt!==null&&YE(ue,Gt,Ie,He,!0)}}e:{if(W=F?Sr(F):window,ne=W.nodeName&&W.nodeName.toLowerCase(),ne==="select"||ne==="input"&&W.type==="file")var Ae=w0;else if(cn(W))if(T0)Ae=e4;else{Ae=ZC;var tt=WC}else ne=W.nodeName,!ne||ne.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?F&&xu(F.elementType)&&(Ae=w0):Ae=JC;if(Ae&&(Ae=Ae(i,F))){us(ue,Ae,l,re);break e}tt&&tt(i,W,F),i==="focusout"&&F&&W.type==="number"&&F.memoizedProps.value!=null&&ll(W,"number",W.value)}switch(tt=F?Sr(F):window,i){case"focusin":(cn(tt)||tt.contentEditable==="true")&&(vl=tt,Om=F,zu=null);break;case"focusout":zu=Om=vl=null;break;case"mousedown":Im=!0;break;case"contextmenu":case"mouseup":case"dragend":Im=!1,x0(ue,l,re);break;case"selectionchange":if(r4)break;case"keydown":case"keyup":x0(ue,l,re)}var Ne;if(Si)e:{switch(i){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else ct?J(i,l)&&(Le="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Le="onCompositionStart");Le&&(E&&l.locale!=="ko"&&(ct||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&ct&&(Ne=Pu()):(Ei=re,Ws="value"in Ei?Ei.value:Ei.textContent,ct=!0)),tt=Hf(F,Le),0<tt.length&&(Le=new Lu(Le,i,null,l,re),ue.push({event:Le,listeners:tt}),Ne?Le.data=Ne:(Ne=fe(l),Ne!==null&&(Le.data=Ne)))),(Ne=v?un(i,l):ht(i,l))&&(Le=Hf(F,"onBeforeInput"),0<Le.length&&(tt=new Lu("onBeforeInput","beforeinput",null,l,re),ue.push({event:tt,listeners:Le}),tt.data=Ne)),j4(ue,i,F,l,re)}KE(ue,s)})}function mc(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Hf(i,s){for(var l=s+"Capture",c=[];i!==null;){var p=i,_=p.stateNode;p=p.tag,p!==5&&p!==26&&p!==27||_===null||(p=io(i,l),p!=null&&c.unshift(mc(i,p,_)),p=io(i,s),p!=null&&c.push(mc(i,p,_))),i=i.return}return c}function Bl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function YE(i,s,l,c,p){for(var _=s._reactName,b=[];l!==null&&l!==c;){var A=l,x=A.alternate,F=A.stateNode;if(A=A.tag,x!==null&&x===c)break;A!==5&&A!==26&&A!==27||F===null||(x=F,p?(F=io(l,_),F!=null&&b.unshift(mc(l,F,x))):p||(F=io(l,_),F!=null&&b.push(mc(l,F,x)))),l=l.return}b.length!==0&&i.push({event:s,listeners:b})}var q4=/\r\n?/g,H4=/\u0000|\uFFFD/g;function XE(i){return(typeof i=="string"?i:""+i).replace(q4,`
`).replace(H4,"")}function WE(i,s){return s=XE(s),XE(i)===s}function $f(){}function Ot(i,s,l,c,p,_){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Cr(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Cr(i,""+c);break;case"className":Qs(i,"class",c);break;case"tabIndex":Qs(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Qs(i,l,c);break;case"style":Gh(i,c,_);break;case"data":if(s!=="object"){Qs(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=yi(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(s!=="input"&&Ot(i,s,"name",p.name,p,null),Ot(i,s,"formEncType",p.formEncType,p,null),Ot(i,s,"formMethod",p.formMethod,p,null),Ot(i,s,"formTarget",p.formTarget,p,null)):(Ot(i,s,"encType",p.encType,p,null),Ot(i,s,"method",p.method,p,null),Ot(i,s,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=yi(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=$f);break;case"onScroll":c!=null&&at("scroll",i);break;case"onScrollEnd":c!=null&&at("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=yi(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":at("beforetoggle",i),at("toggle",i),vi(i,"popover",c);break;case"xlinkActuate":Rr(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Rr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Rr(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Rr(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Rr(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Rr(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Rr(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Rr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Rr(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":vi(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=bm.get(l)||l,vi(i,l,c))}}function Z_(i,s,l,c,p,_){switch(l){case"style":Gh(i,c,_);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?Cr(i,c):(typeof c=="number"||typeof c=="bigint")&&Cr(i,""+c);break;case"onScroll":c!=null&&at("scroll",i);break;case"onScrollEnd":c!=null&&at("scrollend",i);break;case"onClick":c!=null&&(i.onclick=$f);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),_=i[ke]||null,_=_!=null?_[l]:null,typeof _=="function"&&i.removeEventListener(s,_,p),typeof c=="function")){typeof _!="function"&&_!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,c,p);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):vi(i,l,c)}}}function Dn(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",i),at("load",i);var c=!1,p=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var b=l[_];if(b!=null)switch(_){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ot(i,s,_,b,l,null)}}p&&Ot(i,s,"srcSet",l.srcSet,l,null),c&&Ot(i,s,"src",l.src,l,null);return;case"input":at("invalid",i);var A=_=b=p=null,x=null,F=null;for(c in l)if(l.hasOwnProperty(c)){var re=l[c];if(re!=null)switch(c){case"name":p=re;break;case"type":b=re;break;case"checked":x=re;break;case"defaultChecked":F=re;break;case"value":_=re;break;case"defaultValue":A=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:Ot(i,s,c,re,l,null)}}no(i,_,A,x,F,b,p,!1),to(i);return;case"select":at("invalid",i),c=b=_=null;for(p in l)if(l.hasOwnProperty(p)&&(A=l[p],A!=null))switch(p){case"value":_=A;break;case"defaultValue":b=A;break;case"multiple":c=A;default:Ot(i,s,p,A,l,null)}s=_,l=b,i.multiple=!!c,s!=null?vt(i,!!c,s,!1):l!=null&&vt(i,!!c,l,!0);return;case"textarea":at("invalid",i),_=p=c=null;for(b in l)if(l.hasOwnProperty(b)&&(A=l[b],A!=null))switch(b){case"value":c=A;break;case"defaultValue":p=A;break;case"children":_=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:Ot(i,s,b,A,l,null)}Xs(i,c,p,_),to(i);return;case"option":for(x in l)if(l.hasOwnProperty(x)&&(c=l[x],c!=null))switch(x){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ot(i,s,x,c,l,null)}return;case"dialog":at("cancel",i),at("close",i);break;case"iframe":case"object":at("load",i);break;case"video":case"audio":for(c=0;c<pc.length;c++)at(pc[c],i);break;case"image":at("error",i),at("load",i);break;case"details":at("toggle",i);break;case"embed":case"source":case"link":at("error",i),at("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in l)if(l.hasOwnProperty(F)&&(c=l[F],c!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ot(i,s,F,c,l,null)}return;default:if(xu(s)){for(re in l)l.hasOwnProperty(re)&&(c=l[re],c!==void 0&&Z_(i,s,re,c,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(c=l[A],c!=null&&Ot(i,s,A,c,l,null))}function $4(i,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,_=null,b=null,A=null,x=null,F=null,re=null;for(ne in l){var ue=l[ne];if(l.hasOwnProperty(ne)&&ue!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":x=ue;default:c.hasOwnProperty(ne)||Ot(i,s,ne,null,c,ue)}}for(var W in c){var ne=c[W];if(ue=l[W],c.hasOwnProperty(W)&&(ne!=null||ue!=null))switch(W){case"type":_=ne;break;case"name":p=ne;break;case"checked":F=ne;break;case"defaultChecked":re=ne;break;case"value":b=ne;break;case"defaultValue":A=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,s));break;default:ne!==ue&&Ot(i,s,W,ne,c,ue)}}Ys(i,b,A,x,F,re,_,p);return;case"select":ne=b=A=W=null;for(_ in l)if(x=l[_],l.hasOwnProperty(_)&&x!=null)switch(_){case"value":break;case"multiple":ne=x;default:c.hasOwnProperty(_)||Ot(i,s,_,null,c,x)}for(p in c)if(_=c[p],x=l[p],c.hasOwnProperty(p)&&(_!=null||x!=null))switch(p){case"value":W=_;break;case"defaultValue":A=_;break;case"multiple":b=_;default:_!==x&&Ot(i,s,p,_,c,x)}s=A,l=b,c=ne,W!=null?vt(i,!!l,W,!1):!!c!=!!l&&(s!=null?vt(i,!!l,s,!0):vt(i,!!l,l?[]:"",!1));return;case"textarea":ne=W=null;for(A in l)if(p=l[A],l.hasOwnProperty(A)&&p!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Ot(i,s,A,null,c,p)}for(b in c)if(p=c[b],_=l[b],c.hasOwnProperty(b)&&(p!=null||_!=null))switch(b){case"value":W=p;break;case"defaultValue":ne=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==_&&Ot(i,s,b,p,c,_)}ro(i,W,ne);return;case"option":for(var Ie in l)if(W=l[Ie],l.hasOwnProperty(Ie)&&W!=null&&!c.hasOwnProperty(Ie))switch(Ie){case"selected":i.selected=!1;break;default:Ot(i,s,Ie,null,c,W)}for(x in c)if(W=c[x],ne=l[x],c.hasOwnProperty(x)&&W!==ne&&(W!=null||ne!=null))switch(x){case"selected":i.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:Ot(i,s,x,W,c,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in l)W=l[He],l.hasOwnProperty(He)&&W!=null&&!c.hasOwnProperty(He)&&Ot(i,s,He,null,c,W);for(F in c)if(W=c[F],ne=l[F],c.hasOwnProperty(F)&&W!==ne&&(W!=null||ne!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:Ot(i,s,F,W,c,ne)}return;default:if(xu(s)){for(var Gt in l)W=l[Gt],l.hasOwnProperty(Gt)&&W!==void 0&&!c.hasOwnProperty(Gt)&&Z_(i,s,Gt,void 0,c,W);for(re in c)W=c[re],ne=l[re],!c.hasOwnProperty(re)||W===ne||W===void 0&&ne===void 0||Z_(i,s,re,W,c,ne);return}}for(var K in l)W=l[K],l.hasOwnProperty(K)&&W!=null&&!c.hasOwnProperty(K)&&Ot(i,s,K,null,c,W);for(ue in c)W=c[ue],ne=l[ue],!c.hasOwnProperty(ue)||W===ne||W==null&&ne==null||Ot(i,s,ue,W,c,ne)}var J_=null,eg=null;function Gf(i){return i.nodeType===9?i:i.ownerDocument}function ZE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function JE(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function tg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ng=null;function G4(){var i=window.event;return i&&i.type==="popstate"?i===ng?!1:(ng=i,!0):(ng=null,!1)}var eb=typeof setTimeout=="function"?setTimeout:void 0,K4=typeof clearTimeout=="function"?clearTimeout:void 0,tb=typeof Promise=="function"?Promise:void 0,Q4=typeof queueMicrotask=="function"?queueMicrotask:typeof tb<"u"?function(i){return tb.resolve(null).then(i).catch(Y4)}:eb;function Y4(i){setTimeout(function(){throw i})}function rg(i,s){var l=s,c=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(c===0){i.removeChild(p),Tc(s);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=p}while(l);Tc(s)}function ig(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ig(l),or(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function X4(i,s,l,c){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Gn])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==p.rel||i.getAttribute("href")!==(p.href==null?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var _=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=ti(i.nextSibling),i===null)break}return null}function W4(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=ti(i.nextSibling),i===null))return null;return i}function ti(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}function nb(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function rb(i,s,l){switch(s=Gf(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var Br=new Map,ib=new Set;function Kf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Ss=Ee.d;Ee.d={f:Z4,r:J4,D:eO,C:tO,L:nO,m:rO,X:sO,S:iO,M:aO};function Z4(){var i=Ss.f(),s=jf();return i||s}function J4(i){var s=Jt(i);s!==null&&s.tag===5&&s.type==="form"?x1(s):Ss.r(i)}var zl=typeof document>"u"?null:document;function sb(i,s,l){var c=zl;if(c&&typeof s=="string"&&s){var p=qt(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),ib.has(p)||(ib.add(p),i={rel:i,crossOrigin:l,href:s},c.querySelector(p)===null&&(s=c.createElement("link"),Dn(s,"link",i),wt(s),c.head.appendChild(s)))}}function eO(i){Ss.D(i),sb("dns-prefetch",i,null)}function tO(i,s){Ss.C(i,s),sb("preconnect",i,s)}function nO(i,s,l){Ss.L(i,s,l);var c=zl;if(c&&i&&s){var p='link[rel="preload"][as="'+qt(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+qt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+qt(l.imageSizes)+'"]')):p+='[href="'+qt(i)+'"]';var _=p;switch(s){case"style":_=Fl(i);break;case"script":_=ql(i)}Br.has(_)||(i=N({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Br.set(_,i),c.querySelector(p)!==null||s==="style"&&c.querySelector(_c(_))||s==="script"&&c.querySelector(gc(_))||(s=c.createElement("link"),Dn(s,"link",i),wt(s),c.head.appendChild(s)))}}function rO(i,s){Ss.m(i,s);var l=zl;if(l&&i){var c=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+qt(c)+'"][href="'+qt(i)+'"]',_=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=ql(i)}if(!Br.has(_)&&(i=N({rel:"modulepreload",href:i},s),Br.set(_,i),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(gc(_)))return}c=l.createElement("link"),Dn(c,"link",i),wt(c),l.head.appendChild(c)}}}function iO(i,s,l){Ss.S(i,s,l);var c=zl;if(c&&i){var p=er(c).hoistableStyles,_=Fl(i);s=s||"default";var b=p.get(_);if(!b){var A={loading:0,preload:null};if(b=c.querySelector(_c(_)))A.loading=5;else{i=N({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Br.get(_))&&sg(i,l);var x=b=c.createElement("link");wt(x),Dn(x,"link",i),x._p=new Promise(function(F,re){x.onload=F,x.onerror=re}),x.addEventListener("load",function(){A.loading|=1}),x.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Qf(b,s,c)}b={type:"stylesheet",instance:b,count:1,state:A},p.set(_,b)}}}function sO(i,s){Ss.X(i,s);var l=zl;if(l&&i){var c=er(l).hoistableScripts,p=ql(i),_=c.get(p);_||(_=l.querySelector(gc(p)),_||(i=N({src:i,async:!0},s),(s=Br.get(p))&&ag(i,s),_=l.createElement("script"),wt(_),Dn(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(p,_))}}function aO(i,s){Ss.M(i,s);var l=zl;if(l&&i){var c=er(l).hoistableScripts,p=ql(i),_=c.get(p);_||(_=l.querySelector(gc(p)),_||(i=N({src:i,async:!0,type:"module"},s),(s=Br.get(p))&&ag(i,s),_=l.createElement("script"),wt(_),Dn(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(p,_))}}function ab(i,s,l,c){var p=(p=Zt.current)?Kf(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Fl(l.href),l=er(p).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Fl(l.href);var _=er(p).hoistableStyles,b=_.get(i);if(b||(p=p.ownerDocument||p,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,b),(_=p.querySelector(_c(i)))&&!_._p&&(b.instance=_,b.state.loading=5),Br.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Br.set(i,l),_||oO(p,i,l,b.state))),s&&c===null)throw Error(r(528,""));return b}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ql(l),l=er(p).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Fl(i){return'href="'+qt(i)+'"'}function _c(i){return'link[rel="stylesheet"]['+i+"]"}function ob(i){return N({},i,{"data-precedence":i.precedence,precedence:null})}function oO(i,s,l,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Dn(s,"link",l),wt(s),i.head.appendChild(s))}function ql(i){return'[src="'+qt(i)+'"]'}function gc(i){return"script[async]"+i}function lb(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+qt(l.href)+'"]');if(c)return s.instance=c,wt(c),c;var p=N({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),wt(c),Dn(c,"style",p),Qf(c,l.precedence,i),s.instance=c;case"stylesheet":p=Fl(l.href);var _=i.querySelector(_c(p));if(_)return s.state.loading|=4,s.instance=_,wt(_),_;c=ob(l),(p=Br.get(p))&&sg(c,p),_=(i.ownerDocument||i).createElement("link"),wt(_);var b=_;return b._p=new Promise(function(A,x){b.onload=A,b.onerror=x}),Dn(_,"link",c),s.state.loading|=4,Qf(_,l.precedence,i),s.instance=_;case"script":return _=ql(l.src),(p=i.querySelector(gc(_)))?(s.instance=p,wt(p),p):(c=l,(p=Br.get(_))&&(c=N({},l),ag(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),wt(p),Dn(p,"link",c),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Qf(c,l.precedence,i));return s.instance}function Qf(i,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,_=p,b=0;b<c.length;b++){var A=c[b];if(A.dataset.precedence===s)_=A;else if(_!==p)break}_?_.parentNode.insertBefore(i,_.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function sg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function ag(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Yf=null;function ub(i,s,l){if(Yf===null){var c=new Map,p=Yf=new Map;p.set(l,c)}else p=Yf,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var _=l[p];if(!(_[Gn]||_[Se]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var b=_.getAttribute(s)||"";b=i+b;var A=c.get(b);A?A.push(_):c.set(b,[_])}}return c}function cb(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function lO(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function hb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var vc=null;function uO(){}function cO(i,s,l){if(vc===null)throw Error(r(475));var c=vc;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=Fl(l.href),_=i.querySelector(_c(p));if(_){i=_._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Xf.bind(c),i.then(c,c)),s.state.loading|=4,s.instance=_,wt(_);return}_=i.ownerDocument||i,l=ob(l),(p=Br.get(p))&&sg(l,p),_=_.createElement("link"),wt(_);var b=_;b._p=new Promise(function(A,x){b.onload=A,b.onerror=x}),Dn(_,"link",l),s.instance=_}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=Xf.bind(c),i.addEventListener("load",s),i.addEventListener("error",s))}}function hO(){if(vc===null)throw Error(r(475));var i=vc;return i.stylesheets&&i.count===0&&og(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&og(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Xf(){if(this.count--,this.count===0){if(this.stylesheets)og(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Wf=null;function og(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Wf=new Map,s.forEach(fO,i),Wf=null,Xf.call(i))}function fO(i,s){if(!(s.state.loading&4)){var l=Wf.get(i);if(l)var c=l.get(null);else{l=new Map,Wf.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<p.length;_++){var b=p[_];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),c=b)}c&&l.set(null,c)}p=s.instance,b=p.getAttribute("data-precedence"),_=l.get(b)||c,_===c&&l.set(null,p),l.set(b,p),this.count++,c=Xf.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),_?_.parentNode.insertBefore(p,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var yc={$$typeof:T,Provider:null,Consumer:null,_currentValue:je,_currentValue2:je,_threadCount:0};function dO(i,s,l,c,p,_,b,A){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Z(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Z(0),this.hiddenUpdates=Z(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=_,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function fb(i,s,l,c,p,_,b,A,x,F,re,ue){return i=new dO(i,s,l,b,A,x,F,ue),s=1,_===!0&&(s|=24),_=Ur(3,null,null,s),i.current=_,_.stateNode=i,s=jm(),s.refCount++,i.pooledCache=s,s.refCount++,_.memoizedState={element:c,isDehydrated:l,cache:s},y_(_),i}function db(i){return i?(i=bl,i):bl}function pb(i,s,l,c,p,_){p=db(p),c.context===null?c.context=p:c.pendingContext=p,c=sa(s),c.payload={element:l},_=_===void 0?null:_,_!==null&&(c.callback=_),l=aa(i,c,s),l!==null&&(Xn(l,i,s),nc(l,i,s))}function mb(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function lg(i,s){mb(i,s),(i=i.alternate)&&mb(i,s)}function _b(i){if(i.tag===13){var s=Zs(i,67108864);s!==null&&Xn(s,i,67108864),lg(i,67108864)}}var Zf=!0;function pO(i,s,l,c){var p=C.T;C.T=null;var _=Ee.p;try{Ee.p=2,ug(i,s,l,c)}finally{Ee.p=_,C.T=p}}function mO(i,s,l,c){var p=C.T;C.T=null;var _=Ee.p;try{Ee.p=8,ug(i,s,l,c)}finally{Ee.p=_,C.T=p}}function ug(i,s,l,c){if(Zf){var p=cg(c);if(p===null)W_(i,s,c,Jf,l),vb(i,c);else if(gO(p,i,s,l,c))c.stopPropagation();else if(vb(i,c),s&4&&-1<_O.indexOf(i)){for(;p!==null;){var _=Jt(p);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var b=Ln(_.pendingLanes);if(b!==0){var A=_;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var x=1<<31-gn(b);A.entanglements[1]|=x,b&=~x}Di(_),(Bt&6)===0&&(Lf=mn()+500,dc(0))}}break;case 13:A=Zs(_,2),A!==null&&Xn(A,_,2),jf(),lg(_,2)}if(_=cg(c),_===null&&W_(i,s,c,Jf,l),_===p)break;p=_}p!==null&&c.stopPropagation()}else W_(i,s,c,null,l)}}function cg(i){return i=ul(i),hg(i)}var Jf=null;function hg(i){if(Jf=null,i=Yt(i),i!==null){var s=Re(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=Ye(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Jf=i,null}function gb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sr()){case Rt:return 2;case Qt:return 8;case ar:case il:return 32;case Jn:return 268435456;default:return 32}default:return 32}}var fg=!1,da=null,pa=null,ma=null,Ec=new Map,bc=new Map,_a=[],_O="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vb(i,s){switch(i){case"focusin":case"focusout":da=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":Ec.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":bc.delete(s.pointerId)}}function wc(i,s,l,c,p,_){return i===null||i.nativeEvent!==_?(i={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:_,targetContainers:[p]},s!==null&&(s=Jt(s),s!==null&&_b(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function gO(i,s,l,c,p){switch(s){case"focusin":return da=wc(da,i,s,l,c,p),!0;case"dragenter":return pa=wc(pa,i,s,l,c,p),!0;case"mouseover":return ma=wc(ma,i,s,l,c,p),!0;case"pointerover":var _=p.pointerId;return Ec.set(_,wc(Ec.get(_)||null,i,s,l,c,p)),!0;case"gotpointercapture":return _=p.pointerId,bc.set(_,wc(bc.get(_)||null,i,s,l,c,p)),!0}return!1}function yb(i){var s=Yt(i.target);if(s!==null){var l=Re(s);if(l!==null){if(s=l.tag,s===13){if(s=Ye(l),s!==null){i.blockedOn=s,ve(i.priority,function(){if(l.tag===13){var c=fr(),p=Zs(l,c);p!==null&&Xn(p,l,c),lg(l,c)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ed(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=cg(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);Or=c,l.target.dispatchEvent(c),Or=null}else return s=Jt(l),s!==null&&_b(s),i.blockedOn=l,!1;s.shift()}return!0}function Eb(i,s,l){ed(i)&&l.delete(s)}function vO(){fg=!1,da!==null&&ed(da)&&(da=null),pa!==null&&ed(pa)&&(pa=null),ma!==null&&ed(ma)&&(ma=null),Ec.forEach(Eb),bc.forEach(Eb)}function td(i,s){i.blockedOn===s&&(i.blockedOn=null,fg||(fg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,vO)))}var nd=null;function bb(i){nd!==i&&(nd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){nd===i&&(nd=null);for(var s=0;s<i.length;s+=3){var l=i[s],c=i[s+1],p=i[s+2];if(typeof c!="function"){if(hg(c||l)===null)continue;break}var _=Jt(l);_!==null&&(i.splice(s,3),s-=3,t_(_,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function Tc(i){function s(x){return td(x,i)}da!==null&&td(da,i),pa!==null&&td(pa,i),ma!==null&&td(ma,i),Ec.forEach(s),bc.forEach(s);for(var l=0;l<_a.length;l++){var c=_a[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<_a.length&&(l=_a[0],l.blockedOn===null);)yb(l),l.blockedOn===null&&_a.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],_=l[c+1],b=p[ke]||null;if(typeof _=="function")b||bb(l);else if(b){var A=null;if(_&&_.hasAttribute("formAction")){if(p=_,b=_[ke]||null)A=b.formAction;else if(hg(p)!==null)continue}else A=b.action;typeof A=="function"?l[c+1]=A:(l.splice(c,3),c-=3),bb(l)}}}function dg(i){this._internalRoot=i}rd.prototype.render=dg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,c=fr();pb(l,c,i,s,null,null)},rd.prototype.unmount=dg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;i.tag===0&&Ul(),pb(i.current,2,null,i,null,null),jf(),s[gt]=null}};function rd(i){this._internalRoot=i}rd.prototype.unstable_scheduleHydration=function(i){if(i){var s=Oe();i={blockedOn:null,target:i,priority:s};for(var l=0;l<_a.length&&s!==0&&s<_a[l].priority;l++);_a.splice(l,0,i),l===0&&yb(i)}};var wb=e.version;if(wb!=="19.0.0")throw Error(r(527,wb,"19.0.0"));Ee.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=ce(s),i=i!==null?be(i):null,i=i===null?null:i.stateNode,i};var yO={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:C,findFiberByHostInstance:Yt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!id.isDisabled&&id.supportsFiber)try{Yr=id.inject(yO),_n=id}catch{}}return Ac.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,c="",p=j1,_=B1,b=z1,A=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=fb(i,1,!1,null,null,l,c,p,_,b,A,null),i[gt]=s.current,X_(i.nodeType===8?i.parentNode:i),new dg(s)},Ac.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var c=!1,p="",_=j1,b=B1,A=z1,x=null,F=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(x=l.unstable_transitionCallbacks),l.formState!==void 0&&(F=l.formState)),s=fb(i,1,!0,s,l??null,c,p,_,b,A,x,F),s.context=db(null),l=s.current,c=fr(),p=sa(c),p.callback=null,aa(l,p,c),s.current.lanes=c,ae(s,c),Di(s),i[gt]=s.current,X_(i),new rd(s)},Ac.version="19.0.0",Ac}var Kb;function S9(){if(Kb)return Eg.exports;Kb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Eg.exports=T9(),Eg.exports}var A9=S9();const fv="/",hu="/cities",Qb={home:fv,cities:hu};var Rc={},Yb;function R9(){if(Yb)return Rc;Yb=1,Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.parse=u,Rc.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function u(w,T){const S=new o,P=w.length;if(P<2)return S;const O=(T==null?void 0:T.decode)||g;let U=0;do{const H=w.indexOf("=",U);if(H===-1)break;const Q=w.indexOf(";",U),ee=Q===-1?P:Q;if(H>ee){U=w.lastIndexOf(";",H-1)+1;continue}const k=h(w,U,H),ie=d(w,H,k),M=w.slice(k,ie);if(S[M]===void 0){let I=h(w,H+1,ee),C=d(w,ee,I);const N=O(w.slice(I,C));S[M]=N}U=ee+1}while(U<P);return S}function h(w,T,S){do{const P=w.charCodeAt(T);if(P!==32&&P!==9)return T}while(++T<S);return S}function d(w,T,S){for(;T>S;){const P=w.charCodeAt(--T);if(P!==32&&P!==9)return T+1}return S}function m(w,T,S){const P=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const O=P(T);if(!e.test(O))throw new TypeError(`argument val is invalid: ${T}`);let U=w+"="+O;if(!S)return U;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);U+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);U+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);U+="; Path="+S.path}if(S.expires){if(!y(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);U+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(U+="; HttpOnly"),S.secure&&(U+="; Secure"),S.partitioned&&(U+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return U}function g(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function y(w){return a.call(w)==="[object Date]"}return Rc}R9();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var T2=t=>{throw TypeError(t)},C9=(t,e,n)=>e.has(t)||T2("Cannot "+n),Sg=(t,e,n)=>(C9(t,e,"read from private field"),n?n.call(t):e.get(t)),O9=(t,e,n)=>e.has(t)?T2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Xb="popstate";function I9(t={}){function e(a,o){let{pathname:u="/",search:h="",hash:d=""}=Fs(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),nh("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let u=a.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let d=a.location.href,m=d.indexOf("#");h=m===-1?d:d.slice(0,m)}return h+"#"+(typeof o=="string"?o:Ma(o))}function r(a,o){An(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return x9(e,n,r,t)}function ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function An(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function D9(){return Math.random().toString(36).substring(2,10)}function Wb(t,e){return{usr:t.state,key:t.key,idx:e}}function nh(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Fs(e):e,state:n,key:e&&e.key||r||D9()}}function Ma({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Fs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function x9(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,h="POP",d=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function y(){h="POP";let O=g(),U=O==null?null:O-m;m=O,d&&d({action:h,location:P.location,delta:U})}function w(O,U){h="PUSH";let H=nh(P.location,O,U);n&&n(H,O),m=g()+1;let Q=Wb(H,m),ee=P.createHref(H);try{u.pushState(Q,"",ee)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(ee)}o&&d&&d({action:h,location:P.location,delta:1})}function T(O,U){h="REPLACE";let H=nh(P.location,O,U);n&&n(H,O),m=g();let Q=Wb(H,m),ee=P.createHref(H);u.replaceState(Q,"",ee),o&&d&&d({action:h,location:P.location,delta:0})}function S(O){let U=a.location.origin!=="null"?a.location.origin:a.location.href,H=typeof O=="string"?O:Ma(O);return H=H.replace(/ $/,"%20"),ot(U,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,U)}let P={get action(){return h},get location(){return t(a,u)},listen(O){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Xb,y),d=O,()=>{a.removeEventListener(Xb,y),d=null}},createHref(O){return e(a,O)},createURL:S,encodeLocation(O){let U=S(O);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:w,replace:T,go(O){return u.go(O)}};return P}var Vc,Zb=class{constructor(t){if(O9(this,Vc,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(Sg(this,Vc).has(t))return Sg(this,Vc).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Sg(this,Vc).set(t,e)}};Vc=new WeakMap;var N9=new Set(["lazy","caseSensitive","path","id","index","children"]);function P9(t){return t.index===!0}function ep(t,e,n=[],r={}){return t.map((a,o)=>{let u=[...n,String(o)],h=typeof a.id=="string"?a.id:u.join("-");if(ot(a.index!==!0||!a.children,"Cannot specify children on an index route"),ot(!r[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),P9(a)){let d={...a,...e(a),id:h};return r[h]=d,d}else{let d={...a,...e(a),id:h,children:void 0};return r[h]=d,a.children&&(d.children=ep(a.children,e,u,r)),d}})}function ba(t,e,n="/"){return Od(t,e,n,!1)}function Od(t,e,n,r){let a=typeof e=="string"?Fs(e):e,o=Kr(a.pathname||"/",n);if(o==null)return null;let u=S2(t);k9(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let m=G9(o);h=H9(u[d],m,r)}return h}function M9(t,e){let{route:n,pathname:r,params:a}=t;return{id:n.id,pathname:r,params:a,data:e[n.id],handle:n.handle}}function S2(t,e=[],n=[],r=""){let a=(o,u,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};d.relativePath.startsWith("/")&&(ot(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let m=Vi([r,d.relativePath]),g=n.concat(d);o.children&&o.children.length>0&&(ot(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),S2(o.children,e,g,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:F9(m,o.index),routesMeta:g})};return t.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))a(o,u);else for(let d of A2(o.path))a(o,u,d)}),e}function A2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=A2(r.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),a&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function k9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:q9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var L9=/^:[\w-]+$/,V9=3,U9=2,j9=1,B9=10,z9=-2,Jb=t=>t==="*";function F9(t,e){let n=t.split("/"),r=n.length;return n.some(Jb)&&(r+=z9),e&&(r+=U9),n.filter(a=>!Jb(a)).reduce((a,o)=>a+(L9.test(o)?V9:o===""?j9:B9),r)}function q9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function H9(t,e,n=!1){let{routesMeta:r}=t,a={},o="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],m=h===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",y=tp({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},g),w=d.route;if(!y&&m&&n&&!r[r.length-1].route.index&&(y=tp({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(a,y.params),u.push({params:a,pathname:Vi([o,y.pathname]),pathnameBase:Y9(Vi([o,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(o=Vi([o,y.pathnameBase]))}return u}function tp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$9(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:y},w)=>{if(g==="*"){let S=h[w]||"";u=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const T=h[w];return y&&!T?m[g]=void 0:m[g]=(T||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:t}}function $9(t,e=!1,n=!0){An(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function G9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return An(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Kr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function K9(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Fs(t):t;return{pathname:n?n.startsWith("/")?n:Q9(n,e):e,search:X9(r),hash:W9(a)}}function Q9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ag(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function R2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sy(t){let e=R2(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ay(t,e,n,r=!1){let a;typeof t=="string"?a=Fs(t):(a={...t},ot(!a.pathname||!a.pathname.includes("?"),Ag("?","pathname","search",a)),ot(!a.pathname||!a.pathname.includes("#"),Ag("#","pathname","hash",a)),ot(!a.search||!a.search.includes("#"),Ag("#","search","hash",a)));let o=t===""||a.pathname==="",u=o?"/":a.pathname,h;if(u==null)h=n;else{let y=e.length-1;if(!r&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),y-=1;a.pathname=w.join("/")}h=y>=0?e[y]:"/"}let d=K9(a,h),m=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||g)&&(d.pathname+="/"),d}var Vi=t=>t.join("/").replace(/\/\/+/g,"/"),Y9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),X9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,W9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,np=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function rh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var C2=["POST","PUT","PATCH","DELETE"],Z9=new Set(C2),J9=["GET",...C2],eD=new Set(J9),tD=new Set([301,302,303,307,308]),nD=new Set([307,308]),Rg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},rD={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Cc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},oy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iD=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),O2="remix-router-transitions",I2=Symbol("ResetLoaderData");function sD(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ot(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.mapRouteProperties||iD,a={},o=ep(t.routes,r,void 0,a),u,h=t.basename||"/",d=t.dataStrategy||cD,m={unstable_middleware:!1,...t.future},g=null,y=new Set,w=null,T=null,S=null,P=t.hydrationData!=null,O=ba(o,t.history.location,h),U=!1,H=null;if(O==null&&!t.patchRoutesOnNavigation){let V=zr(404,{pathname:t.history.location.pathname}),{matches:G,route:Z}=hw(o);O=G,H={[Z.id]:V}}O&&!t.hydrationData&&Ln(O,o,t.history.location.pathname).active&&(O=null);let Q;if(O)if(O.some(V=>V.route.lazy))Q=!1;else if(!O.some(V=>V.route.loader))Q=!0;else{let V=t.hydrationData?t.hydrationData.loaderData:null,G=t.hydrationData?t.hydrationData.errors:null;if(G){let Z=O.findIndex(ae=>G[ae.route.id]!==void 0);Q=O.slice(0,Z+1).every(ae=>!pv(ae.route,V,G))}else Q=O.every(Z=>!pv(Z.route,V,G))}else{Q=!1,O=[];let V=Ln(null,o,t.history.location.pathname);V.active&&V.matches&&(U=!0,O=V.matches)}let ee,k={historyAction:t.history.action,location:t.history.location,matches:O,initialized:Q,navigation:Rg,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||H,fetchers:new Map,blockers:new Map},ie="POP",M=!1,I,C=!1,N=new Map,B=null,$=!1,L=!1,mt=new Set,Ke=new Map,he=0,Me=-1,Re=new Map,Ye=new Set,j=new Map,ce=new Map,be=new Set,_e=new Map,Ee,je=null;function $e(){if(g=t.history.listen(({action:V,location:G,delta:Z})=>{if(Ee){Ee(),Ee=void 0;return}An(_e.size===0||Z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ae=gn({currentLocation:k.location,nextLocation:G,historyAction:V});if(ae&&Z!=null){let me=new Promise(xe=>{Ee=xe});t.history.go(Z*-1),$n(ae,{state:"blocked",location:G,proceed(){$n(ae,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),me.then(()=>t.history.go(Z))},reset(){let xe=new Map(k.blockers);xe.set(ae,Cc),et({blockers:xe})}});return}return Zt(V,G)}),n){wD(e,N);let V=()=>TD(e,N);e.addEventListener("pagehide",V),B=()=>e.removeEventListener("pagehide",V)}return k.initialized||Zt("POP",k.location,{initialHydration:!0}),ee}function Ft(){g&&g(),B&&B(),y.clear(),I&&I.abort(),k.fetchers.forEach((V,G)=>ar(G)),k.blockers.forEach((V,G)=>Gs(G))}function ut(V){return y.add(V),()=>y.delete(V)}function et(V,G={}){k={...k,...V};let Z=[],ae=[];k.fetchers.forEach((me,xe)=>{me.state==="idle"&&(be.has(xe)?Z.push(xe):ae.push(xe))}),be.forEach(me=>{!k.fetchers.has(me)&&!Ke.has(me)&&Z.push(me)}),[...y].forEach(me=>me(k,{deletedFetchers:Z,viewTransitionOpts:G.viewTransitionOpts,flushSync:G.flushSync===!0})),Z.forEach(me=>ar(me)),ae.forEach(me=>k.fetchers.delete(me))}function rt(V,G,{flushSync:Z}={}){var ve,Te;let ae=k.actionData!=null&&k.navigation.formMethod!=null&&ni(k.navigation.formMethod)&&k.navigation.state==="loading"&&((ve=V.state)==null?void 0:ve._isRedirect)!==!0,me;G.actionData?Object.keys(G.actionData).length>0?me=G.actionData:me=null:ae?me=k.actionData:me=null;let xe=G.loaderData?uw(k.loaderData,G.loaderData,G.matches||[],G.errors):k.loaderData,De=k.blockers;De.size>0&&(De=new Map(De),De.forEach((Se,ke)=>De.set(ke,Cc)));let Ce=M===!0||k.navigation.formMethod!=null&&ni(k.navigation.formMethod)&&((Te=V.state)==null?void 0:Te._isRedirect)!==!0;u&&(o=u,u=void 0),$||ie==="POP"||(ie==="PUSH"?t.history.push(V,V.state):ie==="REPLACE"&&t.history.replace(V,V.state));let Oe;if(ie==="POP"){let Se=N.get(k.location.pathname);Se&&Se.has(V.pathname)?Oe={currentLocation:k.location,nextLocation:V}:N.has(V.pathname)&&(Oe={currentLocation:V,nextLocation:k.location})}else if(C){let Se=N.get(k.location.pathname);Se?Se.add(V.pathname):(Se=new Set([V.pathname]),N.set(k.location.pathname,Se)),Oe={currentLocation:k.location,nextLocation:V}}et({...G,actionData:me,loaderData:xe,historyAction:ie,location:V,initialized:!0,navigation:Rg,revalidation:"idle",restoreScrollPosition:Xr(V,G.matches||k.matches),preventScrollReset:Ce,blockers:De},{viewTransitionOpts:Oe,flushSync:Z===!0}),ie="POP",M=!1,C=!1,$=!1,L=!1,je==null||je.resolve(),je=null}async function pn(V,G){if(typeof V=="number"){t.history.go(V);return}let Z=dv(k.location,k.matches,h,V,G==null?void 0:G.fromRouteId,G==null?void 0:G.relative),{path:ae,submission:me,error:xe}=ew(!1,Z,G),De=k.location,Ce=nh(k.location,ae,G&&G.state);Ce={...Ce,...t.history.encodeLocation(Ce)};let Oe=G&&G.replace!=null?G.replace:void 0,ve="PUSH";Oe===!0?ve="REPLACE":Oe===!1||me!=null&&ni(me.formMethod)&&me.formAction===k.location.pathname+k.location.search&&(ve="REPLACE");let Te=G&&"preventScrollReset"in G?G.preventScrollReset===!0:void 0,Se=(G&&G.flushSync)===!0,ke=gn({currentLocation:De,nextLocation:Ce,historyAction:ve});if(ke){$n(ke,{state:"blocked",location:Ce,proceed(){$n(ke,{state:"proceeding",proceed:void 0,reset:void 0,location:Ce}),pn(V,G)},reset(){let gt=new Map(k.blockers);gt.set(ke,Cc),et({blockers:gt})}});return}await Zt(ve,Ce,{submission:me,pendingError:xe,preventScrollReset:Te,replace:G&&G.replace,enableViewTransition:G&&G.viewTransition,flushSync:Se})}function Qr(){je||(je=SD()),mn(),et({revalidation:"loading"});let V=je.promise;return k.navigation.state==="submitting"?V:k.navigation.state==="idle"?(Zt(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),V):(Zt(ie||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:C===!0}),V)}async function Zt(V,G,Z){I&&I.abort(),I=null,ie=V,$=(Z&&Z.startUninterruptedRevalidation)===!0,Tr(k.location,k.matches),M=(Z&&Z.preventScrollReset)===!0,C=(Z&&Z.enableViewTransition)===!0;let ae=u||o,me=Z&&Z.overrideNavigation,xe=Z!=null&&Z.initialHydration&&k.matches&&k.matches.length>0&&!U?k.matches:ba(ae,G,h),De=(Z&&Z.flushSync)===!0;if(xe&&k.initialized&&!L&&gD(k.location,G)&&!(Z&&Z.submission&&ni(Z.submission.formMethod))){rt(G,{matches:xe},{flushSync:De});return}let Ce=Ln(xe,ae,G.pathname);if(Ce.active&&Ce.matches&&(xe=Ce.matches),!xe){let{error:It,notFoundMatches:_t,route:Lt}=ts(G.pathname);rt(G,{matches:_t,loaderData:{},errors:{[Lt.id]:It}},{flushSync:De});return}I=new AbortController;let Oe=$l(t.history,G,I.signal,Z&&Z.submission),ve=new Zb(t.unstable_getContext?await t.unstable_getContext():void 0),Te;if(Z&&Z.pendingError)Te=[Po(xe).route.id,{type:"error",error:Z.pendingError}];else if(Z&&Z.submission&&ni(Z.submission.formMethod)){let It=await di(Oe,G,Z.submission,xe,ve,Ce.active,{replace:Z.replace,flushSync:De});if(It.shortCircuited)return;if(It.pendingActionResult){let[_t,Lt]=It.pendingActionResult;if(dr(Lt)&&rh(Lt.error)&&Lt.error.status===404){I=null,rt(G,{matches:It.matches,loaderData:{},errors:{[_t]:Lt.error}});return}}xe=It.matches||xe,Te=It.pendingActionResult,me=Cg(G,Z.submission),De=!1,Ce.active=!1,Oe=$l(t.history,Oe.url,Oe.signal)}let{shortCircuited:Se,matches:ke,loaderData:gt,errors:Ut}=await pi(Oe,G,xe,ve,Ce.active,me,Z&&Z.submission,Z&&Z.fetcherSubmission,Z&&Z.replace,Z&&Z.initialHydration===!0,De,Te);Se||(I=null,rt(G,{matches:ke||xe,...cw(Te),loaderData:gt,errors:Ut}))}async function di(V,G,Z,ae,me,xe,De={}){mn();let Ce=ED(G,Z);if(et({navigation:Ce},{flushSync:De.flushSync===!0}),xe){let Te=await Rn(ae,G.pathname,V.signal);if(Te.type==="aborted")return{shortCircuited:!0};if(Te.type==="error"){let Se=Po(Te.partialMatches).route.id;return{matches:Te.partialMatches,pendingActionResult:[Se,{type:"error",error:Te.error}]}}else if(Te.matches)ae=Te.matches;else{let{notFoundMatches:Se,error:ke,route:gt}=ts(G.pathname);return{matches:Se,pendingActionResult:[gt.id,{type:"error",error:ke}]}}}let Oe,ve=Uc(ae,G);if(!ve.route.action&&!ve.route.lazy)Oe={type:"error",error:zr(405,{method:V.method,pathname:G.pathname,routeId:ve.route.id})};else{let Te=await es("action",V,[ve],ae,me,null);if(Oe=Te[ve.route.id],!Oe){for(let Se of ae)if(Te[Se.route.id]){Oe=Te[Se.route.id];break}}if(V.signal.aborted)return{shortCircuited:!0}}if(Mo(Oe)){let Te;return De&&De.replace!=null?Te=De.replace:Te=aw(Oe.response.headers.get("Location"),new URL(V.url),h)===k.location.pathname+k.location.search,await Zn(V,Oe,!0,{submission:Z,replace:Te}),{shortCircuited:!0}}if(dr(Oe)){let Te=Po(ae,ve.route.id);return(De&&De.replace)!==!0&&(ie="PUSH"),{matches:ae,pendingActionResult:[Te.route.id,Oe]}}return{matches:ae,pendingActionResult:[ve.route.id,Oe]}}async function pi(V,G,Z,ae,me,xe,De,Ce,Oe,ve,Te,Se){let ke=xe||Cg(G,De),gt=De||Ce||dw(ke),Ut=!$&&!ve;if(me){if(Ut){let Tt=wr(Se);et({navigation:ke,...Tt!==void 0?{actionData:Tt}:{}},{flushSync:Te})}let Xe=await Rn(Z,G.pathname,V.signal);if(Xe.type==="aborted")return{shortCircuited:!0};if(Xe.type==="error"){let Tt=Po(Xe.partialMatches).route.id;return{matches:Xe.partialMatches,loaderData:{},errors:{[Tt]:Xe.error}}}else if(Xe.matches)Z=Xe.matches;else{let{error:Tt,notFoundMatches:vn,route:ns}=ts(G.pathname);return{matches:vn,loaderData:{},errors:{[ns.id]:Tt}}}}let It=u||o,[_t,Lt]=nw(t.history,k,Z,gt,G,ve===!0,L,mt,be,j,Ye,It,h,Se);if(Me=++he,_t.length===0&&Lt.length===0){let Xe=mi();return rt(G,{matches:Z,loaderData:{},errors:Se&&dr(Se[1])?{[Se[0]]:Se[1].error}:null,...cw(Se),...Xe?{fetchers:new Map(k.fetchers)}:{}},{flushSync:Te}),{shortCircuited:!0}}if(Ut){let Xe={};if(!me){Xe.navigation=ke;let Tt=wr(Se);Tt!==void 0&&(Xe.actionData=Tt)}Lt.length>0&&(Xe.fetchers=Za(Lt)),et(Xe,{flushSync:Te})}Lt.forEach(Xe=>{Jn(Xe.key),Xe.controller&&Ke.set(Xe.key,Xe.controller)});let Gn=()=>Lt.forEach(Xe=>Jn(Xe.key));I&&I.signal.addEventListener("abort",Gn);let{loaderResults:or,fetcherResults:Yt}=await $s(Z,_t,Lt,V,ae);if(V.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",Gn),Lt.forEach(Xe=>Ke.delete(Xe.key));let Jt=ud(or);if(Jt)return await Zn(V,Jt.result,!0,{replace:Oe}),{shortCircuited:!0};if(Jt=ud(Yt),Jt)return Ye.add(Jt.key),await Zn(V,Jt.result,!0,{replace:Oe}),{shortCircuited:!0};let{loaderData:Sr,errors:er}=lw(k,Z,or,Se,Lt,Yt);ve&&k.errors&&(er={...k.errors,...er});let wt=mi(),gi=Yr(Me),Wr=wt||gi||Lt.length>0;return{matches:Z,loaderData:Sr,errors:er,...Wr?{fetchers:new Map(k.fetchers)}:{}}}function wr(V){if(V&&!dr(V[1]))return{[V[0]]:V[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function Za(V){return V.forEach(G=>{let Z=k.fetchers.get(G.key),ae=Oc(void 0,Z?Z.data:void 0);k.fetchers.set(G.key,ae)}),new Map(k.fetchers)}async function qs(V,G,Z,ae){Jn(V);let me=(ae&&ae.flushSync)===!0,xe=u||o,De=dv(k.location,k.matches,h,Z,G,ae==null?void 0:ae.relative),Ce=ba(xe,De,h),Oe=Ln(Ce,xe,De);if(Oe.active&&Oe.matches&&(Ce=Oe.matches),!Ce){Rt(V,G,zr(404,{pathname:De}),{flushSync:me});return}let{path:ve,submission:Te,error:Se}=ew(!0,De,ae);if(Se){Rt(V,G,Se,{flushSync:me});return}let ke=Uc(Ce,ve),gt=new Zb(t.unstable_getContext?await t.unstable_getContext():void 0),Ut=(ae&&ae.preventScrollReset)===!0;if(Te&&ni(Te.formMethod)){await Hs(V,G,ve,ke,Ce,gt,Oe.active,me,Ut,Te);return}j.set(V,{routeId:G,path:ve}),await Ji(V,G,ve,ke,Ce,gt,Oe.active,me,Ut,Te)}async function Hs(V,G,Z,ae,me,xe,De,Ce,Oe,ve){mn(),j.delete(V);function Te(xt){if(!xt.route.action&&!xt.route.lazy){let Ar=zr(405,{method:ve.formMethod,pathname:Z,routeId:G});return Rt(V,G,Ar,{flushSync:Ce}),!0}return!1}if(!De&&Te(ae))return;let Se=k.fetchers.get(V);sr(V,bD(ve,Se),{flushSync:Ce});let ke=new AbortController,gt=$l(t.history,Z,ke.signal,ve);if(De){let xt=await Rn(me,Z,gt.signal,V);if(xt.type==="aborted")return;if(xt.type==="error"){Rt(V,G,xt.error,{flushSync:Ce});return}else if(xt.matches){if(me=xt.matches,ae=Uc(me,Z),Te(ae))return}else{Rt(V,G,zr(404,{pathname:Z}),{flushSync:Ce});return}}Ke.set(V,ke);let Ut=he,_t=(await es("action",gt,[ae],me,xe,V))[ae.route.id];if(gt.signal.aborted){Ke.get(V)===ke&&Ke.delete(V);return}if(be.has(V)){if(Mo(_t)||dr(_t)){sr(V,Ea(void 0));return}}else{if(Mo(_t))if(Ke.delete(V),Me>Ut){sr(V,Ea(void 0));return}else return Ye.add(V),sr(V,Oc(ve)),Zn(gt,_t,!1,{fetcherSubmission:ve,preventScrollReset:Oe});if(dr(_t)){Rt(V,G,_t.error);return}}let Lt=k.navigation.location||k.location,Gn=$l(t.history,Lt,ke.signal),or=u||o,Yt=k.navigation.state!=="idle"?ba(or,k.navigation.location,h):k.matches;ot(Yt,"Didn't find any matches after fetcher action");let Jt=++he;Re.set(V,Jt);let Sr=Oc(ve,_t.data);k.fetchers.set(V,Sr);let[er,wt]=nw(t.history,k,Yt,ve,Lt,!1,L,mt,be,j,Ye,or,h,[ae.route.id,_t]);wt.filter(xt=>xt.key!==V).forEach(xt=>{let Ar=xt.key,eo=k.fetchers.get(Ar),vi=Oc(void 0,eo?eo.data:void 0);k.fetchers.set(Ar,vi),Jn(Ar),xt.controller&&Ke.set(Ar,xt.controller)}),et({fetchers:new Map(k.fetchers)});let gi=()=>wt.forEach(xt=>Jn(xt.key));ke.signal.addEventListener("abort",gi);let{loaderResults:Wr,fetcherResults:Xe}=await $s(Yt,er,wt,Gn,xe);if(ke.signal.aborted)return;ke.signal.removeEventListener("abort",gi),Re.delete(V),Ke.delete(V),wt.forEach(xt=>Ke.delete(xt.key));let Tt=ud(Wr);if(Tt)return Zn(Gn,Tt.result,!1,{preventScrollReset:Oe});if(Tt=ud(Xe),Tt)return Ye.add(Tt.key),Zn(Gn,Tt.result,!1,{preventScrollReset:Oe});let{loaderData:vn,errors:ns}=lw(k,Yt,Wr,void 0,wt,Xe);if(k.fetchers.has(V)){let xt=Ea(_t.data);k.fetchers.set(V,xt)}Yr(Jt),k.navigation.state==="loading"&&Jt>Me?(ot(ie,"Expected pending action"),I&&I.abort(),rt(k.navigation.location,{matches:Yt,loaderData:vn,errors:ns,fetchers:new Map(k.fetchers)})):(et({errors:ns,loaderData:uw(k.loaderData,vn,Yt,ns),fetchers:new Map(k.fetchers)}),L=!1)}async function Ji(V,G,Z,ae,me,xe,De,Ce,Oe,ve){let Te=k.fetchers.get(V);sr(V,Oc(ve,Te?Te.data:void 0),{flushSync:Ce});let Se=new AbortController,ke=$l(t.history,Z,Se.signal);if(De){let _t=await Rn(me,Z,ke.signal,V);if(_t.type==="aborted")return;if(_t.type==="error"){Rt(V,G,_t.error,{flushSync:Ce});return}else if(_t.matches)me=_t.matches,ae=Uc(me,Z);else{Rt(V,G,zr(404,{pathname:Z}),{flushSync:Ce});return}}Ke.set(V,Se);let gt=he,It=(await es("loader",ke,[ae],me,xe,V))[ae.route.id];if(Ke.get(V)===Se&&Ke.delete(V),!ke.signal.aborted){if(be.has(V)){sr(V,Ea(void 0));return}if(Mo(It))if(Me>gt){sr(V,Ea(void 0));return}else{Ye.add(V),await Zn(ke,It,!1,{preventScrollReset:Oe});return}if(dr(It)){Rt(V,G,It.error);return}sr(V,Ea(It.data))}}async function Zn(V,G,Z,{submission:ae,fetcherSubmission:me,preventScrollReset:xe,replace:De}={}){G.response.headers.has("X-Remix-Revalidate")&&(L=!0);let Ce=G.response.headers.get("Location");ot(Ce,"Expected a Location header on the redirect Response"),Ce=aw(Ce,new URL(V.url),h);let Oe=nh(k.location,Ce,{_isRedirect:!0});if(n){let Ut=!1;if(G.response.headers.has("X-Remix-Reload-Document"))Ut=!0;else if(oy.test(Ce)){const It=t.history.createURL(Ce);Ut=It.origin!==e.location.origin||Kr(It.pathname,h)==null}if(Ut){De?e.location.replace(Ce):e.location.assign(Ce);return}}I=null;let ve=De===!0||G.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Te,formAction:Se,formEncType:ke}=k.navigation;!ae&&!me&&Te&&Se&&ke&&(ae=dw(k.navigation));let gt=ae||me;if(nD.has(G.response.status)&&gt&&ni(gt.formMethod))await Zt(ve,Oe,{submission:{...gt,formAction:Ce},preventScrollReset:xe||M,enableViewTransition:Z?C:void 0});else{let Ut=Cg(Oe,ae);await Zt(ve,Oe,{overrideNavigation:Ut,fetcherSubmission:me,preventScrollReset:xe||M,enableViewTransition:Z?C:void 0})}}async function es(V,G,Z,ae,me,xe){let De,Ce={};try{De=await fD(d,V,G,Z,ae,xe,a,r,me,m.unstable_middleware)}catch(Oe){return Z.forEach(ve=>{Ce[ve.route.id]={type:"error",error:Oe}}),Ce}for(let[Oe,ve]of Object.entries(De))if(vD(ve)){let Te=ve.result;Ce[Oe]={type:"redirect",response:mD(Te,G,Oe,ae,h)}}else Ce[Oe]=await pD(ve);return Ce}async function $s(V,G,Z,ae,me){let xe=es("loader",ae,G,V,me,null),De=Promise.all(Z.map(async ve=>{if(ve.matches&&ve.match&&ve.controller){let Se=(await es("loader",$l(t.history,ve.path,ve.controller.signal),[ve.match],ve.matches,me,ve.key))[ve.match.route.id];return{[ve.key]:Se}}else return Promise.resolve({[ve.key]:{type:"error",error:zr(404,{pathname:ve.path})}})})),Ce=await xe,Oe=(await De).reduce((ve,Te)=>Object.assign(ve,Te),{});return{loaderResults:Ce,fetcherResults:Oe}}function mn(){L=!0,j.forEach((V,G)=>{Ke.has(G)&&mt.add(G),Jn(G)})}function sr(V,G,Z={}){k.fetchers.set(V,G),et({fetchers:new Map(k.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function Rt(V,G,Z,ae={}){let me=Po(k.matches,G);ar(V),et({errors:{[me.route.id]:Z},fetchers:new Map(k.fetchers)},{flushSync:(ae&&ae.flushSync)===!0})}function Qt(V){return ce.set(V,(ce.get(V)||0)+1),be.has(V)&&be.delete(V),k.fetchers.get(V)||rD}function ar(V){let G=k.fetchers.get(V);Ke.has(V)&&!(G&&G.state==="loading"&&Re.has(V))&&Jn(V),j.delete(V),Re.delete(V),Ye.delete(V),be.delete(V),mt.delete(V),k.fetchers.delete(V)}function il(V){let G=(ce.get(V)||0)-1;G<=0?(ce.delete(V),be.add(V)):ce.set(V,G),et({fetchers:new Map(k.fetchers)})}function Jn(V){let G=Ke.get(V);G&&(G.abort(),Ke.delete(V))}function sl(V){for(let G of V){let Z=Qt(G),ae=Ea(Z.data);k.fetchers.set(G,ae)}}function mi(){let V=[],G=!1;for(let Z of Ye){let ae=k.fetchers.get(Z);ot(ae,`Expected fetcher: ${Z}`),ae.state==="loading"&&(Ye.delete(Z),V.push(Z),G=!0)}return sl(V),G}function Yr(V){let G=[];for(let[Z,ae]of Re)if(ae<V){let me=k.fetchers.get(Z);ot(me,`Expected fetcher: ${Z}`),me.state==="loading"&&(Jn(Z),Re.delete(Z),G.push(Z))}return sl(G),G.length>0}function _n(V,G){let Z=k.blockers.get(V)||Cc;return _e.get(V)!==G&&_e.set(V,G),Z}function Gs(V){k.blockers.delete(V),_e.delete(V)}function $n(V,G){let Z=k.blockers.get(V)||Cc;ot(Z.state==="unblocked"&&G.state==="blocked"||Z.state==="blocked"&&G.state==="blocked"||Z.state==="blocked"&&G.state==="proceeding"||Z.state==="blocked"&&G.state==="unblocked"||Z.state==="proceeding"&&G.state==="unblocked",`Invalid blocker state transition: ${Z.state} -> ${G.state}`);let ae=new Map(k.blockers);ae.set(V,G),et({blockers:ae})}function gn({currentLocation:V,nextLocation:G,historyAction:Z}){if(_e.size===0)return;_e.size>1&&An(!1,"A router only supports one blocker at a time");let ae=Array.from(_e.entries()),[me,xe]=ae[ae.length-1],De=k.blockers.get(me);if(!(De&&De.state==="proceeding")&&xe({currentLocation:V,nextLocation:G,historyAction:Z}))return me}function ts(V){let G=zr(404,{pathname:V}),Z=u||o,{matches:ae,route:me}=hw(Z);return{notFoundMatches:ae,route:me,error:G}}function al(V,G,Z){if(w=V,S=G,T=Z||null,!P&&k.navigation===Rg){P=!0;let ae=Xr(k.location,k.matches);ae!=null&&et({restoreScrollPosition:ae})}return()=>{w=null,S=null,T=null}}function Ja(V,G){return T&&T(V,G.map(ae=>M9(ae,k.loaderData)))||V.key}function Tr(V,G){if(w&&S){let Z=Ja(V,G);w[Z]=S()}}function Xr(V,G){if(w){let Z=Ja(V,G),ae=w[Z];if(typeof ae=="number")return ae}return null}function Ln(V,G,Z){if(t.patchRoutesOnNavigation)if(V){if(Object.keys(V[0].params).length>0)return{active:!0,matches:Od(G,Z,h,!0)}}else return{active:!0,matches:Od(G,Z,h,!0)||[]};return{active:!1,matches:null}}async function Rn(V,G,Z,ae){if(!t.patchRoutesOnNavigation)return{type:"success",matches:V};let me=V;for(;;){let xe=u==null,De=u||o,Ce=a;try{await t.patchRoutesOnNavigation({signal:Z,path:G,matches:me,fetcherKey:ae,patch:(Te,Se)=>{Z.aborted||iw(Te,Se,De,Ce,r)}})}catch(Te){return{type:"error",error:Te,partialMatches:me}}finally{xe&&!Z.aborted&&(o=[...o])}if(Z.aborted)return{type:"aborted"};let Oe=ba(De,G,h);if(Oe)return{type:"success",matches:Oe};let ve=Od(De,G,h,!0);if(!ve||me.length===ve.length&&me.every((Te,Se)=>Te.route.id===ve[Se].route.id))return{type:"success",matches:null};me=ve}}function _i(V){a={},u=ep(V,r,void 0,a)}function Ks(V,G){let Z=u==null;iw(V,G,u||o,a,r),Z&&(o=[...o],et({}))}return ee={get basename(){return h},get future(){return m},get state(){return k},get routes(){return o},get window(){return e},initialize:$e,subscribe:ut,enableScrollRestoration:al,navigate:pn,fetch:qs,revalidate:Qr,createHref:V=>t.history.createHref(V),encodeLocation:V=>t.history.encodeLocation(V),getFetcher:Qt,deleteFetcher:il,dispose:Ft,getBlocker:_n,deleteBlocker:Gs,patchRoutes:Ks,_internalFetchControllers:Ke,_internalSetRoutes:_i},ee}function aD(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function dv(t,e,n,r,a,o){let u,h;if(a){u=[];for(let m of e)if(u.push(m),m.route.id===a){h=m;break}}else u=e,h=e[e.length-1];let d=ay(r||".",sy(u),Kr(t.pathname,n)||t.pathname,o==="path");if(r==null&&(d.search=t.search,d.hash=t.hash),(r==null||r===""||r===".")&&h){let m=ly(d.search);if(h.route.index&&!m)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&m){let g=new URLSearchParams(d.search),y=g.getAll("index");g.delete("index"),y.filter(T=>T).forEach(T=>g.append("index",T));let w=g.toString();d.search=w?`?${w}`:""}}return n!=="/"&&(d.pathname=d.pathname==="/"?n:Vi([n,d.pathname])),Ma(d)}function ew(t,e,n){if(!n||!aD(n))return{path:e};if(n.formMethod&&!yD(n.formMethod))return{path:e,error:zr(405,{method:n.formMethod})};let r=()=>({path:e,error:zr(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),u=N2(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!ni(o))return r();let y=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((w,[T,S])=>`${w}${T}=${S}
`,""):String(n.body);return{path:e,submission:{formMethod:o,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:y}}}else if(n.formEncType==="application/json"){if(!ni(o))return r();try{let y=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:o,formAction:u,formEncType:n.formEncType,formData:void 0,json:y,text:void 0}}}catch{return r()}}}ot(typeof FormData=="function","FormData is not available in this environment");let h,d;if(n.formData)h=mv(n.formData),d=n.formData;else if(n.body instanceof FormData)h=mv(n.body),d=n.body;else if(n.body instanceof URLSearchParams)h=n.body,d=ow(h);else if(n.body==null)h=new URLSearchParams,d=new FormData;else try{h=new URLSearchParams(n.body),d=ow(h)}catch{return r()}let m={formMethod:o,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(ni(m.formMethod))return{path:e,submission:m};let g=Fs(e);return t&&g.search&&ly(g.search)&&h.append("index",""),g.search=`?${h}`,{path:Ma(g),submission:m}}function tw(t,e,n=!1){let r=t.findIndex(a=>a.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function nw(t,e,n,r,a,o,u,h,d,m,g,y,w,T){let S=T?dr(T[1])?T[1].error:T[1].data:void 0,P=t.createURL(e.location),O=t.createURL(a),U=n;o&&e.errors?U=tw(n,Object.keys(e.errors)[0],!0):T&&dr(T[1])&&(U=tw(n,T[0]));let H=T?T[1].statusCode:void 0,Q=H&&H>=400,ee=U.filter((ie,M)=>{let{route:I}=ie;if(I.lazy)return!0;if(I.loader==null)return!1;if(o)return pv(I,e.loaderData,e.errors);if(oD(e.loaderData,e.matches[M],ie))return!0;let C=e.matches[M],N=ie;return rw(ie,{currentUrl:P,currentParams:C.params,nextUrl:O,nextParams:N.params,...r,actionResult:S,actionStatus:H,defaultShouldRevalidate:Q?!1:u||P.pathname+P.search===O.pathname+O.search||P.search!==O.search||lD(C,N)})}),k=[];return m.forEach((ie,M)=>{if(o||!n.some($=>$.route.id===ie.routeId)||d.has(M))return;let I=ba(y,ie.path,w);if(!I){k.push({key:M,routeId:ie.routeId,path:ie.path,matches:null,match:null,controller:null});return}let C=e.fetchers.get(M),N=Uc(I,ie.path),B=!1;g.has(M)?B=!1:h.has(M)?(h.delete(M),B=!0):C&&C.state!=="idle"&&C.data===void 0?B=u:B=rw(N,{currentUrl:P,currentParams:e.matches[e.matches.length-1].params,nextUrl:O,nextParams:n[n.length-1].params,...r,actionResult:S,actionStatus:H,defaultShouldRevalidate:Q?!1:u}),B&&k.push({key:M,routeId:ie.routeId,path:ie.path,matches:I,match:N,controller:new AbortController})}),[ee,k]}function pv(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,a=n!=null&&n[t.id]!==void 0;return!r&&a?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!a}function oD(t,e,n){let r=!e||n.route.id!==e.route.id,a=!t.hasOwnProperty(n.route.id);return r||a}function lD(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function rw(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function iw(t,e,n,r,a){let o;if(t){let d=r[t];ot(d,`No route found to patch children into: routeId = ${t}`),d.children||(d.children=[]),o=d.children}else o=n;let u=e.filter(d=>!o.some(m=>D2(d,m))),h=ep(u,a,[t||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...h)}function D2(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var a;return(a=e.children)==null?void 0:a.some(o=>D2(n,o))}):!1}async function uD(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let a=n[t.id];ot(a,"No route found in manifest");let o={};for(let u in r){let d=a[u]!==void 0&&u!=="hasErrorBoundary";An(!d,`Route "${a.id}" has a static property "${u}" defined but its lazy function is also returning a value for this property. The lazy route property "${u}" will be ignored.`),!d&&!N9.has(u)&&(o[u]=r[u])}Object.assign(a,o),Object.assign(a,{...e(a),lazy:void 0})}async function sw(t){let e=t.matches.filter(a=>a.shouldLoad),n={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,o)=>{n[e[o].route.id]=a}),n}async function cD(t){return t.matches.some(e=>e.route.unstable_middleware)?hD(t,!1,()=>sw(t),(e,n)=>({[n]:{type:"error",result:e}})):sw(t)}async function hD(t,e,n,r){let{matches:a,request:o,params:u,context:h}=t,d={handlerResult:void 0};try{let m=a.flatMap(y=>y.route.unstable_middleware?y.route.unstable_middleware.map(w=>[y.route.id,w]):[]),g=await x2({request:o,params:u,context:h},m,e,d,n);return e?g:d.handlerResult}catch(m){if(!d.middlewareError)throw m;let g=await r(d.middlewareError.error,d.middlewareError.routeId);return d.handlerResult?Object.assign(d.handlerResult,g):g}}async function x2(t,e,n,r,a,o=0){let{request:u}=t;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let h=e[o];if(!h)return r.handlerResult=await a(),r.handlerResult;let[d,m]=h,g=!1,y,w=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");g=!0,await x2(t,e,n,r,a,o+1)};try{let T=await m({request:t.request,params:t.params,context:t.context},w);return g?T===void 0?y:T:w()}catch(T){throw r.middlewareError?r.middlewareError.error!==T&&(r.middlewareError={routeId:d,error:T}):r.middlewareError={routeId:d,error:T},T}}async function fD(t,e,n,r,a,o,u,h,d,m){let g=a.map(T=>T.route.lazy?uD(T.route,h,u):void 0);m&&await Promise.all(g);let y=a.map((T,S)=>{let P=g[S],O=r.some(H=>H.route.id===T.route.id);return{...T,shouldLoad:O,resolve:async H=>(H&&n.method==="GET"&&(T.route.lazy||T.route.loader)&&(O=!0),O?dD(e,n,T,P,H,d):Promise.resolve({type:"data",result:void 0}))}}),w=await t({matches:y,request:n,params:a[0].params,fetcherKey:o,context:d});try{await Promise.all(g)}catch{}return w}async function dD(t,e,n,r,a,o){let u,h,d=m=>{let g,y=new Promise((S,P)=>g=P);h=()=>g(),e.signal.addEventListener("abort",h);let w=S=>typeof m!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${t}" [routeId: ${n.route.id}]`)):m({request:e,params:n.params,context:o},...S!==void 0?[S]:[]),T=(async()=>{try{return{type:"data",result:await(a?a(P=>w(P)):w())}}catch(S){return{type:"error",result:S}}})();return Promise.race([T,y])};try{let m=n.route[t];if(r)if(m){let g,[y]=await Promise.all([d(m).catch(w=>{g=w}),r]);if(g!==void 0)throw g;u=y}else if(await r,m=n.route[t],m)u=await d(m);else if(t==="action"){let g=new URL(e.url),y=g.pathname+g.search;throw zr(405,{method:e.method,pathname:y,routeId:n.route.id})}else return{type:"data",result:void 0};else if(m)u=await d(m);else{let g=new URL(e.url),y=g.pathname+g.search;throw zr(404,{pathname:y})}}catch(m){return{type:"error",result:m}}finally{h&&e.signal.removeEventListener("abort",h)}return u}async function pD(t){var r,a,o,u,h,d;let{result:e,type:n}=t;if(P2(e)){let m;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?m=null:m=await e.json():m=await e.text()}catch(g){return{type:"error",error:g}}return n==="error"?{type:"error",error:new np(e.status,e.statusText,m),statusCode:e.status,headers:e.headers}:{type:"data",data:m,statusCode:e.status,headers:e.headers}}return n==="error"?fw(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new np(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:rh(e)?e.status:void 0,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:rh(e)?e.status:void 0}:fw(e)?{type:"data",data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(d=e.init)!=null&&d.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function mD(t,e,n,r,a){let o=t.headers.get("Location");if(ot(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!oy.test(o)){let u=r.slice(0,r.findIndex(h=>h.route.id===n)+1);o=dv(new URL(e.url),u,a,o),t.headers.set("Location",o)}return t}function aw(t,e,n){if(oy.test(t)){let r=t,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=Kr(a.pathname,n)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}return t}function $l(t,e,n,r){let a=t.createURL(N2(e)).toString(),o={signal:n};if(r&&ni(r.formMethod)){let{formMethod:u,formEncType:h}=r;o.method=u.toUpperCase(),h==="application/json"?(o.headers=new Headers({"Content-Type":h}),o.body=JSON.stringify(r.json)):h==="text/plain"?o.body=r.text:h==="application/x-www-form-urlencoded"&&r.formData?o.body=mv(r.formData):o.body=r.formData}return new Request(a,o)}function mv(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function ow(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function _D(t,e,n,r=!1,a=!1){let o={},u=null,h,d=!1,m={},g=n&&dr(n[1])?n[1].error:void 0;return t.forEach(y=>{if(!(y.route.id in e))return;let w=y.route.id,T=e[w];if(ot(!Mo(T),"Cannot handle redirect results in processLoaderData"),dr(T)){let S=T.error;if(g!==void 0&&(S=g,g=void 0),u=u||{},a)u[w]=S;else{let P=Po(t,w);u[P.route.id]==null&&(u[P.route.id]=S)}r||(o[w]=I2),d||(d=!0,h=rh(T.error)?T.error.status:500),T.headers&&(m[w]=T.headers)}else o[w]=T.data,T.statusCode&&T.statusCode!==200&&!d&&(h=T.statusCode),T.headers&&(m[w]=T.headers)}),g!==void 0&&n&&(u={[n[0]]:g},o[n[0]]=void 0),{loaderData:o,errors:u,statusCode:h||200,loaderHeaders:m}}function lw(t,e,n,r,a,o){let{loaderData:u,errors:h}=_D(e,n,r);return a.forEach(d=>{let{key:m,match:g,controller:y}=d,w=o[m];if(ot(w,"Did not find corresponding fetcher result"),!(y&&y.signal.aborted))if(dr(w)){let T=Po(t.matches,g==null?void 0:g.route.id);h&&h[T.route.id]||(h={...h,[T.route.id]:w.error}),t.fetchers.delete(m)}else if(Mo(w))ot(!1,"Unhandled fetcher revalidation redirect");else{let T=Ea(w.data);t.fetchers.set(m,T)}}),{loaderData:u,errors:h}}function uw(t,e,n,r){let a=Object.entries(e).filter(([,o])=>o!==I2).reduce((o,[u,h])=>(o[u]=h,o),{});for(let o of n){let u=o.route.id;if(!e.hasOwnProperty(u)&&t.hasOwnProperty(u)&&o.route.loader&&(a[u]=t[u]),r&&r.hasOwnProperty(u))break}return a}function cw(t){return t?dr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Po(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function hw(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function zr(t,{pathname:e,routeId:n,method:r,type:a,message:o}={}){let u="Unknown Server Error",h="Unknown @remix-run/router error";return t===400?(u="Bad Request",r&&e&&n?h=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(h="Unable to encode submission body")):t===403?(u="Forbidden",h=`Route "${n}" does not match URL "${e}"`):t===404?(u="Not Found",h=`No route matches URL "${e}"`):t===405&&(u="Method Not Allowed",r&&e&&n?h=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(h=`Invalid request method "${r.toUpperCase()}"`)),new np(t||500,u,new Error(h),!0)}function ud(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,a]=e[n];if(Mo(a))return{key:r,result:a}}}function N2(t){let e=typeof t=="string"?Fs(t):t;return Ma({...e,hash:""})}function gD(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function vD(t){return P2(t.result)&&tD.has(t.result.status)}function dr(t){return t.type==="error"}function Mo(t){return(t&&t.type)==="redirect"}function fw(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function P2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function yD(t){return eD.has(t.toUpperCase())}function ni(t){return Z9.has(t.toUpperCase())}function ly(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Uc(t,e){let n=typeof e=="string"?Fs(e).search:e.search;if(t[t.length-1].route.index&&ly(n||""))return t[t.length-1];let r=R2(t);return r[r.length-1]}function dw(t){let{formMethod:e,formAction:n,formEncType:r,text:a,formData:o,json:u}=t;if(!(!e||!n||!r)){if(a!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:u,text:void 0}}}function Cg(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ED(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Oc(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function bD(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ea(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function wD(t,e){try{let n=t.sessionStorage.getItem(O2);if(n){let r=JSON.parse(n);for(let[a,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(a,new Set(o||[]))}}catch{}}function TD(t,e){if(e.size>0){let n={};for(let[r,a]of e)n[r]=[...a];try{t.sessionStorage.setItem(O2,JSON.stringify(n))}catch(r){An(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function SD(){let t,e,n=new Promise((r,a)=>{t=async o=>{r(o);try{await n}catch{}},e=async o=>{a(o);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Zo=q.createContext(null);Zo.displayName="DataRouter";var Ch=q.createContext(null);Ch.displayName="DataRouterState";var uy=q.createContext({isTransitioning:!1});uy.displayName="ViewTransition";var M2=q.createContext(new Map);M2.displayName="Fetchers";var AD=q.createContext(null);AD.displayName="Await";var Yi=q.createContext(null);Yi.displayName="Navigation";var kp=q.createContext(null);kp.displayName="Location";var Xi=q.createContext({outlet:null,matches:[],isDataRoute:!1});Xi.displayName="Route";var cy=q.createContext(null);cy.displayName="RouteError";function RD(t,{relative:e}={}){ot(Oh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=q.useContext(Yi),{hash:a,pathname:o,search:u}=Ih(t,{relative:e}),h=o;return n!=="/"&&(h=o==="/"?n:Vi([n,o])),r.createHref({pathname:h,search:u,hash:a})}function Oh(){return q.useContext(kp)!=null}function Ka(){return ot(Oh(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(kp).location}var k2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function L2(t){q.useContext(Yi).static||q.useLayoutEffect(t)}function Lp(){let{isDataRoute:t}=q.useContext(Xi);return t?BD():CD()}function CD(){ot(Oh(),"useNavigate() may be used only in the context of a <Router> component.");let t=q.useContext(Zo),{basename:e,navigator:n}=q.useContext(Yi),{matches:r}=q.useContext(Xi),{pathname:a}=Ka(),o=JSON.stringify(sy(r)),u=q.useRef(!1);return L2(()=>{u.current=!0}),q.useCallback((d,m={})=>{if(An(u.current,k2),!u.current)return;if(typeof d=="number"){n.go(d);return}let g=ay(d,JSON.parse(o),a,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Vi([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,o,a,t])}q.createContext(null);function OD(){let{matches:t}=q.useContext(Xi),e=t[t.length-1];return e?e.params:{}}function Ih(t,{relative:e}={}){let{matches:n}=q.useContext(Xi),{pathname:r}=Ka(),a=JSON.stringify(sy(n));return q.useMemo(()=>ay(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function ID(t,e,n,r){ot(Oh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=q.useContext(Yi),{matches:u}=q.useContext(Xi),h=u[u.length-1],d=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",y=h&&h.route;{let H=y&&y.path||"";V2(m,!y||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let w=Ka(),T;T=w;let S=T.pathname||"/",P=S;if(g!=="/"){let H=g.replace(/^\//,"").split("/");P="/"+S.replace(/^\//,"").split("/").slice(H.length).join("/")}let O=!o&&n&&n.matches&&n.matches.length>0?n.matches:ba(t,{pathname:P});return An(y||O!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),An(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),MD(O&&O.map(H=>Object.assign({},H,{params:Object.assign({},d,H.params),pathname:Vi([g,a.encodeLocation?a.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?g:Vi([g,a.encodeLocation?a.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),u,n,r)}function DD(){let t=jD(),e=rh(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:o},"ErrorBoundary")," or"," ",q.createElement("code",{style:o},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:a},n):null,u)}var xD=q.createElement(DD,null),ND=class extends q.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?q.createElement(Xi.Provider,{value:this.props.routeContext},q.createElement(cy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function PD({routeContext:t,match:e,children:n}){let r=q.useContext(Zo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Xi.Provider,{value:t},n)}function MD(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=n==null?void 0:n.errors;if(o!=null){let d=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);ot(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,h=-1;if(n)for(let d=0;d<a.length;d++){let m=a[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:g,errors:y}=n,w=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||w){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,m,g)=>{let y,w=!1,T=null,S=null;n&&(y=o&&m.route.id?o[m.route.id]:void 0,T=m.route.errorElement||xD,u&&(h<0&&g===0?(V2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):h===g&&(w=!0,S=m.route.hydrateFallbackElement||null)));let P=e.concat(a.slice(0,g+1)),O=()=>{let U;return y?U=T:w?U=S:m.route.Component?U=q.createElement(m.route.Component,null):m.route.element?U=m.route.element:U=d,q.createElement(PD,{match:m,routeContext:{outlet:d,matches:P,isDataRoute:n!=null},children:U})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?q.createElement(ND,{location:n.location,revalidation:n.revalidation,component:T,error:y,children:O(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):O()},null)}function hy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kD(t){let e=q.useContext(Zo);return ot(e,hy(t)),e}function LD(t){let e=q.useContext(Ch);return ot(e,hy(t)),e}function VD(t){let e=q.useContext(Xi);return ot(e,hy(t)),e}function fy(t){let e=VD(t),n=e.matches[e.matches.length-1];return ot(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function UD(){return fy("useRouteId")}function jD(){var r;let t=q.useContext(cy),e=LD("useRouteError"),n=fy("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function BD(){let{router:t}=kD("useNavigate"),e=fy("useNavigate"),n=q.useRef(!1);return L2(()=>{n.current=!0}),q.useCallback(async(a,o={})=>{An(n.current,k2),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var pw={};function V2(t,e,n){!e&&!pw[t]&&(pw[t]=!0,An(!1,n))}var mw={};function _w(t,e){!t&&!mw[e]&&(mw[e]=!0,console.warn(e))}function zD(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&An(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:q.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&An(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:q.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&An(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:q.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var FD=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function qD({router:t,flushSync:e}){let[n,r]=q.useState(t.state),[a,o]=q.useState(),[u,h]=q.useState({isTransitioning:!1}),[d,m]=q.useState(),[g,y]=q.useState(),[w,T]=q.useState(),S=q.useRef(new Map),P=q.useCallback((Q,{deletedFetchers:ee,flushSync:k,viewTransitionOpts:ie})=>{Q.fetchers.forEach((I,C)=>{I.data!==void 0&&S.current.set(C,I.data)}),ee.forEach(I=>S.current.delete(I)),_w(k===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let M=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(_w(ie==null||M,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ie||!M){e&&k?e(()=>r(Q)):q.startTransition(()=>r(Q));return}if(e&&k){e(()=>{g&&(d&&d.resolve(),g.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation})});let I=t.window.document.startViewTransition(()=>{e(()=>r(Q))});I.finished.finally(()=>{e(()=>{m(void 0),y(void 0),o(void 0),h({isTransitioning:!1})})}),e(()=>y(I));return}g?(d&&d.resolve(),g.skipTransition(),T({state:Q,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation})):(o(Q),h({isTransitioning:!0,flushSync:!1,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation}))},[t.window,e,g,d]);q.useLayoutEffect(()=>t.subscribe(P),[t,P]),q.useEffect(()=>{u.isTransitioning&&!u.flushSync&&m(new FD)},[u]),q.useEffect(()=>{if(d&&a&&t.window){let Q=a,ee=d.promise,k=t.window.document.startViewTransition(async()=>{q.startTransition(()=>r(Q)),await ee});k.finished.finally(()=>{m(void 0),y(void 0),o(void 0),h({isTransitioning:!1})}),y(k)}},[a,d,t.window]),q.useEffect(()=>{d&&a&&n.location.key===a.location.key&&d.resolve()},[d,g,n.location,a]),q.useEffect(()=>{!u.isTransitioning&&w&&(o(w.state),h({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),T(void 0))},[u.isTransitioning,w]);let O=q.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:Q=>t.navigate(Q),push:(Q,ee,k)=>t.navigate(Q,{state:ee,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(Q,ee,k)=>t.navigate(Q,{replace:!0,state:ee,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[t]),U=t.basename||"/",H=q.useMemo(()=>({router:t,navigator:O,static:!1,basename:U}),[t,O,U]);return q.createElement(q.Fragment,null,q.createElement(Zo.Provider,{value:H},q.createElement(Ch.Provider,{value:n},q.createElement(M2.Provider,{value:S.current},q.createElement(uy.Provider,{value:u},q.createElement(GD,{basename:U,location:n.location,navigationType:n.historyAction,navigator:O},q.createElement(HD,{routes:t.routes,future:t.future,state:n})))))),null)}var HD=q.memo($D);function $D({routes:t,future:e,state:n}){return ID(t,void 0,n,e)}function GD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:o=!1}){ot(!Oh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=q.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof n=="string"&&(n=Fs(n));let{pathname:d="/",search:m="",hash:g="",state:y=null,key:w="default"}=n,T=q.useMemo(()=>{let S=Kr(d,u);return S==null?null:{location:{pathname:S,search:m,hash:g,state:y,key:w},navigationType:r}},[u,d,m,g,y,w,r]);return An(T!=null,`<Router basename="${u}"> is not able to match the URL "${d}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:q.createElement(Yi.Provider,{value:h},q.createElement(kp.Provider,{children:e,value:T}))}var Id="get",Dd="application/x-www-form-urlencoded";function Vp(t){return t!=null&&typeof t.tagName=="string"}function KD(t){return Vp(t)&&t.tagName.toLowerCase()==="button"}function QD(t){return Vp(t)&&t.tagName.toLowerCase()==="form"}function YD(t){return Vp(t)&&t.tagName.toLowerCase()==="input"}function XD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function WD(t,e){return t.button===0&&(!e||e==="_self")&&!XD(t)}var cd=null;function ZD(){if(cd===null)try{new FormData(document.createElement("form"),0),cd=!1}catch{cd=!0}return cd}var JD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Og(t){return t!=null&&!JD.has(t)?(An(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dd}"`),null):t}function e5(t,e){let n,r,a,o,u;if(QD(t)){let h=t.getAttribute("action");r=h?Kr(h,e):null,n=t.getAttribute("method")||Id,a=Og(t.getAttribute("enctype"))||Dd,o=new FormData(t)}else if(KD(t)||YD(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?Kr(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Id,a=Og(t.getAttribute("formenctype"))||Og(h.getAttribute("enctype"))||Dd,o=new FormData(h,t),!ZD()){let{name:m,type:g,value:y}=t;if(g==="image"){let w=m?`${m}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else m&&o.append(m,y)}}else{if(Vp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Id,r=null,a=Dd,u=t}return o&&a==="text/plain"&&(u=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:u}}function dy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function t5(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function n5(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function r5(t,e,n){let r=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await t5(o,n);return u.links?u.links():[]}return[]}));return o5(r.flat(1).filter(n5).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function gw(t,e,n,r,a,o){let u=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,h=(d,m)=>{var g;return n[m].pathname!==d.pathname||((g=n[m].route.path)==null?void 0:g.endsWith("*"))&&n[m].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,m)=>u(d,m)||h(d,m)):o==="data"?e.filter((d,m)=>{var y;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(u(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let w=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function i5(t,e,{includeHydrateFallback:n}={}){return s5(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function s5(t){return[...new Set(t)]}function a5(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function o5(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let o=JSON.stringify(a5(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}function l5(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Kr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function U2(){let t=q.useContext(Zo);return dy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function u5(){let t=q.useContext(Ch);return dy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var py=q.createContext(void 0);py.displayName="FrameworkContext";function j2(){let t=q.useContext(py);return dy(t,"You must render this element inside a <HydratedRouter> element"),t}function c5(t,e){let n=q.useContext(py),[r,a]=q.useState(!1),[o,u]=q.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:g,onTouchStart:y}=e,w=q.useRef(null);q.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let P=U=>{U.forEach(H=>{u(H.isIntersecting)})},O=new IntersectionObserver(P,{threshold:.5});return w.current&&O.observe(w.current),()=>{O.disconnect()}}},[t]),q.useEffect(()=>{if(r){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[r]);let T=()=>{a(!0)},S=()=>{a(!1),u(!1)};return n?t!=="intent"?[o,w,{}]:[o,w,{onFocus:Ic(h,T),onBlur:Ic(d,S),onMouseEnter:Ic(m,T),onMouseLeave:Ic(g,S),onTouchStart:Ic(y,T)}]:[!1,w,{}]}function Ic(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function h5({page:t,...e}){let{router:n}=U2(),r=q.useMemo(()=>ba(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?q.createElement(d5,{page:t,matches:r,...e}):null}function f5(t){let{manifest:e,routeModules:n}=j2(),[r,a]=q.useState([]);return q.useEffect(()=>{let o=!1;return r5(t,e,n).then(u=>{o||a(u)}),()=>{o=!0}},[t,e,n]),r}function d5({page:t,matches:e,...n}){let r=Ka(),{manifest:a,routeModules:o}=j2(),{basename:u}=U2(),{loaderData:h,matches:d}=u5(),m=q.useMemo(()=>gw(t,e,d,a,r,"data"),[t,e,d,a,r]),g=q.useMemo(()=>gw(t,e,d,a,r,"assets"),[t,e,d,a,r]),y=q.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,P=!1;if(e.forEach(U=>{var Q;let H=a.routes[U.route.id];!H||!H.hasLoader||(!m.some(ee=>ee.route.id===U.route.id)&&U.route.id in h&&((Q=o[U.route.id])!=null&&Q.shouldRevalidate)||H.hasClientLoader?P=!0:S.add(U.route.id))}),S.size===0)return[];let O=l5(t,u);return P&&S.size>0&&O.searchParams.set("_routes",e.filter(U=>S.has(U.route.id)).map(U=>U.route.id).join(",")),[O.pathname+O.search]},[u,h,r,a,m,e,t,o]),w=q.useMemo(()=>i5(g,a),[g,a]),T=f5(g);return q.createElement(q.Fragment,null,y.map(S=>q.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),w.map(S=>q.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),T.map(({key:S,link:P})=>q.createElement("link",{key:S,...P})))}function p5(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var B2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{B2&&(window.__reactRouterVersion="7.4.0")}catch{}function m5(t,e){return sD({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:I9({window:e==null?void 0:e.window}),hydrationData:_5(),routes:t,mapRouteProperties:zD,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function _5(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:g5(t.errors)}),t}function g5(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")n[r]=new np(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let u=new o(a.message);u.stack="",n[r]=u}catch{}}if(n[r]==null){let o=new Error(a.message);o.stack="",n[r]=o}}else n[r]=a;return n}var z2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,my=q.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:u,state:h,target:d,to:m,preventScrollReset:g,viewTransition:y,...w},T){let{basename:S}=q.useContext(Yi),P=typeof m=="string"&&z2.test(m),O,U=!1;if(typeof m=="string"&&P&&(O=m,B2))try{let C=new URL(window.location.href),N=m.startsWith("//")?new URL(C.protocol+m):new URL(m),B=Kr(N.pathname,S);N.origin===C.origin&&B!=null?m=B+N.search+N.hash:U=!0}catch{An(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=RD(m,{relative:a}),[Q,ee,k]=c5(r,w),ie=E5(m,{replace:u,state:h,target:d,preventScrollReset:g,relative:a,viewTransition:y});function M(C){e&&e(C),C.defaultPrevented||ie(C)}let I=q.createElement("a",{...w,...k,href:O||H,onClick:U||o?e:M,ref:p5(T,ee),target:d,"data-discover":!P&&n==="render"?"true":void 0});return Q&&!P?q.createElement(q.Fragment,null,I,q.createElement(h5,{page:H})):I});my.displayName="Link";var F2=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:h,children:d,...m},g){let y=Ih(u,{relative:m.relative}),w=Ka(),T=q.useContext(Ch),{navigator:S,basename:P}=q.useContext(Yi),O=T!=null&&A5(y)&&h===!0,U=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,H=w.pathname,Q=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(H=H.toLowerCase(),Q=Q?Q.toLowerCase():null,U=U.toLowerCase()),Q&&P&&(Q=Kr(Q,P)||Q);const ee=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let k=H===U||!a&&H.startsWith(U)&&H.charAt(ee)==="/",ie=Q!=null&&(Q===U||!a&&Q.startsWith(U)&&Q.charAt(U.length)==="/"),M={isActive:k,isPending:ie,isTransitioning:O},I=k?e:void 0,C;typeof r=="function"?C=r(M):C=[r,k?"active":null,ie?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(M):o;return q.createElement(my,{...m,"aria-current":I,className:C,ref:g,style:N,to:u,viewTransition:h},typeof d=="function"?d(M):d)});F2.displayName="NavLink";var v5=q.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:o,method:u=Id,action:h,onSubmit:d,relative:m,preventScrollReset:g,viewTransition:y,...w},T)=>{let S=T5(),P=S5(h,{relative:m}),O=u.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&z2.test(h),H=Q=>{if(d&&d(Q),Q.defaultPrevented)return;Q.preventDefault();let ee=Q.nativeEvent.submitter,k=(ee==null?void 0:ee.getAttribute("formmethod"))||u;S(ee||Q.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:a,state:o,relative:m,preventScrollReset:g,viewTransition:y})};return q.createElement("form",{ref:T,method:O,action:P,onSubmit:r?d:H,...w,"data-discover":!U&&t==="render"?"true":void 0})});v5.displayName="Form";function y5(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q2(t){let e=q.useContext(Zo);return ot(e,y5(t)),e}function E5(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:u}={}){let h=Lp(),d=Ka(),m=Ih(t,{relative:o});return q.useCallback(g=>{if(WD(g,e)){g.preventDefault();let y=n!==void 0?n:Ma(d)===Ma(m);h(t,{replace:y,state:r,preventScrollReset:a,relative:o,viewTransition:u})}},[d,h,m,n,r,e,t,a,o,u])}var b5=0,w5=()=>`__${String(++b5)}__`;function T5(){let{router:t}=q2("useSubmit"),{basename:e}=q.useContext(Yi),n=UD();return q.useCallback(async(r,a={})=>{let{action:o,method:u,encType:h,formData:d,body:m}=e5(r,e);if(a.navigate===!1){let g=a.fetcherKey||w5();await t.fetch(g,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function S5(t,{relative:e}={}){let{basename:n}=q.useContext(Yi),r=q.useContext(Xi);ot(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Ih(t||".",{relative:e})},u=Ka();if(t==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(y=>y).forEach(y=>h.append("index",y));let g=h.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Vi([n,o.pathname])),Ma(o)}function A5(t,e={}){let n=q.useContext(uy);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=q2("useViewTransitionState"),a=Ih(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Kr(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Kr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return tp(a.pathname,u)!=null||tp(a.pathname,o)!=null}new TextEncoder;var H2=w2();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function R5(t){return q.createElement(qD,{flushSync:H2.flushSync,...t})}const C5="_text_16crs_17",O5="_text_title_16crs_25",I5="_text_button_16crs_29",D5="_text_primary_16crs_49",x5="_text_secondary_16crs_52",N5="_text_accent_16crs_55",P5="_text__preparation_16crs_58",M5="_pulse_16crs_1",k5="_loader_16crs_1",Dc={text:C5,text_title:O5,text_button:I5,"text_p-20":"_text_p-20_16crs_33","text_p-18":"_text_p-18_16crs_37","text_p-16":"_text_p-16_16crs_41","text_p-14":"_text_p-14_16crs_45",text_primary:D5,text_secondary:x5,text_accent:N5,text__preparation:P5,pulse:M5,loader:k5};var Ig={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var vw;function L5(){return vw||(vw=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(o=a(o,r(h)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var u="";for(var h in o)e.call(o,h)&&o[h]&&(u=a(u,h));return u}function a(o,u){return u?o?o+" "+u:o+u:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(Ig)),Ig.exports}var V5=L5();const lt=IS(V5),We=({className:t,view:e,tag:n,weight:r,children:a,color:o,maxLines:u,isLoading:h=!1,...d})=>{const m=n??"p",g={...u&&{WebkitLineClamp:u},...r&&{fontWeight:r}};return h?D.jsx("span",{className:Dc.text__preparation}):D.jsx(m,{className:lt(Dc.text,Dc[`text_${e??"p-20"}`],Dc[`text_${o??"primary"}`],h&&Dc.text_skeleton,t),style:g,...d,children:a})},U5="_link_1iurp_1",j5="_link__container_1iurp_6",B5="_link__container_after_1iurp_12",z5="_link__container_active_1iurp_21",hd={link:U5,link__container:j5,link__container_after:B5,link__container_active:z5},yw=({path:t,label:e,icon:n,className:r,onClose:a})=>D.jsx(F2,{to:t,end:!0,className:hd.link,children:({isActive:o})=>D.jsxs("div",{className:lt(hd.link__container,!(e&&n)&&hd.link__container_after,e&&o&&hd.link__container_active,r),onClick:a,children:[n,e&&D.jsx(We,{tag:"p",view:"p-18",color:!n&&o?"accent":"primary",children:e})]})}),F5="_header_1xht8_1",q5="_header__navigation_1xht8_23",H5="_header__navigation_burger_1xht8_41",$5="_header__links_1xht8_44",G5="_header__link_1xht8_44",K5="_header__menu_1xht8_72",Q5="_header__burger_1xht8_89",As={header:F5,header__navigation:q5,header__navigation_burger:H5,header__links:$5,header__link:G5,header__menu:K5,"header__menu-item":"_header__menu-item_1xht8_81",header__burger:Q5},Y5="_button_jik1v_1",X5={button:Y5},W5=({icon:t,onClick:e,onClose:n})=>D.jsx("button",{className:X5.button,onClick:()=>{e(),n()},children:t}),Z5="_icon_primary_1cnuq_1",J5="_icon_secondary_1cnuq_4",e3="_icon_accent_1cnuq_7",Ew={icon_primary:Z5,icon_secondary:J5,icon_accent:e3},br=({className:t,color:e="primary",width:n=24,height:r=24,children:a,...o})=>D.jsx("svg",{width:n,height:r,className:lt(Ew.icon,Ew[`icon_${e}`],t),...o,children:a}),t3=t=>D.jsx(br,{viewBox:"0 0 18 12",...t,children:D.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 1C0 0.447715 0.447716 0 1 0L17 0C17.5523 0 18 0.447715 18 1C18 1.55228 17.5523 2 17 2L1 2C0.447715 2 0 1.55228 0 1ZM0 6C0 6.55228 0.447715 7 1 7L17 7C17.5523 7 18 6.55228 18 6C18 5.44772 17.5523 5 17 5L1 5C0.447716 5 0 5.44772 0 6ZM0 11C0 11.5523 0.447715 12 1 12L17 12C17.5523 12 18 11.5523 18 11C18 10.4477 17.5523 10 17 10L1 10C0.447716 10 0 10.4477 0 11Z",fill:"currentColor"})}),n3=({logoIcon:t,homePath:e,links:n,menuItems:r,className:a})=>{const[o,u]=q.useState(!1),h=()=>{u(!1)};return D.jsxs("header",{className:lt(As.header,a),children:[D.jsx("div",{className:As.header__logo,children:D.jsx(yw,{icon:t,path:e})}),D.jsxs("nav",{className:lt(As.header__navigation,o&&As.header__navigation_burger),role:"navigation",children:[D.jsx("ul",{className:As.header__links,children:n.map(d=>D.jsx("li",{children:D.jsx(yw,{onClose:h,className:As.header__link,...d})},d.label))}),D.jsx("ul",{className:As.header__menu,children:r.map((d,m)=>D.jsx("li",{className:As["header__menu-item"],children:D.jsx(W5,{onClose:h,...d})},m))})]}),D.jsx("div",{className:As.header__burger,onClick:()=>u(!o),children:D.jsx(t3,{width:18,height:12,color:"secondary"})})]})},r3=({...t})=>D.jsx(br,{...t,width:144,height:32,viewBox:"0 0 144 32",color:"accent",children:D.jsx("path",{d:"M42.71 17.79H45.127C45.0625 18.6455 44.8252 19.4043 44.415 20.0664C44.0049 20.7227 43.4336 21.2383 42.7012 21.6133C41.9688 21.9883 41.0811 22.1758 40.0381 22.1758C39.2354 22.1758 38.5117 22.0352 37.8672 21.7539C37.2285 21.4668 36.6807 21.0596 36.2236 20.5322C35.7725 19.999 35.4268 19.3604 35.1865 18.6162C34.9463 17.8662 34.8262 17.0254 34.8262 16.0938V15.1182C34.8262 14.1865 34.9492 13.3457 35.1953 12.5957C35.4414 11.8457 35.793 11.207 36.25 10.6797C36.7129 10.1465 37.2666 9.73633 37.9111 9.44922C38.5615 9.16211 39.2881 9.01855 40.0908 9.01855C41.1338 9.01855 42.0156 9.21191 42.7363 9.59863C43.457 9.97949 44.0166 10.5039 44.415 11.1719C44.8135 11.8398 45.0537 12.6074 45.1357 13.4746H42.7188C42.6719 12.9355 42.5547 12.4785 42.3672 12.1035C42.1855 11.7285 41.9102 11.4443 41.541 11.251C41.1777 11.0518 40.6943 10.9521 40.0908 10.9521C39.6221 10.9521 39.209 11.04 38.8516 11.2158C38.5 11.3916 38.207 11.6553 37.9727 12.0068C37.7383 12.3525 37.5625 12.7861 37.4453 13.3076C37.3281 13.8232 37.2695 14.4209 37.2695 15.1006V16.0938C37.2695 16.7441 37.3223 17.3271 37.4277 17.8428C37.5332 18.3584 37.6973 18.7949 37.9199 19.1523C38.1426 19.5098 38.4297 19.7822 38.7812 19.9697C39.1328 20.1572 39.5518 20.251 40.0381 20.251C40.6299 20.251 41.1104 20.1572 41.4795 19.9697C41.8545 19.7822 42.1387 19.5068 42.332 19.1436C42.5312 18.7803 42.6572 18.3291 42.71 17.79ZM49.2842 12.4902V22H46.9551V12.4902H49.2842ZM46.7969 10.0029C46.7969 9.65723 46.9141 9.37012 47.1484 9.1416C47.3887 8.91309 47.7109 8.79883 48.1152 8.79883C48.5195 8.79883 48.8389 8.91309 49.0732 9.1416C49.3135 9.37012 49.4336 9.65723 49.4336 10.0029C49.4336 10.3428 49.3135 10.627 49.0732 10.8555C48.8389 11.084 48.5195 11.1982 48.1152 11.1982C47.7109 11.1982 47.3887 11.084 47.1484 10.8555C46.9141 10.627 46.7969 10.3428 46.7969 10.0029ZM55.999 12.4902V14.1602H50.5498V12.4902H55.999ZM52.0088 10.1523H54.3379V19.2578C54.3379 19.5391 54.376 19.7559 54.4521 19.9082C54.5283 20.0605 54.6426 20.1631 54.7949 20.2158C54.9473 20.2686 55.1289 20.2949 55.3398 20.2949C55.4922 20.2949 55.6328 20.2861 55.7617 20.2686C55.8906 20.251 55.999 20.2334 56.0869 20.2158L56.0957 21.9561C55.9023 22.0205 55.6826 22.0732 55.4365 22.1143C55.1963 22.1553 54.9238 22.1758 54.6191 22.1758C54.0977 22.1758 53.6406 22.0879 53.248 21.9121C52.8555 21.7305 52.5508 21.4404 52.334 21.042C52.1172 20.6377 52.0088 20.1045 52.0088 19.4424V10.1523ZM60.332 20.9453L62.8809 12.4902H65.3682L61.5537 23.4414C61.4658 23.6758 61.3516 23.9307 61.2109 24.2061C61.0762 24.4814 60.8945 24.7422 60.666 24.9883C60.4375 25.2402 60.1504 25.4453 59.8047 25.6035C59.4648 25.7617 59.0518 25.8408 58.5654 25.8408C58.3545 25.8408 58.167 25.8262 58.0029 25.7969C57.8389 25.7676 57.666 25.7295 57.4844 25.6826V23.9424C57.543 23.9482 57.6104 23.9512 57.6865 23.9512C57.7686 23.957 57.8389 23.96 57.8975 23.96C58.2373 23.96 58.5186 23.9189 58.7412 23.8369C58.9639 23.7607 59.1426 23.6348 59.2773 23.459C59.418 23.2891 59.5352 23.0664 59.6289 22.791L60.332 20.9453ZM59.0752 12.4902L61.2285 19.4951L61.6064 21.9473L60.0068 22.2373L56.5703 12.4902H59.0752ZM68.8135 14.3184V25.6562H66.4844V12.4902H68.6377L68.8135 14.3184ZM74.9219 17.1484V17.333C74.9219 18.0244 74.8398 18.666 74.6758 19.2578C74.5176 19.8438 74.2832 20.3564 73.9727 20.7959C73.6621 21.2295 73.2754 21.5693 72.8125 21.8154C72.3555 22.0557 71.8281 22.1758 71.2305 22.1758C70.6445 22.1758 70.1348 22.0645 69.7012 21.8418C69.2676 21.6133 68.9014 21.291 68.6025 20.875C68.3037 20.459 68.0635 19.9756 67.8818 19.4248C67.7061 18.8682 67.5742 18.2617 67.4863 17.6055V17.0166C67.5742 16.3193 67.7061 15.6865 67.8818 15.1182C68.0635 14.5439 68.3037 14.0488 68.6025 13.6328C68.9014 13.2109 69.2646 12.8857 69.6924 12.6572C70.126 12.4287 70.6328 12.3145 71.2129 12.3145C71.8164 12.3145 72.3467 12.4287 72.8037 12.6572C73.2666 12.8857 73.6562 13.2139 73.9727 13.6416C74.2891 14.0693 74.5264 14.5791 74.6846 15.1709C74.8428 15.7627 74.9219 16.4219 74.9219 17.1484ZM72.5928 17.333V17.1484C72.5928 16.7266 72.5547 16.3369 72.4785 15.9795C72.4023 15.6162 72.2852 15.2998 72.127 15.0303C71.9688 14.7549 71.7637 14.541 71.5117 14.3887C71.2598 14.2363 70.9551 14.1602 70.5977 14.1602C70.2402 14.1602 69.9326 14.2188 69.6748 14.3359C69.417 14.4531 69.2061 14.6201 69.042 14.8369C68.8779 15.0537 68.749 15.3115 68.6553 15.6104C68.5674 15.9033 68.5088 16.2285 68.4795 16.5859V18.0449C68.5322 18.4785 68.6348 18.8682 68.7871 19.2139C68.9395 19.5596 69.1621 19.835 69.4551 20.04C69.7539 20.2451 70.1406 20.3477 70.6152 20.3477C70.9727 20.3477 71.2773 20.2686 71.5293 20.1104C71.7812 19.9521 71.9863 19.7354 72.1445 19.46C72.3027 19.1787 72.417 18.8564 72.4873 18.4932C72.5576 18.1299 72.5928 17.7432 72.5928 17.333ZM80.8896 22.1758C80.1689 22.1758 79.5215 22.0586 78.9473 21.8242C78.373 21.5898 77.8838 21.2646 77.4795 20.8486C77.0811 20.4268 76.7734 19.9375 76.5566 19.3809C76.3457 18.8184 76.2402 18.2148 76.2402 17.5703V17.2188C76.2402 16.4863 76.3457 15.8213 76.5566 15.2236C76.7676 14.6201 77.0664 14.1016 77.4531 13.668C77.8398 13.2344 78.3027 12.9004 78.8418 12.666C79.3809 12.4316 79.9756 12.3145 80.626 12.3145C81.2998 12.3145 81.8945 12.4287 82.4102 12.6572C82.9258 12.8799 83.3564 13.1963 83.7021 13.6064C84.0479 14.0166 84.3086 14.5088 84.4844 15.083C84.6602 15.6514 84.748 16.2812 84.748 16.9727V17.9482H77.2949V16.3486H82.4629V16.1729C82.4512 15.8037 82.3809 15.4668 82.252 15.1621C82.123 14.8516 81.9238 14.6055 81.6543 14.4238C81.3848 14.2363 81.0361 14.1426 80.6084 14.1426C80.2627 14.1426 79.9609 14.2188 79.7031 14.3711C79.4512 14.5176 79.2402 14.7285 79.0703 15.0039C78.9062 15.2734 78.7832 15.5957 78.7012 15.9707C78.6191 16.3457 78.5781 16.7617 78.5781 17.2188V17.5703C78.5781 17.9688 78.6309 18.3379 78.7363 18.6777C78.8477 19.0176 79.0088 19.3135 79.2197 19.5654C79.4365 19.8115 79.6943 20.0049 79.9932 20.1455C80.2979 20.2803 80.6436 20.3477 81.0303 20.3477C81.5166 20.3477 81.9561 20.2539 82.3486 20.0664C82.7471 19.873 83.0928 19.5889 83.3857 19.2139L84.5547 20.4268C84.3555 20.7197 84.0859 21.001 83.7461 21.2705C83.4121 21.54 83.0078 21.7598 82.5332 21.9297C82.0586 22.0938 81.5107 22.1758 80.8896 22.1758ZM92.0078 19.9785V8.5H94.3457V22H92.2363L92.0078 19.9785ZM85.8994 17.3594V17.1748C85.8994 16.4482 85.9814 15.7891 86.1455 15.1973C86.3154 14.5996 86.5615 14.0869 86.8838 13.6592C87.2061 13.2314 87.5957 12.9004 88.0527 12.666C88.5156 12.4316 89.04 12.3145 89.626 12.3145C90.1943 12.3145 90.6895 12.4287 91.1113 12.6572C91.5391 12.8857 91.9023 13.2109 92.2012 13.6328C92.5059 14.0547 92.749 14.5557 92.9307 15.1357C93.1123 15.71 93.2441 16.3428 93.3262 17.0342V17.5352C93.2441 18.209 93.1123 18.8271 92.9307 19.3896C92.749 19.9521 92.5059 20.4443 92.2012 20.8662C91.9023 21.2822 91.5391 21.6045 91.1113 21.833C90.6836 22.0615 90.1826 22.1758 89.6084 22.1758C89.0283 22.1758 88.5068 22.0557 88.0439 21.8154C87.5869 21.5752 87.1973 21.2383 86.875 20.8047C86.5586 20.3711 86.3154 19.8613 86.1455 19.2754C85.9814 18.6895 85.8994 18.0508 85.8994 17.3594ZM88.2285 17.1748V17.3594C88.2285 17.7695 88.2637 18.1533 88.334 18.5107C88.4043 18.8682 88.5186 19.1846 88.6768 19.46C88.835 19.7295 89.0371 19.9404 89.2832 20.0928C89.5352 20.2451 89.8398 20.3213 90.1973 20.3213C90.6543 20.3213 91.0293 20.2217 91.3223 20.0225C91.6211 19.8174 91.8525 19.5391 92.0166 19.1875C92.1807 18.8301 92.2861 18.4287 92.333 17.9834V16.6035C92.3096 16.252 92.248 15.9268 92.1484 15.6279C92.0547 15.3291 91.9199 15.0713 91.7441 14.8545C91.5742 14.6377 91.3633 14.4678 91.1113 14.3447C90.8594 14.2217 90.5605 14.1602 90.2148 14.1602C89.8574 14.1602 89.5527 14.2393 89.3008 14.3975C89.0488 14.5498 88.8438 14.7637 88.6855 15.0391C88.5273 15.3145 88.4102 15.6338 88.334 15.9971C88.2637 16.3604 88.2285 16.7529 88.2285 17.1748ZM98.9072 12.4902V22H96.5781V12.4902H98.9072ZM96.4199 10.0029C96.4199 9.65723 96.5371 9.37012 96.7715 9.1416C97.0117 8.91309 97.334 8.79883 97.7383 8.79883C98.1426 8.79883 98.4619 8.91309 98.6963 9.1416C98.9365 9.37012 99.0566 9.65723 99.0566 10.0029C99.0566 10.3428 98.9365 10.627 98.6963 10.8555C98.4619 11.084 98.1426 11.1982 97.7383 11.1982C97.334 11.1982 97.0117 11.084 96.7715 10.8555C96.5371 10.627 96.4199 10.3428 96.4199 10.0029ZM106.36 19.9785V15.5928C106.36 15.2705 106.305 14.9922 106.193 14.7578C106.082 14.5234 105.912 14.3418 105.684 14.2129C105.455 14.084 105.165 14.0195 104.813 14.0195C104.503 14.0195 104.23 14.0723 103.996 14.1777C103.768 14.2832 103.592 14.4326 103.469 14.626C103.346 14.8135 103.284 15.0303 103.284 15.2764H100.955C100.955 14.8838 101.049 14.5117 101.236 14.1602C101.424 13.8027 101.69 13.4863 102.036 13.2109C102.388 12.9297 102.807 12.71 103.293 12.5518C103.785 12.3936 104.336 12.3145 104.945 12.3145C105.666 12.3145 106.308 12.4375 106.87 12.6836C107.438 12.9238 107.884 13.2871 108.206 13.7734C108.534 14.2598 108.698 14.8721 108.698 15.6104V19.7588C108.698 20.2334 108.728 20.6406 108.786 20.9805C108.851 21.3145 108.944 21.6045 109.067 21.8506V22H106.703C106.592 21.7598 106.507 21.4551 106.448 21.0859C106.39 20.7109 106.36 20.3418 106.36 19.9785ZM106.686 16.208L106.703 17.5879H105.235C104.872 17.5879 104.553 17.626 104.277 17.7021C104.002 17.7725 103.776 17.8779 103.601 18.0186C103.425 18.1533 103.293 18.3174 103.205 18.5107C103.117 18.6982 103.073 18.9121 103.073 19.1523C103.073 19.3867 103.126 19.5977 103.231 19.7852C103.343 19.9727 103.501 20.1221 103.706 20.2334C103.917 20.3389 104.163 20.3916 104.444 20.3916C104.854 20.3916 105.212 20.3096 105.517 20.1455C105.821 19.9756 106.059 19.7705 106.229 19.5303C106.398 19.29 106.489 19.0615 106.501 18.8447L107.169 19.8467C107.087 20.0869 106.964 20.3418 106.8 20.6113C106.636 20.8809 106.425 21.1328 106.167 21.3672C105.909 21.6016 105.599 21.7949 105.235 21.9473C104.872 22.0996 104.45 22.1758 103.97 22.1758C103.354 22.1758 102.804 22.0527 102.317 21.8066C101.831 21.5605 101.447 21.2236 101.166 20.7959C100.885 20.3682 100.744 19.8818 100.744 19.3369C100.744 18.833 100.838 18.3877 101.025 18.001C101.213 17.6143 101.491 17.2891 101.86 17.0254C102.229 16.7559 102.687 16.5537 103.231 16.4189C103.782 16.2783 104.412 16.208 105.121 16.208H106.686Z",fill:"currentColor"})}),i3=({...t})=>D.jsxs(br,{...t,width:30,height:30,viewBox:"0 0 30 30",fill:"none",color:"primary",children:[D.jsx("path",{d:"M15 15C18.4518 15 21.25 12.2018 21.25 8.75C21.25 5.29822 18.4518 2.5 15 2.5C11.5482 2.5 8.75 5.29822 8.75 8.75C8.75 12.2018 11.5482 15 15 15Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),D.jsx("path",{d:"M25.7374 27.5C25.7374 22.6625 20.9249 18.75 14.9999 18.75C9.07495 18.75 4.26245 22.6625 4.26245 27.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),s3=t=>D.jsx(br,{viewBox:"0 0 18 18",...t,children:D.jsx("path",{d:"M9 0C8.28992 0 7.71429 0.575634 7.71429 1.28571V7.71429H1.28572C0.575634 7.71429 0 8.28992 0 9C0 9.71008 0.575634 10.2857 1.28572 10.2857H7.71429V16.7143C7.71429 17.4244 8.28992 18 9 18C9.71008 18 10.2857 17.4244 10.2857 16.7143V10.2857H16.7143C17.4244 10.2857 18 9.71008 18 9C18 8.28992 17.4244 7.71429 16.7143 7.71429H10.2857V1.28571C10.2857 0.575634 9.71008 0 9 0Z",fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor"})}),a3="_error_12lr6_1",o3="_error__title_12lr6_5",l3="_error__description_12lr6_9",u3="_loading_12lr6_14",fd={error:a3,error__title:o3,error__description:l3,loading:u3},c3=({...t})=>D.jsx(br,{...t,children:D.jsx("path",{d:"M13.3497 17.8462C10.1209 18.5916 6.89917 16.5785 6.15374 13.3497C5.40832 10.1209 7.42148 6.89919 10.6503 6.15377C13.879 5.40835 17.1008 7.42151 17.8462 10.6503L19.7949 10.2004C18.801 5.89534 14.5054 3.21113 10.2004 4.20503C5.89532 5.19893 3.21111 9.49456 4.205 13.7996C5.1989 18.1046 9.49454 20.7888 13.7996 19.795L13.3497 17.8462Z",fill:"currentColor"})}),h3="_loader_4zkgf_6",f3={loader:h3},$2=({size:t,className:e,color:n,...r})=>{const a={s:24,m:48,l:60}[t??"l"];return D.jsx(c3,{width:a,height:a,viewBox:"0 0 24 24",className:lt(f3.loader,e),color:n??"accent",...r})},d3=({header:t=!1,isAppReady:e,requestError:n,mostLikedCityId:r,openModal:a,pathname:o,user:u,children:h})=>{if(q.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[o]),n)return D.jsxs("div",{className:fd.error,children:[D.jsx(We,{view:"title",tag:"p",weight:"bold",className:fd.error__title,children:"Request Error"}),D.jsx(We,{view:"p-20",tag:"p",weight:"bold",color:"secondary",className:fd.error__description,children:"Please try again later"})]});const d=u===null?"sign-in":"log-out";return e?D.jsxs(D.Fragment,{children:[t&&D.jsx(n3,{logoIcon:D.jsx(r3,{}),homePath:fv,links:[{label:"Home",path:fv},{label:"Cities",path:hu},{label:"Good Choice",path:`${hu}/${r}`}],menuItems:[{icon:D.jsx(i3,{}),onClick:()=>a(d)},{icon:D.jsx(s3,{height:24,width:24,color:"primary"}),onClick:()=>a(u?"add-city":"sign-in")}]}),h]}):D.jsx("div",{className:fd.loading,children:D.jsx($2,{size:"l"})})},p3=()=>{const[t,e]=q.useState(window.innerWidth);return q.useEffect(()=>{const n=()=>e(window.innerWidth);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t},Up=t=>{const e=t.reduce((w,T)=>({...w,[T.name]:T.value}),{}),[n,r]=q.useState(e),[a,o]=q.useState({}),[u,h]=q.useState(!1);return{formState:n,handleCheckboxChange:w=>T=>{r(S=>({...S,[w]:T}))},handleTextChange:w=>T=>{r(S=>({...S,[w]:T}))},handleClearForm:()=>{r(e)},validate:()=>{const w={};return t.forEach(({name:T,...S})=>{const P=n[T];w[T]=S.validate?S.validate(P):null}),o(w),Object.values(w).every(T=>T===null)},errors:a,isSubmitting:u,setIsSubmitting:h}},Dh=()=>{const[t,e]=q.useState(null),n=q.useCallback(a=>e(a),[]),r=q.useCallback(()=>e(null),[]);return{requestError:t,setRequestError:n,clearError:r}},G2=q.createContext({}),Mn=()=>{const t=q.useContext(G2);if(!t)throw new Error("RootStoreContext must be used within RootStoreProvider");return t};if(!q.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!Qi)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function m3(t){t()}function _3(t){t||(t=m3),c2({reactionScheduler:t})}function g3(t){return QI(t)}var v3=1e4,y3=1e4,E3=function(){function t(e){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=v3),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var a=Date.now();n.registrations.forEach(function(o,u){a-o.registeredAt>=r&&(n.finalize(o.value),n.registrations.delete(u))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(t.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,y3))}}),t}(),b3=typeof FinalizationRegistry<"u"?FinalizationRegistry:E3,_v=new b3(function(t){var e;(e=t.reaction)===null||e===void 0||e.dispose(),t.reaction=null}),Dg={exports:{}},xg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw;function w3(){if(bw)return xg;bw=1;var t=Mp();function e(y,w){return y===w&&(y!==0||1/y===1/w)||y!==y&&w!==w}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,o=t.useLayoutEffect,u=t.useDebugValue;function h(y,w){var T=w(),S=r({inst:{value:T,getSnapshot:w}}),P=S[0].inst,O=S[1];return o(function(){P.value=T,P.getSnapshot=w,d(P)&&O({inst:P})},[y,T,w]),a(function(){return d(P)&&O({inst:P}),y(function(){d(P)&&O({inst:P})})},[y]),u(T),T}function d(y){var w=y.getSnapshot;y=y.value;try{var T=w();return!n(y,T)}catch{return!0}}function m(y,w){return w()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:h;return xg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,xg}var ww;function T3(){return ww||(ww=1,Dg.exports=w3()),Dg.exports}var S3=T3();function Tw(t){t.reaction=new $i("observer".concat(t.name),function(){var e;t.stateVersion=Symbol(),(e=t.onStoreChange)===null||e===void 0||e.call(t)})}function A3(t,e){e===void 0&&(e="observed");var n=Jd.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(h){return _v.unregister(r),r.onStoreChange=h,r.reaction||(Tw(r),r.stateVersion=Symbol()),function(){var d;r.onStoreChange=null,(d=r.reaction)===null||d===void 0||d.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var a=n.current;a.reaction||(Tw(a),_v.register(n,a,a)),Jd.useDebugValue(a.reaction,g3),S3.useSyncExternalStore(a.subscribe,a.getSnapshot,a.getSnapshot);var o,u;if(a.reaction.track(function(){try{o=t()}catch(h){u=h}}),u)throw u;return o}var Ng,Pg,K2=typeof Symbol=="function"&&Symbol.for,R3=(Pg=(Ng=Object.getOwnPropertyDescriptor(function(){},"name"))===null||Ng===void 0?void 0:Ng.configurable)!==null&&Pg!==void 0?Pg:!1,Sw=K2?Symbol.for("react.forward_ref"):typeof q.forwardRef=="function"&&q.forwardRef(function(t){return null}).$$typeof,Aw=K2?Symbol.for("react.memo"):typeof q.memo=="function"&&q.memo(function(t){return null}).$$typeof;function kn(t,e){var n;if(Aw&&t.$$typeof===Aw)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(n=void 0)!==null&&n!==void 0?n:!1,a=t,o=t.displayName||t.name;if(Sw&&t.$$typeof===Sw&&(r=!0,a=t.render,typeof a!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var u=function(h,d){return A3(function(){return a(h,d)},o)};return u.displayName=t.displayName,R3&&Object.defineProperty(u,"name",{value:t.name,writable:!0,configurable:!0}),t.contextTypes&&(u.contextTypes=t.contextTypes),r&&(u=q.forwardRef(u)),u=q.memo(u),O3(t,u),u}var C3={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function O3(t,e){Object.keys(t).forEach(function(n){C3[n]||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}var Mg;_3(H2.unstable_batchedUpdates);Mg=_v.finalizeAllImmediately;const kg=kn(({children:t,header:e})=>{var S;const n=Lp(),{search:r,pathname:a}=Ka(),o=Mn(),{setNavigate:u,dispose:h}=o,{openModal:d}=o.modalStore,m=o.isAppReady,g=o.citiesStore.requestError,y=(S=o.citiesDataStore.mostLikedCity)==null?void 0:S.id,w=o.userStore.user,T=o.routerStore;return q.useEffect(()=>(u(n),T.setLocation(a,r),()=>{sn(()=>h())}),[n,a,r,u,h,T]),D.jsx(d3,{isAppReady:m,requestError:g,mostLikedCityId:y,header:e,openModal:d,pathname:a,user:w,children:t})}),I3="_input_qpz5p_1",D3="_input_focus_qpz5p_8",x3="_input__field_qpz5p_11",N3="_input__icon_qpz5p_28",xc={input:I3,input_focus:D3,input__field:x3,input__icon:N3},_y=Jd.forwardRef(({onChange:t,afterSlot:e,className:n,disabled:r,...a},o)=>{const u=q.useRef(null),[h,d]=q.useState(!1),m=g=>{t(g.target.value)};return D.jsxs("div",{className:lt(xc.input,h&&xc.input_focus,n),onFocus:()=>d(!0),onBlur:()=>d(!1),tabIndex:1,children:[D.jsx("input",{onChange:m,className:lt(xc.input__field,r&&xc.input_disabled),disabled:r,ref:o??u,...a}),e&&D.jsx("div",{className:xc.input__icon,children:e})]})}),P3="_button_1wfni_17",M3="_button__text_1wfni_27",k3="_button__loader_1wfni_32",L3="_button_loading_1wfni_42",V3="_button_disabled_1wfni_45",U3="_button__skeleton_1wfni_48",Gl={button:P3,button__text:M3,button__loader:k3,button_loading:L3,button_disabled:V3,button__skeleton:U3},yr=({loading:t,disabled:e,children:n,className:r,isLoading:a,...o})=>a?D.jsx("div",{className:lt(Gl.button__skeleton,r)}):D.jsxs("button",{className:lt(Gl.button,t&&Gl.button_loading,e&&Gl.button_disabled,r),disabled:t||e,...o,children:[t&&D.jsx($2,{className:Gl.button__loader,size:"s"}),D.jsx(We,{className:Gl.button__text,view:"button",tag:"p",children:n})]}),j3="_search_m742h_1",B3="_search__input_m742h_12",z3="_search__button_m742h_15",Nc={search:j3,search__input:B3,"search__button-second":"_search__button-second_m742h_15",search__button:z3},Q2=kn(({onSearchFilter:t,actionName:e,placeholder:n,className:r,...a})=>{const[o,u]=q.useState(""),h=Mn(),{setSearchQuery:d}=h.filterStore,m=h.filterStore.searchQuery,g=()=>{t==null||t(""),d(""),u("")},y=()=>{sn(()=>{d(o)}),t==null||t(o)};return q.useEffect(()=>{u(m)},[m]),D.jsxs("div",{className:lt(Nc.search,r),children:[D.jsx(_y,{value:o,onChange:u,onKeyDown:w=>w.key==="Enter"&&y(),placeholder:n,className:Nc.search__input,...a}),D.jsx(yr,{className:Nc.search__button,onClick:()=>y(),children:e}),D.jsx(yr,{className:lt(Nc.search__button,Nc["search__button-second"]),onClick:g,children:"Clear Search"})]})}),F3="_page_3zjun_1",q3="_page__description_3zjun_12",H3="_page__toolbar_3zjun_22",$3="_page__related_3zjun_33",G3="_page__suggest_3zjun_39",K3="_page__suggest__container_3zjun_48",Do={page:F3,page__description:q3,page__toolbar:H3,"page__toolbar-container":"_page__toolbar-container_3zjun_28",page__related:$3,page__suggest:G3,page__suggest__container:K3},Q3="_card_1dewg_1",Y3="_card__body_1dewg_6",X3="_card__info_1dewg_24",W3="_card__price_1dewg_29",Z3="_card__actions_1dewg_32",J3="_card__button_1dewg_36",e6="_card_single_1dewg_50",Rs={card:Q3,card__body:Y3,"card__body-top":"_card__body-top_1dewg_13","card__body-bottom":"_card__body-bottom_1dewg_18",card__info:X3,card__price:W3,card__actions:Z3,card__button:J3,card_single:e6},ih="cities",t6=1e3,tu="...",Y2=t=>typeof t=="string"?t:Jd.isValidElement(t)?Y2(t.props.children):"",Fo=t=>{var e,n;(e=t.preventDefault)==null||e.call(t),(n=t.stopPropagation)==null||n.call(t)},n6=(t,e)=>Array.from({length:e-t+1},(n,r)=>t+r),r6=t=>t.length===0?"":t[0].toUpperCase()+t.slice(1).toLowerCase(),i6=t=>t.reduce((e,n)=>{var r,a;return(((r=n.likes)==null?void 0:r.length)||0)>(((a=e.likes)==null?void 0:a.length)||0)?n:e},t[0]),s6=t=>{const e=new Date().getTime()+new Date().getTimezoneOffset()*6e4;return new Date(e+t*1e3).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})},a6=(t,e)=>t<=4?n6(1,t):e<=3?[1,2,3,4,tu,t]:e>=t-2?[1,tu,t-3,t-2,t-1,t]:[1,tu,e-1,e,e+1,tu,t],o6="_image_1fvdj_17",l6="_image_single_1fvdj_22",u6="_image__preparation_1fvdj_31",c6="_image__preparation_single_1fvdj_39",dd={image:o6,image_single:l6,image__preparation:u6,image__preparation_single:c6},h6=({isLoading:t=!1,className:e,variant:n,...r})=>t?D.jsx("div",{className:lt(dd.image__preparation,n==="single"&&dd.image__preparation_single,e)}):D.jsx("img",{...r,className:lt(dd.image,n==="single"&&dd.image_single)}),f6="_like_1jiil_1",d6={like:f6},p6=({liked:t,...e})=>{const n=t?"M20.2991 1.68186C22.567 3.90213 22.567 7.54338 20.2991 9.78586L10.9804 19L1.6841 9.80806C0.606277 8.72013 0 7.27695 0 5.74496C0 4.21297 0.583823 2.76979 1.6841 1.68186C3.92957 -0.560619 7.61215 -0.560619 9.88007 1.70406L10.9804 2.792L12.0806 1.68186C14.3486 -0.560619 18.0311 -0.560619 20.2991 1.68186Z":"M20.2991 9.78586C22.567 7.54338 22.567 3.90213 20.2991 1.68186C18.0311 -0.560619 14.3486 -0.560619 12.0806 1.68186L10.9804 2.792L9.88007 1.70406C7.61215 -0.560619 3.92957 -0.560619 1.6841 1.68186C0.583822 2.76979 0 4.21297 0 5.74496C0 7.27695 0.606277 8.72013 1.6841 9.80806L10.9804 19L20.2991 9.78586ZM1.4371 5.74496C1.4371 4.59042 1.8862 3.52469 2.71702 2.72539C3.5703 1.88168 4.67058 1.45983 5.77086 1.45983C6.87114 1.45983 7.97142 1.88168 8.8247 2.72539L10.9804 4.83465L13.136 2.70318C14.8201 1.03798 17.582 1.03798 19.2437 2.70318C20.0521 3.50248 20.5236 4.56821 20.5236 5.72276C20.5236 6.8773 20.0745 7.94303 19.2437 8.74233L10.9804 16.9351L2.71702 8.76453C1.90865 7.94303 1.4371 6.8773 1.4371 5.74496Z";return D.jsx(br,{viewBox:"0 0 22 19",...e,children:D.jsx("path",{d:n,fill:"currentColor"})})},m6=({likesCount:t,liked:e,isLoggedIn:n,handleToggleLike:r})=>D.jsxs("button",{onClick:r,className:d6.like,children:[D.jsx(p6,{height:19,width:22,color:n?e?"accent":"primary":"secondary",liked:e}),D.jsx(We,{tag:"p",view:"p-20",weight:"bold",color:n?e?"accent":"primary":"secondary",children:t})]}),_6=t=>D.jsx(br,{viewBox:"0 0 121.86 122.88",...t,children:D.jsx("path",{d:"M30.28,110.09,49.37,91.78A3.84,3.84,0,0,1,52,90.72h60a2.15,2.15,0,0,0,2.16-2.16V9.82a2.16,2.16,0,0,0-.64-1.52A2.19,2.19,0,0,0,112,7.66H9.82A2.24,2.24,0,0,0,7.65,9.82V88.55a2.19,2.19,0,0,0,2.17,2.16H26.46a3.83,3.83,0,0,1,3.82,3.83v15.55ZM28.45,63.56a3.83,3.83,0,1,1,0-7.66h53a3.83,3.83,0,0,1,0,7.66Zm0-24.86a3.83,3.83,0,1,1,0-7.65h65a3.83,3.83,0,0,1,0,7.65ZM53.54,98.36,29.27,121.64a3.82,3.82,0,0,1-6.64-2.59V98.36H9.82A9.87,9.87,0,0,1,0,88.55V9.82A9.9,9.9,0,0,1,9.82,0H112a9.87,9.87,0,0,1,9.82,9.82V88.55A9.85,9.85,0,0,1,112,98.36Z",fill:"currentColor"})}),g6="_comment_1f2tv_1",v6={comment:g6},y6=({commentsCount:t,commented:e,handleOpenChat:n,isLoggedIn:r})=>D.jsxs("button",{onClick:n,className:v6.comment,children:[D.jsx(_6,{height:24,width:24,color:r?e?"accent":"primary":"secondary"}),D.jsx(We,{tag:"p",view:"p-20",weight:"bold",color:r?e?"accent":"primary":"secondary",children:t})]}),X2=kn(({className:t,variant:e="preview",cityId:n,image:r,captionSlot:a,title:o,subtitle:u,contentSlot:h,onClick:d,actionSlot:m,isLoading:g=!1,temp:y,localTime:w})=>{const T=Mn(),{modalStore:{openModal:S},citiesStore:{toggleLike:P},toastStore:{showToast:O}}=T,U=T.userStore.user,H=T.citiesDataStore.citiesLikes,Q=T.citiesDataStore.citiesComments,ee=!!U,k=H[n]??[],ie=k.length,M=ee?k.includes(U.uid):!1,I=async he=>{if(Fo(he),!ee){S("sign-in");return}await P(n,U.uid),O(`Successfully ${M?"unLiked":"Liked"}!`,"success")},C=Q[n],N=C?Object.values(C).flat():[],B=N.length,$=ee?N.some(he=>he.owner===U.uid):!1,L=Y2(o),mt=e==="preview",Ke=he=>{if(Fo(he),!ee){S("sign-in");return}S("comments")};return D.jsxs("div",{onClick:d,className:lt(Rs.card,{[Rs.card_single]:!mt},t),children:[D.jsx(h6,{isLoading:g,src:g?void 0:r,alt:L,variant:e}),D.jsxs("div",{className:Rs.card__body,children:[D.jsxs("div",{className:Rs["card__body-top"],children:[g||mt&&D.jsx(We,{isLoading:g,view:"p-14",color:"secondary",children:a}),D.jsx(We,{isLoading:g,view:mt?"p-20":"title",weight:"bold",maxLines:2,children:o}),D.jsx(We,{isLoading:g,view:mt?"p-16":"p-20",color:"secondary",maxLines:3,children:u}),D.jsx(m6,{likesCount:ie,liked:M,handleToggleLike:I,isLoggedIn:ee}),!mt&&D.jsx(y6,{commentsCount:B,commented:$,handleOpenChat:Ke,isLoggedIn:ee}),(y||w)&&D.jsxs("div",{className:Rs.card__info,children:[y&&D.jsx(We,{isLoading:g,view:"p-18",weight:"bold",children:y}),w&&D.jsx(We,{isLoading:g,view:"p-18",weight:"bold",children:w})]})]}),D.jsxs("div",{className:Rs["card__body-bottom"],children:[mt&&D.jsx(We,{isLoading:g,view:mt?"p-18":"title",weight:"bold",className:Rs.card__price,children:h}),D.jsxs("div",{className:Rs.card__actions,children:[m,!mt&&D.jsx(yr,{className:Rs.card__button,isLoading:g,children:"More info"})]})]})]})]})}),E6="_city_uc2dz_1",b6="_city__link_uc2dz_4",Rw={city:E6,city__link:b6},Cw=({city:t,action:e,className:n,isLoading:r=!1,...a})=>{const o=r||!t;return D.jsx("li",{className:lt(Rw.city,n),children:D.jsx(my,{to:`${hu}/${(t==null?void 0:t.id)??""}`,className:Rw.city__link,children:D.jsx(X2,{cityId:(t==null?void 0:t.id)??"",image:t==null?void 0:t.image,title:t==null?void 0:t.name,captionSlot:(t==null?void 0:t.country)&&`Country: ${t.country}`,subtitle:(t==null?void 0:t.population)&&`Population: ${t.population}`,contentSlot:(t==null?void 0:t.is_capital)&&"Capital",actionSlot:e,isLoading:o,...a})})})},w6="_gallery_1bmx7_1",T6="_gallery_resize_1bmx7_12",Ow={gallery:w6,gallery_resize:T6},gy=({loadingItems:t,items:e,isLoading:n})=>{const r=p3();return D.jsx("ul",{className:lt(Ow.gallery,r<=1440&&Ow.gallery_resize),children:n?Array(t).fill(null).map((a,o)=>D.jsx(Cw,{action:D.jsx(yr,{isLoading:n,children:"Find ticket"})},o)):e.map(a=>D.jsx(Cw,{city:a?{id:a.id,image:a.image,name:a.name,country:a.country,population:a.population,is_capital:a.is_capital,likes:a.likes}:void 0,action:D.jsx(yr,{children:"Find ticket"})},a.id))})},Iw=6,S6=kn(()=>{const t=Lp(),e=q.useRef(!1),n=Mn(),{fetchRelated:r,clearRelated:a}=n.citiesStore,o=n.citiesStore.isLoading,u=n.citiesDataStore.relatedCities,h=n.citiesDataStore.mostLikedCity;q.useEffect(()=>{if(!e.current)return e.current=!0,(async()=>await r(Iw))(),()=>a()},[e,r,a]);const d=g=>{t({pathname:hu,search:`?query=${g}`})},m=()=>{t({pathname:`${hu}/${h==null?void 0:h.id}`})};return D.jsxs("div",{className:Do.page,children:[D.jsxs("section",{className:Do.page__description,children:[D.jsx(We,{tag:"h2",view:"title",color:"primary",children:"Discover Cities Around the World with Citypedia"}),D.jsx(We,{tag:"p",view:"p-20",color:"secondary",children:"Dive into a collection of global cities  their culture, population, and stories waiting to be explored"})]}),D.jsxs("div",{className:Do.page__toolbar,children:[D.jsx(We,{tag:"p",view:"title",color:"primary",children:"Start your journey"}),D.jsx("div",{className:Do["page__toolbar-container"],children:D.jsx(Q2,{onSearchFilter:d,actionName:"Find now",placeholder:"Search City",disabled:o})})]}),D.jsxs("section",{className:Do.page__related,children:[D.jsx(We,{tag:"p",view:"title",color:"primary",children:"Related Cities"}),D.jsx(gy,{loadingItems:Iw,isLoading:o,items:u})]}),D.jsxs("div",{className:Do.page__suggest,children:[D.jsx(We,{tag:"p",view:"title",color:"primary",children:"Not sure where to go?"}),D.jsx("div",{className:Do.page__suggest__container,children:D.jsx(yr,{onClick:()=>m(),children:"Suggest me a city"})})]})]})}),A6="_pagination_1frob_1",R6="_pagination__arrow_1frob_6",C6="_pagination__arrow_right_1frob_12",O6="_pagination__item_1frob_18",I6="_pagination__item_active_1frob_32",D6="_pagination__item_dots_1frob_35",xo={pagination:A6,pagination__arrow:R6,pagination__arrow_right:C6,pagination__item:O6,pagination__item_active:I6,pagination__item_dots:D6},gv=t=>D.jsx(br,{viewBox:"0 0 35 35",...t,children:D.jsx("path",{d:"M22.0062 5.95005L12.4979 15.4584C11.375 16.5813 11.375 18.4188 12.4979 19.5417L22.0062 29.05",stroke:"currentColor",strokeOpacity:"0.3",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round",fill:"transparent"})}),x6=kn(({className:t})=>{const e=Mn(),{setCurrentPage:n}=e.paginationStore,r=e.citiesStore.isLoading,a=e.paginationStore.totalPaginatedCities,o=e.paginationStore.viewPerPage,u=e.paginationStore.currentPage,h=Math.ceil(a/o),d=a6(h,u);return D.jsxs("div",{className:lt(xo.pagination,t),children:[D.jsx("button",{disabled:u===1||r,className:xo.pagination__arrow,onClick:()=>n(u-1),children:D.jsx(gv,{width:35,height:35,color:u===1?"secondary":"primary"})}),d.map((m,g)=>D.jsx("button",{className:lt(xo.pagination__item,{[xo.pagination__item_active]:m===u,[xo.pagination__item_dots]:m===tu}),onClick:()=>n(Number(m)),disabled:m===tu||r,children:D.jsx(We,{tag:"p",view:"p-18",color:m===u?"secondary":"primary",children:m})},g)),D.jsx("button",{disabled:u===h||r,className:lt(xo.pagination__arrow,xo.pagination__arrow_right),onClick:()=>n(u+1),children:D.jsx(gv,{width:35,height:35,color:u===h?"secondary":"primary"})})]})}),N6="_page_13p39_1",P6="_page__pagination_13p39_12",Dw={page:N6,page__pagination:P6},M6="_description_1hjjx_1",k6={description:M6},L6=()=>D.jsxs("section",{className:k6.description,children:[D.jsx(We,{tag:"h2",view:"title",color:"primary",children:"Citypedia"}),D.jsx(We,{tag:"p",view:"p-20",color:"secondary",children:"Explore major cities around the world and discover key information about each one. Find out their population, capital status, and the country they belong to  all in one place."})]}),V6=t=>D.jsx(br,{...t,children:D.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.33563 8.74741L3.66436 7.25259L12 14.662L20.3356 7.25259L21.6644 8.74741L12 17.338L2.33563 8.74741Z",fill:"currentColor"})}),U6="_dropdown_11y2v_1",j6="_dropdown__list_11y2v_4",B6="_dropdown__list_opened_11y2v_18",z6="_dropdown__item_11y2v_21",pd={dropdown:U6,dropdown__list:j6,dropdown__list_opened:B6,dropdown__item:z6},F6=kn(({disabled:t,className:e})=>{const[n,r]=q.useState(""),[a,o]=q.useState(null),[u,h]=q.useState(!1),d=q.useRef(null),m=Mn(),{setDropdownValue:g}=m.filterStore,y=m.filterStore.dropdownOptions,w=m.filterStore.dropdownTitle,T=m.filterStore.dropdownValue,S=Array.from(new Map(y.filter(Q=>Q.value.toLowerCase().includes(n.toLowerCase())).map(Q=>[Q.value.toLowerCase(),Q])).values()),P=Q=>T.some(ee=>ee.key===Q.key),O=(Q,ee,k)=>{if(Q){const ie=T.filter(M=>M.key!==ee);g([...ie])}else g([...T,{key:ee,value:k}])},U=Q=>{d.current&&!d.current.contains(Q.target)&&h(!1)};q.useEffect(()=>(document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)),[]),q.useEffect(()=>{u||r("")},[u]);const H=u||n!==""?n:T.length>0?w:"";return D.jsxs("div",{className:lt(pd.dropdown,e),ref:d,children:[D.jsx(_y,{value:H,placeholder:w,onChange:Q=>{r(Q)},afterSlot:D.jsx(V6,{color:"secondary"}),onClick:()=>h(!0)}),!t&&y.length>0&&u&&D.jsx("ul",{className:lt(pd.dropdown__list,pd.dropdown__list_opened),children:S.map(Q=>{const{key:ee,value:k}=Q,ie=P(Q),M=a===Q.key,I=ie?"accent":M?"secondary":"primary";return D.jsx("li",{className:pd.dropdown__item,onClick:()=>O(ie,ee,k),onMouseEnter:()=>{Qd(()=>{o(ee)})},onMouseLeave:()=>{Qd(()=>{o(null)})},children:D.jsx(We,{view:"p-16",tag:"p",color:I,children:k})},ee)})})]})}),q6="_slider_1w6ap_1",H6="_slider__range_1w6ap_7",$6="_slider__track_1w6ap_16",G6="_slider__marks_1w6ap_21",K6="_slider__fill_1w6ap_36",Q6="_slider__fill_disabled_1w6ap_41",Y6="_slider__thumb_1w6ap_44",X6="_slider__thumb_disabled_1w6ap_51",Cs={slider:q6,slider__range:H6,slider__track:$6,slider__marks:G6,"slider__marks-item":"_slider__marks-item_1w6ap_29",slider__fill:K6,slider__fill_disabled:Q6,slider__thumb:Y6,slider__thumb_disabled:X6},W6=1,Z6=8,J6=kn(({min:t=3,max:e=10,className:n,...r})=>{const a=Mn(),{setViewPerPage:o}=a.paginationStore,u=a.paginationStore.viewPerPage,h=a.citiesDataStore.paginatedCities,d=[];for(let w=t;w<=e;w+=W6)d.push(w);const m=w=>(w-t)/(e-t)*100,g=m(u<=e?u:e),y=q.useMemo(()=>h.length<t||h.length>e,[e,t,h]);return D.jsxs("div",{className:lt(Cs.slider,n),children:[D.jsx("input",{type:"range",min:t,max:e,onChange:w=>o(Number(w.target.value)),className:Cs.slider__range,disabled:y,...r}),D.jsxs("div",{className:Cs.slider__track,children:[D.jsx("div",{className:Cs.slider__marks,children:d.map(w=>{const T=m(w);return D.jsx("div",{className:Cs["slider__marks-item"],style:{left:`${T}%`}},w)})}),D.jsx("div",{className:lt(Cs.slider__fill,y&&Cs.slider__fill_disabled),style:{width:`calc(${g}% + ${Z6}px)`}}),D.jsx("div",{className:lt(Cs.slider__thumb,y&&Cs.slider__thumb_disabled),style:{left:`${g}%`}})]})]})}),ex="_toolbar_1s8a0_1",tx="_dropdown_1s8a0_13",nx="_counter_1s8a0_18",md={toolbar:ex,"toolbar-container":"_toolbar-container_1s8a0_7",dropdown:tx,counter:nx},rx=kn(()=>{const t=Mn(),e=t.citiesStore.isLoading,n=t.paginationStore.totalPaginatedCities,r=t.citiesDataStore.paginatedCities;return D.jsxs("div",{className:md.toolbar,children:[D.jsxs("div",{className:md["toolbar-container"],children:[D.jsx(Q2,{actionName:"Find now",placeholder:"Search City",disabled:e}),D.jsx(F6,{className:md.dropdown}),D.jsx(J6,{min:3,max:Math.min(n,10)})]}),D.jsxs("div",{className:md.counter,children:[D.jsx(We,{tag:"p",view:"title",color:"primary",children:"Total Cities"}),r.length>0&&D.jsx(We,{tag:"p",view:"p-20",color:"accent",weight:"bold",children:r.length})]})]})}),ix=kn(()=>{const t=Mn(),e=t.citiesStore.isLoading,n=t.citiesDataStore.paginatedCities,r=t.paginationStore.viewPerPage;return D.jsx(gy,{loadingItems:r,isLoading:e,items:n})}),sx=()=>D.jsxs("div",{className:Dw.page,children:[D.jsx(L6,{}),D.jsx(rx,{}),D.jsx(ix,{}),D.jsx(x6,{className:Dw.page__pagination})]}),ax="_page_1mx7c_1",ox="_page__back_1mx7c_12",lx="_page__city_1mx7c_16",ux="_page__related_1mx7c_19",_d={page:ax,page__back:ox,page__city:lx,page__related:ux},cx="_button_2spog_1",hx={button:cx},fx=({children:t,className:e,...n})=>{const r=Lp();return D.jsxs("button",{className:lt(hx.button,e),onClick:()=>r(-1),...n,children:[D.jsx(gv,{width:35,height:35,color:"primary"}),D.jsx(We,{tag:"p",view:"p-18",children:t})]})},dx=({city:t,action:e,variant:n,isLoading:r=!1,...a})=>{const o=r||!t;return D.jsx(X2,{cityId:(t==null?void 0:t.id)??"",image:t==null?void 0:t.image,title:t==null?void 0:t.name,subtitle:(t==null?void 0:t.population)&&`Population: ${t==null?void 0:t.population}`,captionSlot:(t==null?void 0:t.country)&&`Country: ${t==null?void 0:t.country}`,contentSlot:(t==null?void 0:t.is_capital)&&"Capital",temp:(t==null?void 0:t.temp)&&`Temperature: ${t==null?void 0:t.temp} C`,localTime:(t==null?void 0:t.localTime)&&`Time now: ${t==null?void 0:t.localTime}`,actionSlot:e,variant:n,isLoading:o,...a})},xw=3,px=kn(()=>{const{id:t}=OD(),e=Mn(),{citiesStore:{fetchRelated:n,clearRelated:r,fetchCurrent:a},citiesDataStore:{updateCurrentCity:o}}=e,u=e.citiesStore.isLoading,h=e.citiesDataStore.relatedCities,d=e.citiesDataStore.currentCity;return q.useEffect(()=>(t&&((async()=>await a(t))(),(async()=>await n(xw,t))()),()=>{r(),sn(()=>{o(null)})}),[t,a,n,r,o]),D.jsxs("div",{className:_d.page,children:[D.jsx(fx,{className:_d.page__back,children:"Back"}),D.jsx(dx,{city:d?{id:d.id,image:d.image,name:d.name,country:d.country,population:d.population,is_capital:d.is_capital,likes:d.likes,temp:d.temp,localTime:d.localTime}:void 0,action:D.jsx(yr,{isLoading:u,children:"Find ticket"}),className:_d.page__city,variant:"single",isLoading:u}),D.jsxs("section",{className:_d.page__related,children:[D.jsx(We,{tag:"p",view:"title",color:"primary",children:"Related Cities"}),D.jsx(gy,{loadingItems:xw,isLoading:u,items:h})]})]})}),mx="_page_1jjpx_1",_x="_page__title_1jjpx_5",gx="_page__description_1jjpx_9",Lg={page:mx,page__title:_x,page__description:gx},vx=()=>D.jsxs("div",{className:Lg.page,children:[D.jsx(We,{view:"title",tag:"p",weight:"bold",className:Lg.page__title,children:"404"}),D.jsx(We,{view:"p-20",tag:"p",weight:"bold",color:"secondary",className:Lg.page__description,children:"Page Not Found"})]}),yx=m5([{path:Qb.home,element:D.jsx(kg,{header:!0,children:D.jsx(S6,{})})},{path:Qb.cities,element:D.jsx(kg,{header:!0,children:D.jsx(sx,{})})},{path:"/cities/:id",element:D.jsx(kg,{header:!0,children:D.jsx(px,{})})},{path:"*",element:D.jsx(vx,{})}]),Ex=()=>D.jsx(R5,{router:yx}),bx="_modal_4iwlg_1",wx="_modal__close_4iwlg_21",Vg={modal:bx,"modal-overlay":"_modal-overlay_4iwlg_8",modal__close:wx},W2=t=>D.jsx(br,{viewBox:"0 0 18 18",...t,children:D.jsx("path",{d:"M7 9L1 3C0.447715 2.44771 0.447715 1.55228 1 1C1.55228 0.447715 2.44772 0.447715 3 1L9 7L15 1C15.5523 0.447715 16.4477 0.447715 17 1C17.5523 1.55228 17.5523 2.44772 17 3L11 9L17 15C17.5523 15.5523 17.5523 16.4477 17 17C16.4477 17.5523 15.5523 17.5523 15 17L9 11L3 17C2.44771 17.5523 1.55228 17.5523 1 17C0.447715 16.4477 0.447715 15.5523 1 15L7 9Z",fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor"})}),Tx=({onClose:t,children:e,className:n})=>{const r=q.useRef(null),a=q.useCallback(h=>{h.key==="Escape"&&(t==null||t())},[t]),o=h=>{r.current=h.target},u=h=>{h.target===h.currentTarget&&r.current===h.currentTarget&&(t==null||t())};return q.useEffect(()=>(window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)),[a]),D.jsx("div",{className:Vg["modal-overlay"],onClick:u,onMouseDown:o,children:D.jsxs("div",{className:lt(Vg.modal,n),onClick:h=>h.stopPropagation(),children:[D.jsx("div",{className:Vg.modal__close,onClick:t,children:D.jsx(W2,{height:18,width:18,color:"secondary"})}),e]})})},Sx="_modal_r19k1_1",Ax={modal:Sx},Rx="_field_fp6qr_1",Cx="_field__error_fp6qr_6",Nw={field:Rx,field__error:Cx},Ox=t=>D.jsx(br,{viewBox:"0 0 24 24",...t,children:D.jsx("path",{d:"M4 11.6129L9.87755 18L20 7",stroke:"currentColor",strokeWidth:"2",fill:"transparent"})}),Ix="_checkbox_1a180_1",Dx="_checkbox__input_1a180_7",xx="_checkbox__box_1a180_13",Nx="_checkbox__box_disabled_1a180_23",Px="_checkbox__icon_1a180_30",Mx="_checkbox__icon_disabled_1a180_33",Kl={checkbox:Ix,checkbox__input:Dx,checkbox__box:xx,checkbox__box_disabled:Nx,checkbox__icon:Px,checkbox__icon_disabled:Mx},kx=({checked:t,onChange:e,disabled:n,className:r,...a})=>D.jsxs("label",{className:lt(Kl.checkbox,r),children:[D.jsx("input",{type:"checkbox",checked:t,disabled:n,onChange:o=>e(o.target.checked),className:Kl.checkbox__input,...a}),D.jsx("span",{className:lt(Kl.checkbox__box,n&&Kl.checkbox__box_disabled),children:t&&D.jsx(Ox,{width:40,height:40,color:"accent",className:lt(Kl.checkbox__icon,n&&Kl.checkbox__icon_disabled)})})]}),Pw=({label:t,type:e,value:n,onChange:r,errors:a,name:o})=>{const u={name:o,[e==="checkbox"?"checked":"value"]:n,...e==="checkbox"?{}:{type:e}};return D.jsxs("div",{className:Nw.field,children:[D.jsx(We,{view:"p-14",children:t}),e==="checkbox"?D.jsx(kx,{type:e,checked:n,onChange:r,...u}):D.jsxs(D.Fragment,{children:[D.jsx(_y,{type:e,value:n,onChange:r,...u}),a[o]&&D.jsx(We,{view:"p-14",className:Nw.field__error,children:a[o]})]})]})},Lx="_form_1aetw_1",Vx="_form__action_1aetw_6",Ux="_form__error_1aetw_10",Ug={form:Lx,form__action:Vx,form__error:Ux},jp=({formState:t,handleCheckboxChange:e,handleTextChange:n,fields:r,actionButton:a,errors:o,requestError:u})=>D.jsxs("form",{className:Ug.form,onSubmit:h=>h.preventDefault(),children:[r.map(({name:h,type:d,...m})=>d==="checkbox"?D.jsx(Pw,{name:h,...m,value:t[h],type:"checkbox",onChange:e(h),errors:o},h):D.jsx(Pw,{name:h,...m,value:t[h],type:d,onChange:n(h),errors:o},h)),u&&D.jsx(We,{view:"p-20",className:Ug.form__error,children:u}),D.jsx("div",{className:Ug.form__action,children:a})]}),jx=kn(()=>{const t=Mn(),{modalStore:{closeModal:e},userStore:{register:n},toastStore:{showToast:r}}=t,{requestError:a,setRequestError:o,clearError:u}=Dh(),h=q.useMemo(()=>[{name:"email",label:"Enter Email",type:"email",value:"",onChange:()=>{},validate:H=>H?H.includes("@")?null:"Email must be valid":"Email is required"},{name:"password",label:"Enter Password",type:"password",value:"",onChange:()=>{},validate:H=>H?H.length<6?"Password must be at least 6 characters":null:"Password is required"}],[]),{formState:d,handleCheckboxChange:m,handleTextChange:g,validate:y,errors:w,isSubmitting:T,setIsSubmitting:S}=Up(h),P=q.useCallback(async()=>{if(!y())return;S(!0);const H=d.email,Q=d.password,ee=await n(H,Q);if(typeof ee=="string"){S(!1),o(ee);return}S(!1),u(),r("Successfully Register!","success"),e()},[d.email,d.password,e,y,u,o,S,n,r]),O=H=>{Fo(H),P()},U=q.useCallback(H=>{H.key!=="Enter"||T||P()},[P,T]);return q.useEffect(()=>(window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)),[U]),D.jsxs("div",{className:Ax.modal,children:[D.jsx(We,{view:"title",weight:"bold",tag:"p",children:"Sign Up"}),D.jsx(jp,{fields:h,formState:d,handleTextChange:g,handleCheckboxChange:m,actionButton:D.jsx(yr,{disabled:T,onClick:O,children:T?"Signing up...":"Sign Up"}),errors:w,requestError:a})]})}),Bx="_modal_da0qp_1",zx="_modal__field_da0qp_6",jg={modal:Bx,modal__field:zx},Fx=kn(()=>{const t=Mn(),{modalStore:{openModal:e,closeModal:n},userStore:{login:r},toastStore:{showToast:a}}=t,{requestError:o,setRequestError:u,clearError:h}=Dh(),d=q.useMemo(()=>[{name:"email",label:"Enter Email",type:"email",value:"",onChange:()=>{},validate:Q=>Q?Q.includes("@")?null:"Email must be valid":"Email is required"},{name:"password",label:"Enter Password",type:"password",value:"",onChange:()=>{},validate:Q=>Q?Q.length<6?"Password must be at least 6 characters":null:"Password is required"}],[]),{formState:m,handleCheckboxChange:g,handleTextChange:y,validate:w,errors:T,isSubmitting:S,setIsSubmitting:P}=Up(d),O=q.useCallback(async()=>{if(!w())return;P(!0);const Q=m.email,ee=m.password,k=await r(Q,ee);if(typeof k=="string"){u(k),P(!1);return}P(!1),h(),a("Successfully Login!","success"),n()},[m.email,m.password,n,w,h,u,P,r,a]),U=Q=>{Fo(Q),O()},H=q.useCallback(Q=>{Q.key!=="Enter"||S||O()},[O,S]);return q.useEffect(()=>(window.addEventListener("keydown",H),()=>window.removeEventListener("keydown",H)),[H]),D.jsxs("div",{className:jg.modal,children:[D.jsx(We,{view:"title",weight:"bold",tag:"p",children:"Sign In"}),D.jsxs("div",{className:jg.modal__field,children:[D.jsx(We,{view:"p-14",tag:"p",children:"Don't have an account yet?"}),D.jsx("div",{className:jg.modal__action,children:D.jsx(yr,{onClick:()=>e("sign-up"),children:"Yes"})})]}),D.jsx(jp,{fields:d,formState:m,handleTextChange:y,handleCheckboxChange:g,actionButton:D.jsx(yr,{disabled:S,onClick:U,children:S?"Signing in...":"Sign In"}),errors:T,requestError:o})]})}),qx="_modal_r19k1_1",Hx={modal:qx},$x=()=>{};var Mw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Gx=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],u=t[n++],h=t[n++],d=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},J2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],u=a+1<t.length,h=u?t[a+1]:0,d=a+2<t.length,m=d?t[a+2]:0,g=o>>2,y=(o&3)<<4|h>>4;let w=(h&15)<<2|m>>6,T=m&63;d||(T=64,u||(w=64)),r.push(n[g],n[y],n[w],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Z2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Gx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const y=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||h==null||m==null||y==null)throw new Kx;const w=o<<2|h>>4;if(r.push(w),m!==64){const T=h<<4&240|m>>2;if(r.push(T),y!==64){const S=m<<6&192|y;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Kx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qx=function(t){const e=Z2(t);return J2.encodeByteArray(e,!0)},rp=function(t){return Qx(t).replace(/\./g,"")},eA=function(t){try{return J2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=()=>Yx().__FIREBASE_DEFAULTS__,Wx=()=>{if(typeof process>"u"||typeof Mw>"u")return;const t=Mw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Zx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eA(t[1]);return e&&JSON.parse(e)},Bp=()=>{try{return $x()||Xx()||Wx()||Zx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tA=t=>{var e,n;return(n=(e=Bp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nA=t=>{const e=tA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rA=()=>{var t;return(t=Bp())===null||t===void 0?void 0:t.config},iA=t=>{var e;return(e=Bp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[rp(JSON.stringify(n)),rp(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qn())}function tN(){var t;const e=(t=Bp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sN(){const t=qn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aN(){return!tN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oN(){try{return typeof indexedDB=="object"}catch{return!1}}function lN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="FirebaseError";class Hn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uN,Object.setPrototypeOf(this,Hn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xh.prototype.create)}}class xh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?cN(o,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Hn(a,h,r)}}function cN(t,e){return t.replace(hN,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const hN=/\{\$([^}]+)}/g;function fN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],u=e[a];if(kw(o)&&kw(u)){if(!qo(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function kw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Bc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function dN(t,e){const n=new pN(t,e);return n.subscribe.bind(n)}class pN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mN(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Bg),a.error===void 0&&(a.error=Bg),a.complete===void 0&&(a.complete=Bg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Bg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t){return t&&t._delegate?t._delegate:t}class ka{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Jx;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vN(e))try{this.getOrInitializeService({instanceIdentifier:No})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=No){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=No){return this.instances.has(e)}getOptions(e=No){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(a)}return a}onInit(e,n){var r;const a=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=No){return this.component?this.component.multipleInstances?e:No:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gN(t){return t===No?void 0:t}function vN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _N(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const EN={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},bN=it.INFO,wN={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},TN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=wN[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vy{constructor(e){this.name=e,this._logLevel=bN,this._logHandler=TN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const SN=(t,e)=>e.some(n=>t instanceof n);let Lw,Vw;function AN(){return Lw||(Lw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RN(){return Vw||(Vw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aA=new WeakMap,vv=new WeakMap,oA=new WeakMap,zg=new WeakMap,yy=new WeakMap;function CN(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(Da(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&aA.set(n,t)}).catch(()=>{}),yy.set(e,t),e}function ON(t){if(vv.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});vv.set(t,e)}let yv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Da(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IN(t){yv=t(yv)}function DN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fg(this),e,...n);return oA.set(r,e.sort?e.sort():[e]),Da(r)}:RN().includes(t)?function(...e){return t.apply(Fg(this),e),Da(aA.get(this))}:function(...e){return Da(t.apply(Fg(this),e))}}function xN(t){return typeof t=="function"?DN(t):(t instanceof IDBTransaction&&ON(t),SN(t,AN())?new Proxy(t,yv):t)}function Da(t){if(t instanceof IDBRequest)return CN(t);if(zg.has(t))return zg.get(t);const e=xN(t);return e!==t&&(zg.set(t,e),yy.set(e,t)),e}const Fg=t=>yy.get(t);function NN(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(t,e),h=Da(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Da(u.result),d.oldVersion,d.newVersion,Da(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const PN=["get","getKey","getAll","getAllKeys","count"],MN=["put","add","delete","clear"],qg=new Map;function Uw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qg.get(e))return qg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=MN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||PN.includes(n)))return;const o=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let m=d.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),a&&d.done]))[0]};return qg.set(e,o),o}IN(t=>({...t,get:(e,n,r)=>Uw(e,n)||t.get(e,n,r),has:(e,n)=>!!Uw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function LN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ev="@firebase/app",jw="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new vy("@firebase/app"),VN="@firebase/app-compat",UN="@firebase/analytics-compat",jN="@firebase/analytics",BN="@firebase/app-check-compat",zN="@firebase/app-check",FN="@firebase/auth",qN="@firebase/auth-compat",HN="@firebase/database",$N="@firebase/data-connect",GN="@firebase/database-compat",KN="@firebase/functions",QN="@firebase/functions-compat",YN="@firebase/installations",XN="@firebase/installations-compat",WN="@firebase/messaging",ZN="@firebase/messaging-compat",JN="@firebase/performance",e8="@firebase/performance-compat",t8="@firebase/remote-config",n8="@firebase/remote-config-compat",r8="@firebase/storage",i8="@firebase/storage-compat",s8="@firebase/firestore",a8="@firebase/vertexai",o8="@firebase/firestore-compat",l8="firebase",u8="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="[DEFAULT]",c8={[Ev]:"fire-core",[VN]:"fire-core-compat",[jN]:"fire-analytics",[UN]:"fire-analytics-compat",[zN]:"fire-app-check",[BN]:"fire-app-check-compat",[FN]:"fire-auth",[qN]:"fire-auth-compat",[HN]:"fire-rtdb",[$N]:"fire-data-connect",[GN]:"fire-rtdb-compat",[KN]:"fire-fn",[QN]:"fire-fn-compat",[YN]:"fire-iid",[XN]:"fire-iid-compat",[WN]:"fire-fcm",[ZN]:"fire-fcm-compat",[JN]:"fire-perf",[e8]:"fire-perf-compat",[t8]:"fire-rc",[n8]:"fire-rc-compat",[r8]:"fire-gcs",[i8]:"fire-gcs-compat",[s8]:"fire-fst",[o8]:"fire-fst-compat",[a8]:"fire-vertex","fire-js":"fire-js",[l8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip=new Map,h8=new Map,wv=new Map;function Bw(t,e){try{t.container.addComponent(e)}catch(n){Us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ho(t){const e=t.name;if(wv.has(e))return Us.debug(`There were multiple attempts to register component ${e}.`),!1;wv.set(e,t);for(const n of ip.values())Bw(n,t);for(const n of h8.values())Bw(n,t);return!0}function zp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _r(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xa=new xh("app","Firebase",f8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ka("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=u8;function lA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:bv,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw xa.create("bad-app-name",{appName:String(a)});if(n||(n=rA()),!n)throw xa.create("no-options");const o=ip.get(a);if(o){if(qo(n,o.options)&&qo(r,o.config))return o;throw xa.create("duplicate-app",{appName:a})}const u=new yN(a);for(const d of wv.values())u.addComponent(d);const h=new d8(n,r,u);return ip.set(a,h),h}function Ey(t=bv){const e=ip.get(t);if(!e&&t===bv&&rA())return lA();if(!e)throw xa.create("no-app",{appName:t});return e}function Ui(t,e,n){var r;let a=(r=c8[t])!==null&&r!==void 0?r:t;n&&(a+=`-${n}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${a}" with version "${e}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Us.warn(h.join(" "));return}Ho(new ka(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8="firebase-heartbeat-database",m8=1,sh="firebase-heartbeat-store";let Hg=null;function uA(){return Hg||(Hg=NN(p8,m8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sh)}catch(n){console.warn(n)}}}}).catch(t=>{throw xa.create("idb-open",{originalErrorMessage:t.message})})),Hg}async function _8(t){try{const n=(await uA()).transaction(sh),r=await n.objectStore(sh).get(cA(t));return await n.done,r}catch(e){if(e instanceof Hn)Us.warn(e.message);else{const n=xa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Us.warn(n.message)}}}async function zw(t,e){try{const r=(await uA()).transaction(sh,"readwrite");await r.objectStore(sh).put(e,cA(t)),await r.done}catch(n){if(n instanceof Hn)Us.warn(n.message);else{const r=xa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Us.warn(r.message)}}}function cA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8=1024,v8=30;class y8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new b8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Fw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>v8){const u=w8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Us.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fw(),{heartbeatsToSend:r,unsentEntries:a}=E8(this._heartbeatsCache.heartbeats),o=rp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Us.warn(n),""}}}function Fw(){return new Date().toISOString().substring(0,10)}function E8(t,e=g8){const n=[];let r=t.slice();for(const a of t){const o=n.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),qw(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),qw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class b8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oN()?lN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return zw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return zw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function qw(t){return rp(JSON.stringify({version:2,heartbeats:t})).length}function w8(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T8(t){Ho(new ka("platform-logger",e=>new kN(e),"PRIVATE")),Ho(new ka("heartbeat",e=>new y8(e),"PRIVATE")),Ui(Ev,jw,t),Ui(Ev,jw,"esm2017"),Ui("fire-js","")}T8("");var S8="firebase",A8="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ui(S8,A8,"app");var Hw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Na,hA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,I){function C(){}C.prototype=I.prototype,M.D=I.prototype,M.prototype=new C,M.prototype.constructor=M,M.C=function(N,B,$){for(var L=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)L[mt-2]=arguments[mt];return I.prototype[B].apply(N,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(M,I,C){C||(C=0);var N=Array(16);if(typeof I=="string")for(var B=0;16>B;++B)N[B]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(B=0;16>B;++B)N[B]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=M.g[0],C=M.g[1],B=M.g[2];var $=M.g[3],L=I+($^C&(B^$))+N[0]+3614090360&4294967295;I=C+(L<<7&4294967295|L>>>25),L=$+(B^I&(C^B))+N[1]+3905402710&4294967295,$=I+(L<<12&4294967295|L>>>20),L=B+(C^$&(I^C))+N[2]+606105819&4294967295,B=$+(L<<17&4294967295|L>>>15),L=C+(I^B&($^I))+N[3]+3250441966&4294967295,C=B+(L<<22&4294967295|L>>>10),L=I+($^C&(B^$))+N[4]+4118548399&4294967295,I=C+(L<<7&4294967295|L>>>25),L=$+(B^I&(C^B))+N[5]+1200080426&4294967295,$=I+(L<<12&4294967295|L>>>20),L=B+(C^$&(I^C))+N[6]+2821735955&4294967295,B=$+(L<<17&4294967295|L>>>15),L=C+(I^B&($^I))+N[7]+4249261313&4294967295,C=B+(L<<22&4294967295|L>>>10),L=I+($^C&(B^$))+N[8]+1770035416&4294967295,I=C+(L<<7&4294967295|L>>>25),L=$+(B^I&(C^B))+N[9]+2336552879&4294967295,$=I+(L<<12&4294967295|L>>>20),L=B+(C^$&(I^C))+N[10]+4294925233&4294967295,B=$+(L<<17&4294967295|L>>>15),L=C+(I^B&($^I))+N[11]+2304563134&4294967295,C=B+(L<<22&4294967295|L>>>10),L=I+($^C&(B^$))+N[12]+1804603682&4294967295,I=C+(L<<7&4294967295|L>>>25),L=$+(B^I&(C^B))+N[13]+4254626195&4294967295,$=I+(L<<12&4294967295|L>>>20),L=B+(C^$&(I^C))+N[14]+2792965006&4294967295,B=$+(L<<17&4294967295|L>>>15),L=C+(I^B&($^I))+N[15]+1236535329&4294967295,C=B+(L<<22&4294967295|L>>>10),L=I+(B^$&(C^B))+N[1]+4129170786&4294967295,I=C+(L<<5&4294967295|L>>>27),L=$+(C^B&(I^C))+N[6]+3225465664&4294967295,$=I+(L<<9&4294967295|L>>>23),L=B+(I^C&($^I))+N[11]+643717713&4294967295,B=$+(L<<14&4294967295|L>>>18),L=C+($^I&(B^$))+N[0]+3921069994&4294967295,C=B+(L<<20&4294967295|L>>>12),L=I+(B^$&(C^B))+N[5]+3593408605&4294967295,I=C+(L<<5&4294967295|L>>>27),L=$+(C^B&(I^C))+N[10]+38016083&4294967295,$=I+(L<<9&4294967295|L>>>23),L=B+(I^C&($^I))+N[15]+3634488961&4294967295,B=$+(L<<14&4294967295|L>>>18),L=C+($^I&(B^$))+N[4]+3889429448&4294967295,C=B+(L<<20&4294967295|L>>>12),L=I+(B^$&(C^B))+N[9]+568446438&4294967295,I=C+(L<<5&4294967295|L>>>27),L=$+(C^B&(I^C))+N[14]+3275163606&4294967295,$=I+(L<<9&4294967295|L>>>23),L=B+(I^C&($^I))+N[3]+4107603335&4294967295,B=$+(L<<14&4294967295|L>>>18),L=C+($^I&(B^$))+N[8]+1163531501&4294967295,C=B+(L<<20&4294967295|L>>>12),L=I+(B^$&(C^B))+N[13]+2850285829&4294967295,I=C+(L<<5&4294967295|L>>>27),L=$+(C^B&(I^C))+N[2]+4243563512&4294967295,$=I+(L<<9&4294967295|L>>>23),L=B+(I^C&($^I))+N[7]+1735328473&4294967295,B=$+(L<<14&4294967295|L>>>18),L=C+($^I&(B^$))+N[12]+2368359562&4294967295,C=B+(L<<20&4294967295|L>>>12),L=I+(C^B^$)+N[5]+4294588738&4294967295,I=C+(L<<4&4294967295|L>>>28),L=$+(I^C^B)+N[8]+2272392833&4294967295,$=I+(L<<11&4294967295|L>>>21),L=B+($^I^C)+N[11]+1839030562&4294967295,B=$+(L<<16&4294967295|L>>>16),L=C+(B^$^I)+N[14]+4259657740&4294967295,C=B+(L<<23&4294967295|L>>>9),L=I+(C^B^$)+N[1]+2763975236&4294967295,I=C+(L<<4&4294967295|L>>>28),L=$+(I^C^B)+N[4]+1272893353&4294967295,$=I+(L<<11&4294967295|L>>>21),L=B+($^I^C)+N[7]+4139469664&4294967295,B=$+(L<<16&4294967295|L>>>16),L=C+(B^$^I)+N[10]+3200236656&4294967295,C=B+(L<<23&4294967295|L>>>9),L=I+(C^B^$)+N[13]+681279174&4294967295,I=C+(L<<4&4294967295|L>>>28),L=$+(I^C^B)+N[0]+3936430074&4294967295,$=I+(L<<11&4294967295|L>>>21),L=B+($^I^C)+N[3]+3572445317&4294967295,B=$+(L<<16&4294967295|L>>>16),L=C+(B^$^I)+N[6]+76029189&4294967295,C=B+(L<<23&4294967295|L>>>9),L=I+(C^B^$)+N[9]+3654602809&4294967295,I=C+(L<<4&4294967295|L>>>28),L=$+(I^C^B)+N[12]+3873151461&4294967295,$=I+(L<<11&4294967295|L>>>21),L=B+($^I^C)+N[15]+530742520&4294967295,B=$+(L<<16&4294967295|L>>>16),L=C+(B^$^I)+N[2]+3299628645&4294967295,C=B+(L<<23&4294967295|L>>>9),L=I+(B^(C|~$))+N[0]+4096336452&4294967295,I=C+(L<<6&4294967295|L>>>26),L=$+(C^(I|~B))+N[7]+1126891415&4294967295,$=I+(L<<10&4294967295|L>>>22),L=B+(I^($|~C))+N[14]+2878612391&4294967295,B=$+(L<<15&4294967295|L>>>17),L=C+($^(B|~I))+N[5]+4237533241&4294967295,C=B+(L<<21&4294967295|L>>>11),L=I+(B^(C|~$))+N[12]+1700485571&4294967295,I=C+(L<<6&4294967295|L>>>26),L=$+(C^(I|~B))+N[3]+2399980690&4294967295,$=I+(L<<10&4294967295|L>>>22),L=B+(I^($|~C))+N[10]+4293915773&4294967295,B=$+(L<<15&4294967295|L>>>17),L=C+($^(B|~I))+N[1]+2240044497&4294967295,C=B+(L<<21&4294967295|L>>>11),L=I+(B^(C|~$))+N[8]+1873313359&4294967295,I=C+(L<<6&4294967295|L>>>26),L=$+(C^(I|~B))+N[15]+4264355552&4294967295,$=I+(L<<10&4294967295|L>>>22),L=B+(I^($|~C))+N[6]+2734768916&4294967295,B=$+(L<<15&4294967295|L>>>17),L=C+($^(B|~I))+N[13]+1309151649&4294967295,C=B+(L<<21&4294967295|L>>>11),L=I+(B^(C|~$))+N[4]+4149444226&4294967295,I=C+(L<<6&4294967295|L>>>26),L=$+(C^(I|~B))+N[11]+3174756917&4294967295,$=I+(L<<10&4294967295|L>>>22),L=B+(I^($|~C))+N[2]+718787259&4294967295,B=$+(L<<15&4294967295|L>>>17),L=C+($^(B|~I))+N[9]+3951481745&4294967295,M.g[0]=M.g[0]+I&4294967295,M.g[1]=M.g[1]+(B+(L<<21&4294967295|L>>>11))&4294967295,M.g[2]=M.g[2]+B&4294967295,M.g[3]=M.g[3]+$&4294967295}r.prototype.u=function(M,I){I===void 0&&(I=M.length);for(var C=I-this.blockSize,N=this.B,B=this.h,$=0;$<I;){if(B==0)for(;$<=C;)a(this,M,$),$+=this.blockSize;if(typeof M=="string"){for(;$<I;)if(N[B++]=M.charCodeAt($++),B==this.blockSize){a(this,N),B=0;break}}else for(;$<I;)if(N[B++]=M[$++],B==this.blockSize){a(this,N),B=0;break}}this.h=B,this.o+=I},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var I=1;I<M.length-8;++I)M[I]=0;var C=8*this.o;for(I=M.length-8;I<M.length;++I)M[I]=C&255,C/=256;for(this.u(M),M=Array(16),I=C=0;4>I;++I)for(var N=0;32>N;N+=8)M[C++]=this.g[I]>>>N&255;return M};function o(M,I){var C=h;return Object.prototype.hasOwnProperty.call(C,M)?C[M]:C[M]=I(M)}function u(M,I){this.h=I;for(var C=[],N=!0,B=M.length-1;0<=B;B--){var $=M[B]|0;N&&$==I||(C[B]=$,N=!1)}this.g=C}var h={};function d(M){return-128<=M&&128>M?o(M,function(I){return new u([I|0],0>I?-1:0)}):new u([M|0],0>M?-1:0)}function m(M){if(isNaN(M)||!isFinite(M))return y;if(0>M)return O(m(-M));for(var I=[],C=1,N=0;M>=C;N++)I[N]=M/C|0,C*=4294967296;return new u(I,0)}function g(M,I){if(M.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(M.charAt(0)=="-")return O(g(M.substring(1),I));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(I,8)),N=y,B=0;B<M.length;B+=8){var $=Math.min(8,M.length-B),L=parseInt(M.substring(B,B+$),I);8>$?($=m(Math.pow(I,$)),N=N.j($).add(m(L))):(N=N.j(C),N=N.add(m(L)))}return N}var y=d(0),w=d(1),T=d(16777216);t=u.prototype,t.m=function(){if(P(this))return-O(this).m();for(var M=0,I=1,C=0;C<this.g.length;C++){var N=this.i(C);M+=(0<=N?N:4294967296+N)*I,I*=4294967296}return M},t.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(S(this))return"0";if(P(this))return"-"+O(this).toString(M);for(var I=m(Math.pow(M,6)),C=this,N="";;){var B=ee(C,I).g;C=U(C,B.j(I));var $=((0<C.g.length?C.g[0]:C.h)>>>0).toString(M);if(C=B,S(C))return $+N;for(;6>$.length;)$="0"+$;N=$+N}},t.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function S(M){if(M.h!=0)return!1;for(var I=0;I<M.g.length;I++)if(M.g[I]!=0)return!1;return!0}function P(M){return M.h==-1}t.l=function(M){return M=U(this,M),P(M)?-1:S(M)?0:1};function O(M){for(var I=M.g.length,C=[],N=0;N<I;N++)C[N]=~M.g[N];return new u(C,~M.h).add(w)}t.abs=function(){return P(this)?O(this):this},t.add=function(M){for(var I=Math.max(this.g.length,M.g.length),C=[],N=0,B=0;B<=I;B++){var $=N+(this.i(B)&65535)+(M.i(B)&65535),L=($>>>16)+(this.i(B)>>>16)+(M.i(B)>>>16);N=L>>>16,$&=65535,L&=65535,C[B]=L<<16|$}return new u(C,C[C.length-1]&-2147483648?-1:0)};function U(M,I){return M.add(O(I))}t.j=function(M){if(S(this)||S(M))return y;if(P(this))return P(M)?O(this).j(O(M)):O(O(this).j(M));if(P(M))return O(this.j(O(M)));if(0>this.l(T)&&0>M.l(T))return m(this.m()*M.m());for(var I=this.g.length+M.g.length,C=[],N=0;N<2*I;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var B=0;B<M.g.length;B++){var $=this.i(N)>>>16,L=this.i(N)&65535,mt=M.i(B)>>>16,Ke=M.i(B)&65535;C[2*N+2*B]+=L*Ke,H(C,2*N+2*B),C[2*N+2*B+1]+=$*Ke,H(C,2*N+2*B+1),C[2*N+2*B+1]+=L*mt,H(C,2*N+2*B+1),C[2*N+2*B+2]+=$*mt,H(C,2*N+2*B+2)}for(N=0;N<I;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=I;N<2*I;N++)C[N]=0;return new u(C,0)};function H(M,I){for(;(M[I]&65535)!=M[I];)M[I+1]+=M[I]>>>16,M[I]&=65535,I++}function Q(M,I){this.g=M,this.h=I}function ee(M,I){if(S(I))throw Error("division by zero");if(S(M))return new Q(y,y);if(P(M))return I=ee(O(M),I),new Q(O(I.g),O(I.h));if(P(I))return I=ee(M,O(I)),new Q(O(I.g),I.h);if(30<M.g.length){if(P(M)||P(I))throw Error("slowDivide_ only works with positive integers.");for(var C=w,N=I;0>=N.l(M);)C=k(C),N=k(N);var B=ie(C,1),$=ie(N,1);for(N=ie(N,2),C=ie(C,2);!S(N);){var L=$.add(N);0>=L.l(M)&&(B=B.add(C),$=L),N=ie(N,1),C=ie(C,1)}return I=U(M,B.j(I)),new Q(B,I)}for(B=y;0<=M.l(I);){for(C=Math.max(1,Math.floor(M.m()/I.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),$=m(C),L=$.j(I);P(L)||0<L.l(M);)C-=N,$=m(C),L=$.j(I);S($)&&($=w),B=B.add($),M=U(M,L)}return new Q(B,M)}t.A=function(M){return ee(this,M).h},t.and=function(M){for(var I=Math.max(this.g.length,M.g.length),C=[],N=0;N<I;N++)C[N]=this.i(N)&M.i(N);return new u(C,this.h&M.h)},t.or=function(M){for(var I=Math.max(this.g.length,M.g.length),C=[],N=0;N<I;N++)C[N]=this.i(N)|M.i(N);return new u(C,this.h|M.h)},t.xor=function(M){for(var I=Math.max(this.g.length,M.g.length),C=[],N=0;N<I;N++)C[N]=this.i(N)^M.i(N);return new u(C,this.h^M.h)};function k(M){for(var I=M.g.length+1,C=[],N=0;N<I;N++)C[N]=M.i(N)<<1|M.i(N-1)>>>31;return new u(C,M.h)}function ie(M,I){var C=I>>5;I%=32;for(var N=M.g.length-C,B=[],$=0;$<N;$++)B[$]=0<I?M.i($+C)>>>I|M.i($+C+1)<<32-I:M.i($+C);return new u(B,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,hA=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=g,Na=u}).apply(typeof Hw<"u"?Hw:typeof self<"u"?self:typeof window<"u"?window:{});var gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fA,zc,dA,xd,Tv,pA,mA,_A;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,E){return f==Array.prototype||f==Object.prototype||(f[v]=E.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof gd=="object"&&gd];for(var v=0;v<f.length;++v){var E=f[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function a(f,v){if(v)e:{var E=r;f=f.split(".");for(var R=0;R<f.length-1;R++){var Y=f[R];if(!(Y in E))break e;E=E[Y]}f=f[f.length-1],R=E[f],v=v(R),v!=R&&v!=null&&e(E,f,{configurable:!0,writable:!0,value:v})}}function o(f,v){f instanceof String&&(f+="");var E=0,R=!1,Y={next:function(){if(!R&&E<f.length){var J=E++;return{value:v(J,f[J]),done:!1}}return R=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}a("Array.prototype.values",function(f){return f||function(){return o(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function m(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function g(f,v,E){return f.call.apply(f.bind,arguments)}function y(f,v,E){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,R),f.apply(v,Y)}}return function(){return f.apply(v,arguments)}}function w(f,v,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:y,w.apply(null,arguments)}function T(f,v){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function S(f,v){function E(){}E.prototype=v.prototype,f.aa=v.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(R,Y,J){for(var fe=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)fe[ct-2]=arguments[ct];return v.prototype[Y].apply(R,fe)}}function P(f){const v=f.length;if(0<v){const E=Array(v);for(let R=0;R<v;R++)E[R]=f[R];return E}return[]}function O(f,v){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(d(R)){const Y=f.length||0,J=R.length||0;f.length=Y+J;for(let fe=0;fe<J;fe++)f[Y+fe]=R[fe]}else f.push(R)}}class U{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function H(f){return/^[\s\xa0]*$/.test(f)}function Q(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function ee(f){return ee[" "](f),f}ee[" "]=function(){};var k=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ie(f,v,E){for(const R in f)v.call(E,f[R],R,f)}function M(f,v){for(const E in f)v.call(void 0,f[E],E,f)}function I(f){const v={};for(const E in f)v[E]=f[E];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(f,v){let E,R;for(let Y=1;Y<arguments.length;Y++){R=arguments[Y];for(E in R)f[E]=R[E];for(let J=0;J<C.length;J++)E=C[J],Object.prototype.hasOwnProperty.call(R,E)&&(f[E]=R[E])}}function B(f){var v=1;f=f.split(":");const E=[];for(;0<v&&f.length;)E.push(f.shift()),v--;return f.length&&E.push(f.join(":")),E}function $(f){h.setTimeout(()=>{throw f},0)}function L(){var f=Ye;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class mt{constructor(){this.h=this.g=null}add(v,E){const R=Ke.get();R.set(v,E),this.h?this.h.next=R:this.g=R,this.h=R}}var Ke=new U(()=>new he,f=>f.reset());class he{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Me,Re=!1,Ye=new mt,j=()=>{const f=h.Promise.resolve(void 0);Me=()=>{f.then(ce)}};var ce=()=>{for(var f;f=L();){try{f.h.call(f.g)}catch(E){$(E)}var v=Ke;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}Re=!1};function be(){this.s=this.s,this.C=this.C}be.prototype.s=!1,be.prototype.ma=function(){this.s||(this.s=!0,this.N())},be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};h.addEventListener("test",E,v),h.removeEventListener("test",E,v)}catch{}return f}();function je(f,v){if(_e.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(k){e:{try{ee(v.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(v=null)}}else E=="mouseover"?v=f.fromElement:E=="mouseout"&&(v=f.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:$e[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&je.aa.h.call(this)}}S(je,_e);var $e={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ft="closure_listenable_"+(1e6*Math.random()|0),ut=0;function et(f,v,E,R,Y){this.listener=f,this.proxy=null,this.src=v,this.type=E,this.capture=!!R,this.ha=Y,this.key=++ut,this.da=this.fa=!1}function rt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function pn(f){this.src=f,this.g={},this.h=0}pn.prototype.add=function(f,v,E,R,Y){var J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);var fe=Zt(f,v,R,Y);return-1<fe?(v=f[fe],E||(v.fa=!1)):(v=new et(v,this.src,J,!!R,Y),v.fa=E,f.push(v)),v};function Qr(f,v){var E=v.type;if(E in f.g){var R=f.g[E],Y=Array.prototype.indexOf.call(R,v,void 0),J;(J=0<=Y)&&Array.prototype.splice.call(R,Y,1),J&&(rt(v),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Zt(f,v,E,R){for(var Y=0;Y<f.length;++Y){var J=f[Y];if(!J.da&&J.listener==v&&J.capture==!!E&&J.ha==R)return Y}return-1}var di="closure_lm_"+(1e6*Math.random()|0),pi={};function wr(f,v,E,R,Y){if(Array.isArray(v)){for(var J=0;J<v.length;J++)wr(f,v[J],E,R,Y);return null}return E=sr(E),f&&f[Ft]?f.K(v,E,m(R)?!!R.capture:!1,Y):Za(f,v,E,!1,R,Y)}function Za(f,v,E,R,Y,J){if(!v)throw Error("Invalid event type");var fe=m(Y)?!!Y.capture:!!Y,ct=$s(f);if(ct||(f[di]=ct=new pn(f)),E=ct.add(v,E,R,fe,J),E.proxy)return E;if(R=qs(),E.proxy=R,R.src=f,R.listener=E,f.addEventListener)Ee||(Y=fe),Y===void 0&&(Y=!1),f.addEventListener(v.toString(),R,Y);else if(f.attachEvent)f.attachEvent(Zn(v.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function qs(){function f(E){return v.call(f.src,f.listener,E)}const v=es;return f}function Hs(f,v,E,R,Y){if(Array.isArray(v))for(var J=0;J<v.length;J++)Hs(f,v[J],E,R,Y);else R=m(R)?!!R.capture:!!R,E=sr(E),f&&f[Ft]?(f=f.i,v=String(v).toString(),v in f.g&&(J=f.g[v],E=Zt(J,E,R,Y),-1<E&&(rt(J[E]),Array.prototype.splice.call(J,E,1),J.length==0&&(delete f.g[v],f.h--)))):f&&(f=$s(f))&&(v=f.g[v.toString()],f=-1,v&&(f=Zt(v,E,R,Y)),(E=-1<f?v[f]:null)&&Ji(E))}function Ji(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[Ft])Qr(v.i,f);else{var E=f.type,R=f.proxy;v.removeEventListener?v.removeEventListener(E,R,f.capture):v.detachEvent?v.detachEvent(Zn(E),R):v.addListener&&v.removeListener&&v.removeListener(R),(E=$s(v))?(Qr(E,f),E.h==0&&(E.src=null,v[di]=null)):rt(f)}}}function Zn(f){return f in pi?pi[f]:pi[f]="on"+f}function es(f,v){if(f.da)f=!0;else{v=new je(v,this);var E=f.listener,R=f.ha||f.src;f.fa&&Ji(f),f=E.call(R,v)}return f}function $s(f){return f=f[di],f instanceof pn?f:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function sr(f){return typeof f=="function"?f:(f[mn]||(f[mn]=function(v){return f.handleEvent(v)}),f[mn])}function Rt(){be.call(this),this.i=new pn(this),this.M=this,this.F=null}S(Rt,be),Rt.prototype[Ft]=!0,Rt.prototype.removeEventListener=function(f,v,E,R){Hs(this,f,v,E,R)};function Qt(f,v){var E,R=f.F;if(R)for(E=[];R;R=R.F)E.push(R);if(f=f.M,R=v.type||v,typeof v=="string")v=new _e(v,f);else if(v instanceof _e)v.target=v.target||f;else{var Y=v;v=new _e(R,f),N(v,Y)}if(Y=!0,E)for(var J=E.length-1;0<=J;J--){var fe=v.g=E[J];Y=ar(fe,R,!0,v)&&Y}if(fe=v.g=f,Y=ar(fe,R,!0,v)&&Y,Y=ar(fe,R,!1,v)&&Y,E)for(J=0;J<E.length;J++)fe=v.g=E[J],Y=ar(fe,R,!1,v)&&Y}Rt.prototype.N=function(){if(Rt.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var E=f.g[v],R=0;R<E.length;R++)rt(E[R]);delete f.g[v],f.h--}}this.F=null},Rt.prototype.K=function(f,v,E,R){return this.i.add(String(f),v,!1,E,R)},Rt.prototype.L=function(f,v,E,R){return this.i.add(String(f),v,!0,E,R)};function ar(f,v,E,R){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var Y=!0,J=0;J<v.length;++J){var fe=v[J];if(fe&&!fe.da&&fe.capture==E){var ct=fe.listener,un=fe.ha||fe.src;fe.fa&&Qr(f.i,fe),Y=ct.call(un,R)!==!1&&Y}}return Y&&!R.defaultPrevented}function il(f,v,E){if(typeof f=="function")E&&(f=w(f,E));else if(f&&typeof f.handleEvent=="function")f=w(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(f,v||0)}function Jn(f){f.g=il(()=>{f.g=null,f.i&&(f.i=!1,Jn(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class sl extends be{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Jn(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mi(f){be.call(this),this.h=f,this.g={}}S(mi,be);var Yr=[];function _n(f){ie(f.g,function(v,E){this.g.hasOwnProperty(E)&&Ji(v)},f),f.g={}}mi.prototype.N=function(){mi.aa.N.call(this),_n(this)},mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gs=h.JSON.stringify,$n=h.JSON.parse,gn=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function ts(){}ts.prototype.h=null;function al(f){return f.h||(f.h=f.i())}function Ja(){}var Tr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xr(){_e.call(this,"d")}S(Xr,_e);function Ln(){_e.call(this,"c")}S(Ln,_e);var Rn={},_i=null;function Ks(){return _i=_i||new Rt}Rn.La="serverreachability";function V(f){_e.call(this,Rn.La,f)}S(V,_e);function G(f){const v=Ks();Qt(v,new V(v))}Rn.STAT_EVENT="statevent";function Z(f,v){_e.call(this,Rn.STAT_EVENT,f),this.stat=v}S(Z,_e);function ae(f){const v=Ks();Qt(v,new Z(v,f))}Rn.Ma="timingevent";function me(f,v){_e.call(this,Rn.Ma,f),this.size=v}S(me,_e);function xe(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},v)}function De(){this.g=!0}De.prototype.xa=function(){this.g=!1};function Ce(f,v,E,R,Y,J){f.info(function(){if(f.g)if(J)for(var fe="",ct=J.split("&"),un=0;un<ct.length;un++){var ht=ct[un].split("=");if(1<ht.length){var En=ht[0];ht=ht[1];var cn=En.split("_");fe=2<=cn.length&&cn[1]=="type"?fe+(En+"="+ht+"&"):fe+(En+"=redacted&")}}else fe=null;else fe=J;return"XMLHTTP REQ ("+R+") [attempt "+Y+"]: "+v+`
`+E+`
`+fe})}function Oe(f,v,E,R,Y,J,fe){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Y+"]: "+v+`
`+E+`
`+J+" "+fe})}function ve(f,v,E,R){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+Se(f,E)+(R?" "+R:"")})}function Te(f,v){f.info(function(){return"TIMEOUT: "+v})}De.prototype.info=function(){};function Se(f,v){if(!f.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var R=E[f];if(!(2>R.length)){var Y=R[1];if(Array.isArray(Y)&&!(1>Y.length)){var J=Y[0];if(J!="noop"&&J!="stop"&&J!="close")for(var fe=1;fe<Y.length;fe++)Y[fe]=""}}}}return Gs(E)}catch{return v}}var ke={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ut;function It(){}S(It,ts),It.prototype.g=function(){return new XMLHttpRequest},It.prototype.i=function(){return{}},Ut=new It;function _t(f,v,E,R){this.j=f,this.i=v,this.l=E,this.R=R||1,this.U=new mi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lt}function Lt(){this.i=null,this.g="",this.h=!1}var Gn={},or={};function Yt(f,v,E){f.L=1,f.v=ro(qt(v)),f.m=E,f.P=!0,Jt(f,null)}function Jt(f,v){f.F=Date.now(),wt(f),f.A=qt(f.v);var E=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),ss(E.i,"t",R),f.C=0,E=f.j.J,f.h=new Lt,f.g=rf(f.j,E?v:null,!f.m),0<f.O&&(f.M=new sl(w(f.Y,f,f.g),f.O)),v=f.U,E=f.g,R=f.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Yr[0]=Y.toString()),Y=Yr);for(var J=0;J<Y.length;J++){var fe=wr(E,Y[J],R||v.handleEvent,!1,v.h||v);if(!fe)break;v.g[fe.key]=fe}v=f.H?I(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),G(),Ce(f.i,f.u,f.A,f.l,f.R,f.m)}_t.prototype.ca=function(f){f=f.target;const v=this.M;v&&Dr(f)==3?v.j():this.Y(f)},_t.prototype.Y=function(f){try{if(f==this.g)e:{const cn=Dr(this.g);var v=this.g.Ba();const us=this.g.Z();if(!(3>cn)&&(cn!=3||this.g&&(this.h.h||this.g.oa()||Yh(this.g)))){this.J||cn!=4||v==7||(v==8||0>=us?G(3):G(2)),Wr(this);var E=this.g.Z();this.X=E;t:if(Sr(this)){var R=Yh(this.g);f="";var Y=R.length,J=Dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tt(this),Xe(this);var fe="";break t}this.h.i=new h.TextDecoder}for(v=0;v<Y;v++)this.h.h=!0,f+=this.h.i.decode(R[v],{stream:!(J&&v==Y-1)});R.length=0,this.h.g+=f,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=E==200,Oe(this.i,this.u,this.A,this.l,this.R,cn,E),this.o){if(this.T&&!this.K){t:{if(this.g){var ct,un=this.g;if((ct=un.g?un.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(ct)){var ht=ct;break t}}ht=null}if(E=ht)ve(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vn(this,E);else{this.o=!1,this.s=3,ae(12),Tt(this),Xe(this);break e}}if(this.P){E=!0;let Cn;for(;!this.J&&this.C<fe.length;)if(Cn=er(this,fe),Cn==or){cn==4&&(this.s=4,ae(14),E=!1),ve(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==Gn){this.s=4,ae(15),ve(this.i,this.l,fe,"[Invalid Chunk]"),E=!1;break}else ve(this.i,this.l,Cn,null),vn(this,Cn);if(Sr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cn!=4||fe.length!=0||this.h.h||(this.s=1,ae(16),E=!1),this.o=this.o&&E,!E)ve(this.i,this.l,fe,"[Invalid Chunked Response]"),Tt(this),Xe(this);else if(0<fe.length&&!this.W){this.W=!0;var En=this.j;En.g==this&&En.ba&&!En.M&&(En.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),co(En),En.M=!0,ae(11))}}else ve(this.i,this.l,fe,null),vn(this,fe);cn==4&&Tt(this),this.o&&!this.J&&(cn==4?ef(this.j,this):(this.o=!1,wt(this)))}else Tm(this.g),E==400&&0<fe.indexOf("Unknown SID")?(this.s=3,ae(12)):(this.s=0,ae(13)),Tt(this),Xe(this)}}}catch{}finally{}};function Sr(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function er(f,v){var E=f.C,R=v.indexOf(`
`,E);return R==-1?or:(E=Number(v.substring(E,R)),isNaN(E)?Gn:(R+=1,R+E>v.length?or:(v=v.slice(R,R+E),f.C=R+E,v)))}_t.prototype.cancel=function(){this.J=!0,Tt(this)};function wt(f){f.S=Date.now()+f.I,gi(f,f.I)}function gi(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=xe(w(f.ba,f),v)}function Wr(f){f.B&&(h.clearTimeout(f.B),f.B=null)}_t.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Te(this.i,this.A),this.L!=2&&(G(),ae(17)),Tt(this),this.s=2,Xe(this)):gi(this,this.S-f)};function Xe(f){f.j.G==0||f.J||ef(f.j,f)}function Tt(f){Wr(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,_n(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function vn(f,v){try{var E=f.j;if(E.G!=0&&(E.g==f||vi(E.h,f))){if(!f.K&&vi(E.h,f)&&E.G==3){try{var R=E.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Y=R;if(Y[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)_l(E),pl(E);else break e;Vu(E),ae(18)}}else E.za=Y[1],0<E.za-E.T&&37500>Y[2]&&E.F&&E.v==0&&!E.C&&(E.C=xe(w(E.Za,E),6e3));if(1>=eo(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ls(E,11)}else if((f.K||E.g==f)&&_l(E),!H(v))for(Y=E.Da.g.parse(v),v=0;v<Y.length;v++){let ht=Y[v];if(E.T=ht[0],ht=ht[1],E.G==2)if(ht[0]=="c"){E.K=ht[1],E.ia=ht[2];const En=ht[3];En!=null&&(E.la=En,E.j.info("VER="+E.la));const cn=ht[4];cn!=null&&(E.Aa=cn,E.j.info("SVER="+E.Aa));const us=ht[5];us!=null&&typeof us=="number"&&0<us&&(R=1.5*us,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const Cn=f.g;if(Cn){const Ai=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ai){var J=R.h;J.g||Ai.indexOf("spdy")==-1&&Ai.indexOf("quic")==-1&&Ai.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Qs(J,J.h),J.h=null))}if(R.D){const ju=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;ju&&(R.ya=ju,vt(R.I,R.D,ju))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var fe=f;if(R.qa=nf(R,R.J?R.ia:null,R.W),fe.K){Rr(R.h,fe);var ct=fe,un=R.L;un&&(ct.I=un),ct.B&&(Wr(ct),wt(ct)),R.g=fe}else Zh(R);0<E.i.length&&ml(E)}else ht[0]!="stop"&&ht[0]!="close"||ls(E,7);else E.G==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?ls(E,7):ku(E):ht[0]!="noop"&&E.l&&E.l.ta(ht),E.v=0)}}G(4)}catch{}}var ns=class{constructor(f,v){this.g=f,this.map=v}};function xt(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ar(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function eo(f){return f.h?1:f.g?f.g.size:0}function vi(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function Qs(f,v){f.g?f.g.add(v):f.h=v}function Rr(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}xt.prototype.cancel=function(){if(this.i=Kn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Kn(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const E of f.g.values())v=v.concat(E.D);return v}return P(f.i)}function $h(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var v=[],E=f.length,R=0;R<E;R++)v.push(f[R]);return v}v=[],E=0;for(R in f)v[E++]=f[R];return v}function ym(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var v=[];f=f.length;for(var E=0;E<f;E++)v.push(E);return v}v=[],E=0;for(const R in f)v[E++]=R;return v}}}function to(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var E=ym(f),R=$h(f),Y=R.length,J=0;J<Y;J++)v.call(void 0,R[J],E&&E[J],f)}var Iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ol(f,v){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var R=f[E].indexOf("="),Y=null;if(0<=R){var J=f[E].substring(0,R);Y=f[E].substring(R+1)}else J=f[E];v(J,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function rs(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof rs){this.h=f.h,Ys(this,f.j),this.o=f.o,this.g=f.g,no(this,f.s),this.l=f.l;var v=f.i,E=new yi;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),ll(this,E),this.m=f.m}else f&&(v=String(f).match(Iu))?(this.h=!1,Ys(this,v[1]||"",!0),this.o=Xs(v[2]||""),this.g=Xs(v[3]||"",!0),no(this,v[4]),this.l=Xs(v[5]||"",!0),ll(this,v[6]||"",!0),this.m=Xs(v[7]||"")):(this.h=!1,this.i=new yi(null,this.h))}rs.prototype.toString=function(){var f=[],v=this.j;v&&f.push(Cr(v,Du,!0),":");var E=this.g;return(E||v=="file")&&(f.push("//"),(v=this.o)&&f.push(Cr(v,Du,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(Cr(E,E.charAt(0)=="/"?xu:Gh,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",Cr(E,wm)),f.join("")};function qt(f){return new rs(f)}function Ys(f,v,E){f.j=E?Xs(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function no(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function ll(f,v,E){v instanceof yi?(f.i=v,Nu(f.i,f.h)):(E||(v=Cr(v,bm)),f.i=new yi(v,f.h))}function vt(f,v,E){f.i.set(v,E)}function ro(f){return vt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Xs(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Cr(f,v,E){return typeof f=="string"?(f=encodeURI(f).replace(v,Em),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Em(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Du=/[#\/\?@]/g,Gh=/[#\?:]/g,xu=/[#\?]/g,bm=/[#\?@]/g,wm=/#/g;function yi(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Or(f){f.g||(f.g=new Map,f.h=0,f.i&&ol(f.i,function(v,E){f.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=yi.prototype,t.add=function(f,v){Or(this),this.i=null,f=as(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(v),this.h+=1,this};function ul(f,v){Or(f),v=as(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function is(f,v){return Or(f),v=as(f,v),f.g.has(v)}t.forEach=function(f,v){Or(this),this.g.forEach(function(E,R){E.forEach(function(Y){f.call(v,Y,R,this)},this)},this)},t.na=function(){Or(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let R=0;R<v.length;R++){const Y=f[R];for(let J=0;J<Y.length;J++)E.push(v[R])}return E},t.V=function(f){Or(this);let v=[];if(typeof f=="string")is(this,f)&&(v=v.concat(this.g.get(as(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)v=v.concat(f[E])}return v},t.set=function(f,v){return Or(this),this.i=null,f=as(this,f),is(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},t.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function ss(f,v,E){ul(f,v),0<E.length&&(f.i=null,f.g.set(as(f,v),P(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var R=v[E];const J=encodeURIComponent(String(R)),fe=this.V(R);for(R=0;R<fe.length;R++){var Y=J;fe[R]!==""&&(Y+="="+encodeURIComponent(String(fe[R]))),f.push(Y)}}return this.i=f.join("&")};function as(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function Nu(f,v){v&&!f.j&&(Or(f),f.i=null,f.g.forEach(function(E,R){var Y=R.toLowerCase();R!=Y&&(ul(this,R),ss(this,Y,E))},f)),f.j=v}function Kh(f,v){const E=new De;if(h.Image){const R=new Image;R.onload=T(Ir,E,"TestLoadImage: loaded",!0,v,R),R.onerror=T(Ir,E,"TestLoadImage: error",!1,v,R),R.onabort=T(Ir,E,"TestLoadImage: abort",!1,v,R),R.ontimeout=T(Ir,E,"TestLoadImage: timeout",!1,v,R),h.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else v(!1)}function io(f,v){const E=new De,R=new AbortController,Y=setTimeout(()=>{R.abort(),Ir(E,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:R.signal}).then(J=>{clearTimeout(Y),J.ok?Ir(E,"TestPingServer: ok",!0,v):Ir(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Y),Ir(E,"TestPingServer: error",!1,v)})}function Ir(f,v,E,R,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),R(E)}catch{}}function so(){this.g=new gn}function Ei(f,v,E){const R=E||"";try{to(f,function(Y,J){let fe=Y;m(Y)&&(fe=Gs(Y)),v.push(R+J+"="+encodeURIComponent(fe))})}catch(Y){throw v.push(R+"type="+encodeURIComponent("_badmap")),Y}}function Ws(f){this.l=f.Ub||null,this.j=f.eb||!1}S(Ws,ts),Ws.prototype.g=function(){return new os(this.l,this.j)},Ws.prototype.i=function(f){return function(){return f}}({});function os(f,v){Rt.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(os,Rt),t=os.prototype,t.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,wi(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bi(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pu(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pu(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?bi(this):wi(this),this.readyState==3&&Pu(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,bi(this))},t.Qa=function(f){this.g&&(this.response=f,bi(this))},t.ga=function(){this.g&&bi(this)};function bi(f){f.readyState=4,f.l=null,f.j=null,f.v=null,wi(f)}t.setRequestHeader=function(f,v){this.u.append(f,v)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=v.next();return f.join(`\r
`)};function wi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Mu(f){let v="";return ie(f,function(E,R){v+=R,v+=":",v+=E,v+=`\r
`}),v}function yn(f,v,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=Mu(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):vt(f,v,E))}function At(f){Rt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(At,Rt);var cl=/^https?$/i,ao=["POST","PUT"];t=At.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,v,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ut.g(),this.v=this.o?al(this.o):al(Ut),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(J){Qh(this,J);return}if(f=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Y in R)E.set(Y,R[Y]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())E.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(J=>J.toLowerCase()=="content-type"),Y=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(ao,v,void 0))||R||Y||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,fe]of E)this.g.setRequestHeader(J,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oo(this),this.u=!0,this.g.send(f),this.u=!1}catch(J){Qh(this,J)}};function Qh(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,hl(f),Ti(f)}function hl(f){f.A||(f.A=!0,Qt(f,"complete"),Qt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Qt(this,"complete"),Qt(this,"abort"),Ti(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ti(this,!0)),At.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?fl(this):this.bb())},t.bb=function(){fl(this)};function fl(f){if(f.h&&typeof u<"u"&&(!f.v[1]||Dr(f)!=4||f.Z()!=2)){if(f.u&&Dr(f)==4)il(f.Ea,0,f);else if(Qt(f,"readystatechange"),Dr(f)==4){f.h=!1;try{const fe=f.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var R;if(R=fe===0){var Y=String(f.D).match(Iu)[1]||null;!Y&&h.self&&h.self.location&&(Y=h.self.location.protocol.slice(0,-1)),R=!cl.test(Y?Y.toLowerCase():"")}E=R}if(E)Qt(f,"complete"),Qt(f,"success");else{f.m=6;try{var J=2<Dr(f)?f.g.statusText:""}catch{J=""}f.l=J+" ["+f.Z()+"]",hl(f)}}finally{Ti(f)}}}}function Ti(f,v){if(f.g){oo(f);const E=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||Qt(f,"ready");try{E.onreadystatechange=R}catch{}}}function oo(f){f.I&&(h.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Dr(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Dr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),$n(v)}};function Yh(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Tm(f){const v={};f=(f.g&&2<=Dr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(H(f[R]))continue;var E=B(f[R]);const Y=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const J=v[Y]||[];v[Y]=J,J.push(E)}M(v,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lo(f,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||v}function dl(f){this.Aa=0,this.i=[],this.j=new De,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lo("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lo("baseRetryDelayMs",5e3,f),this.cb=lo("retryDelaySeedMs",1e4,f),this.Wa=lo("forwardChannelMaxRetries",2,f),this.wa=lo("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new xt(f&&f.concurrentRequestLimit),this.Da=new so,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=dl.prototype,t.la=8,t.G=1,t.connect=function(f,v,E,R){ae(0),this.W=f,this.H=v||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=nf(this,null,this.W),ml(this)};function ku(f){if(Xh(f),f.G==3){var v=f.U++,E=qt(f.I);if(vt(E,"SID",f.K),vt(E,"RID",v),vt(E,"TYPE","terminate"),uo(f,E),v=new _t(f,f.j,v),v.L=2,v.v=ro(qt(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=v.v,E=!0),E||(v.g=rf(v.j,null),v.g.ea(v.v)),v.F=Date.now(),wt(v)}tf(f)}function pl(f){f.g&&(co(f),f.g.cancel(),f.g=null)}function Xh(f){pl(f),f.u&&(h.clearTimeout(f.u),f.u=null),_l(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function ml(f){if(!Ar(f.h)&&!f.s){f.s=!0;var v=f.Ga;Me||j(),Re||(Me(),Re=!0),Ye.add(v,f),f.B=0}}function Sm(f,v){return eo(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=xe(w(f.Ga,f,v),Uu(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Y=new _t(this,this.j,f);let J=this.o;if(this.S&&(J?(J=I(J),N(J,this.S)):J=this.S),this.m!==null||this.O||(Y.H=J,J=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Wh(this,Y,v),E=qt(this.I),vt(E,"RID",f),vt(E,"CVER",22),this.D&&vt(E,"X-HTTP-Session-Id",this.D),uo(this,E),J&&(this.O?v="headers="+encodeURIComponent(String(Mu(J)))+"&"+v:this.m&&yn(E,this.m,J)),Qs(this.h,Y),this.Ua&&vt(E,"TYPE","init"),this.P?(vt(E,"$req",v),vt(E,"SID","null"),Y.T=!0,Yt(Y,E,null)):Yt(Y,E,v),this.G=2}}else this.G==3&&(f?Lu(this,f):this.i.length==0||Ar(this.h)||Lu(this))};function Lu(f,v){var E;v?E=v.l:E=f.U++;const R=qt(f.I);vt(R,"SID",f.K),vt(R,"RID",E),vt(R,"AID",f.T),uo(f,R),f.m&&f.o&&yn(R,f.m,f.o),E=new _t(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),v&&(f.i=v.D.concat(f.i)),v=Wh(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Qs(f.h,E),Yt(E,R,v)}function uo(f,v){f.H&&ie(f.H,function(E,R){vt(v,R,E)}),f.l&&to({},function(E,R){vt(v,R,E)})}function Wh(f,v,E){E=Math.min(f.i.length,E);var R=f.l?w(f.l.Na,f.l,f):null;e:{var Y=f.i;let J=-1;for(;;){const fe=["count="+E];J==-1?0<E?(J=Y[0].g,fe.push("ofs="+J)):J=0:fe.push("ofs="+J);let ct=!0;for(let un=0;un<E;un++){let ht=Y[un].g;const En=Y[un].map;if(ht-=J,0>ht)J=Math.max(0,Y[un].g-100),ct=!1;else try{Ei(En,fe,"req"+ht+"_")}catch{R&&R(En)}}if(ct){R=fe.join("&");break e}}}return f=f.i.splice(0,E),v.D=f,R}function Zh(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;Me||j(),Re||(Me(),Re=!0),Ye.add(v,f),f.v=0}}function Vu(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=xe(w(f.Fa,f),Uu(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Jh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=xe(w(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ae(10),pl(this),Jh(this))};function co(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function Jh(f){f.g=new _t(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=qt(f.qa);vt(v,"RID","rpc"),vt(v,"SID",f.K),vt(v,"AID",f.T),vt(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&vt(v,"TO",f.ja),vt(v,"TYPE","xmlhttp"),uo(f,v),f.m&&f.o&&yn(v,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=ro(qt(v)),E.m=null,E.P=!0,Jt(E,f)}t.Za=function(){this.C!=null&&(this.C=null,pl(this),Vu(this),ae(19))};function _l(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function ef(f,v){var E=null;if(f.g==v){_l(f),co(f),f.g=null;var R=2}else if(vi(f.h,v))E=v.D,Rr(f.h,v),R=1;else return;if(f.G!=0){if(v.o)if(R==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var Y=f.B;R=Ks(),Qt(R,new me(R,E)),ml(f)}else Zh(f);else if(Y=v.s,Y==3||Y==0&&0<v.X||!(R==1&&Sm(f,v)||R==2&&Vu(f)))switch(E&&0<E.length&&(v=f.h,v.i=v.i.concat(E)),Y){case 1:ls(f,5);break;case 4:ls(f,10);break;case 3:ls(f,6);break;default:ls(f,2)}}}function Uu(f,v){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*v}function ls(f,v){if(f.j.info("Error code "+v),v==2){var E=w(f.fb,f),R=f.Xa;const Y=!R;R=new rs(R||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ys(R,"https"),ro(R),Y?Kh(R.toString(),E):io(R.toString(),E)}else ae(2);f.G=0,f.l&&f.l.sa(v),tf(f),Xh(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function tf(f){if(f.G=0,f.ka=[],f.l){const v=Kn(f.h);(v.length!=0||f.i.length!=0)&&(O(f.ka,v),O(f.ka,f.i),f.h.i.length=0,P(f.i),f.i.length=0),f.l.ra()}}function nf(f,v,E){var R=E instanceof rs?qt(E):new rs(E);if(R.g!="")v&&(R.g=v+"."+R.g),no(R,R.s);else{var Y=h.location;R=Y.protocol,v=v?v+"."+Y.hostname:Y.hostname,Y=+Y.port;var J=new rs(null);R&&Ys(J,R),v&&(J.g=v),Y&&no(J,Y),E&&(J.l=E),R=J}return E=f.D,v=f.ya,E&&v&&vt(R,E,v),vt(R,"VER",f.la),uo(f,R),R}function rf(f,v,E){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new At(new Ws({eb:E})):new At(f.pa),v.Ha(f.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sf(){}t=sf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function gl(){}gl.prototype.g=function(f,v){return new Qn(f,v)};function Qn(f,v){Rt.call(this),this.g=new dl(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!H(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!H(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Si(this)}S(Qn,Rt),Qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qn.prototype.close=function(){ku(this.g)},Qn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=Gs(f),f=E);v.i.push(new ns(v.Ya++,f)),v.G==3&&ml(v)},Qn.prototype.N=function(){this.g.l=null,delete this.j,ku(this.g),delete this.g,Qn.aa.N.call(this)};function af(f){Xr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const E in v){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}S(af,Xr);function of(){Ln.call(this),this.status=1}S(of,Ln);function Si(f){this.g=f}S(Si,sf),Si.prototype.ua=function(){Qt(this.g,"a")},Si.prototype.ta=function(f){Qt(this.g,new af(f))},Si.prototype.sa=function(f){Qt(this.g,new of)},Si.prototype.ra=function(){Qt(this.g,"b")},gl.prototype.createWebChannel=gl.prototype.g,Qn.prototype.send=Qn.prototype.o,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,_A=function(){return new gl},mA=function(){return Ks()},pA=Rn,Tv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ke.NO_ERROR=0,ke.TIMEOUT=8,ke.HTTP_ERROR=6,xd=ke,gt.COMPLETE="complete",dA=gt,Ja.EventType=Tr,Tr.OPEN="a",Tr.CLOSE="b",Tr.ERROR="c",Tr.MESSAGE="d",Rt.prototype.listen=Rt.prototype.K,zc=Ja,At.prototype.listenOnce=At.prototype.L,At.prototype.getLastError=At.prototype.Ka,At.prototype.getLastErrorCode=At.prototype.Ba,At.prototype.getStatus=At.prototype.Z,At.prototype.getResponseJson=At.prototype.Oa,At.prototype.getResponseText=At.prototype.oa,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Ha,fA=At}).apply(typeof gd<"u"?gd:typeof self<"u"?self:typeof window<"u"?window:{});const $w="@firebase/firestore",Gw="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wu="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new vy("@firebase/firestore");function Xl(){return $o.logLevel}function we(t,...e){if($o.logLevel<=it.DEBUG){const n=e.map(by);$o.debug(`Firestore (${wu}): ${t}`,...n)}}function js(t,...e){if($o.logLevel<=it.ERROR){const n=e.map(by);$o.error(`Firestore (${wu}): ${t}`,...n)}}function fu(t,...e){if($o.logLevel<=it.WARN){const n=e.map(by);$o.warn(`Firestore (${wu}): ${t}`,...n)}}function by(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t="Unexpected state"){const e=`FIRESTORE (${wu}) INTERNAL ASSERTION FAILED: `+t;throw js(e),new Error(e)}function St(t,e){t||Be()}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Hn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class R8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bn.UNAUTHENTICATED))}shutdown(){}}class C8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class O8{constructor(e){this.t=e,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){St(this.o===void 0);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ji,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await a(this.currentUser)})},h=d=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ji)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St(typeof r.accessToken=="string"),new gA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string"),new Bn(e)}}class I8{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class D8{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new I8(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x8{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,_r(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){St(this.o===void 0);const r=o=>{o.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.R;return this.R=o.token,we("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const a=o=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?a(o):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Kw(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(St(typeof n.token=="string"),this.R=n.token,new Kw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=N8(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%62))}return r}}function Je(t,e){return t<e?-1:t>e?1:0}function Sv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),a=e.codePointAt(n);if(r!==a){if(r<128&&a<128)return Je(r,a);{const o=vA(),u=P8(o.encode(Qw(t,n)),o.encode(Qw(e,n)));return u!==0?u:Je(r,a)}}n+=r>65535?2:1}return Je(t.length,e.length)}function Qw(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function P8(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Je(t[n],e[n]);return Je(t.length,e.length)}function du(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=-62135596800,Xw=1e6;class on{static now(){return on.fromMillis(Date.now())}static fromDate(e){return on.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Xw);return new on(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Yw)throw new ge(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xw}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Yw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new on(0,0))}static max(){return new qe(new on(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="__name__";class Ni{constructor(e,n,r){n===void 0?n=0:n>e.length&&Be(),r===void 0?r=e.length-n:r>e.length-n&&Be(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=Ni.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return Je(e.length,n.length)}static compareSegments(e,n){const r=Ni.isNumericId(e),a=Ni.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Ni.extractNumericId(e).compare(Ni.extractNumericId(n)):Sv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Na.fromString(e.substring(4,e.length-2))}}class Mt extends Ni{construct(e,n,r){return new Mt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new Mt(n)}static emptyPath(){return new Mt([])}}const M8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends Ni{construct(e,n,r){return new Nn(e,n,r)}static isValidIdentifier(e){return M8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ww}static keyField(){return new Nn([Ww])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new ge(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new ge(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ge(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(o(),a++)}if(o(),u)throw new ge(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(n)}static emptyPath(){return new Nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Mt.fromString(e))}static fromName(e){return new Pe(Mt.fromString(e).popFirst(5))}static empty(){return new Pe(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Mt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=-1;function k8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=qe.fromTimestamp(r===1e9?new on(n+1,0):new on(n,r));return new La(a,Pe.empty(),e)}function L8(t){return new La(t.readTime,t.key,ah)}class La{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new La(qe.min(),Pe.empty(),ah)}static max(){return new La(qe.max(),Pe.empty(),ah)}}function V8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tu(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==U8)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,r)=>{n(e)})}static reject(e){return new le((n,r)=>{r(e)})}static waitFor(e){return new le((n,r)=>{let a=0,o=0,u=!1;e.forEach(h=>{++a,h.next(()=>{++o,u&&o===a&&n()},d=>r(d))}),u=!0,o===a&&n()})}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next(a=>a?le.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,o)=>{r.push(n.call(this,a,o))}),this.waitFor(r)}static mapArray(e,n){return new le((r,a)=>{const o=e.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const m=d;n(e[m]).next(g=>{u[m]=g,++h,h===o&&r(u)},g=>a(g))}})}static doWhile(e,n){return new le((r,a)=>{const o=()=>{e()===!0?n().next(()=>{o()},a):r()};o()})}}function B8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Su(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Fp.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=-1;function qp(t){return t==null}function sp(t){return t===0&&1/t==-1/0}function z8(t){return typeof t=="number"&&Number.isInteger(t)&&!sp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="";function F8(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Zw(e)),e=q8(t.get(n),e);return Zw(e)}function q8(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case EA:n+="";break;default:n+=o}}return n}function Zw(t){return t+EA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function H8(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function bA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){this.comparator=e,this.root=n||xn.EMPTY}insert(e,n){return new zt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vd(this.root,e,this.comparator,!1)}getReverseIterator(){return new vd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vd(this.root,e,this.comparator,!0)}}class vd{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xn{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??xn.RED,this.left=a??xn.EMPTY,this.right=o??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new xn(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return xn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Be();const e=this.left.check();if(e!==this.right.check())throw Be();return e+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be()}get value(){throw Be()}get color(){throw Be()}get left(){throw Be()}get right(){throw Be()}copy(e,n,r,a,o){return this}insert(e,n,r){return new xn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new eT(this.data.getIterator())}getIteratorFrom(e){return new eT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dn(this.comparator);return n.data=e,n}}class eT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new gr([])}unionWith(e){let n=new dn(Nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return du(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new wA("Invalid base64 string: "+o):o}}(e);return new Pn(n)}static fromUint8Array(e){const n=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(e);return new Pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const $8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Va(t){if(St(!!t),typeof t=="string"){let e=0;const n=$8.exec(t);if(St(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Wt(t.seconds),nanos:Wt(t.nanos)}}function Wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ua(t){return typeof t=="string"?Pn.fromBase64String(t):Pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="server_timestamp",SA="__type__",AA="__previous_value__",RA="__local_write_time__";function Hp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[SA])===null||n===void 0?void 0:n.stringValue)===TA}function $p(t){const e=t.mapValue.fields[AA];return Hp(e)?$p(e):e}function oh(t){const e=Va(t.mapValue.fields[RA].timestampValue);return new on(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(e,n,r,a,o,u,h,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m}}const ap="(default)";class lh{constructor(e,n){this.projectId=e,this.database=n||ap}static empty(){return new lh("","")}get isDefaultDatabase(){return this.database===ap}isEqual(e){return e instanceof lh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="__type__",K8="__max__",yd={mapValue:{}},OA="__vector__",op="value";function ja(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hp(t)?4:Y8(t)?9007199254740991:Q8(t)?10:11:Be()}function Gi(t,e){if(t===e)return!0;const n=ja(t);if(n!==ja(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return oh(t).isEqual(oh(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Va(a.timestampValue),h=Va(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,o){return Ua(a.bytesValue).isEqual(Ua(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,o){return Wt(a.geoPointValue.latitude)===Wt(o.geoPointValue.latitude)&&Wt(a.geoPointValue.longitude)===Wt(o.geoPointValue.longitude)}(t,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return Wt(a.integerValue)===Wt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=Wt(a.doubleValue),h=Wt(o.doubleValue);return u===h?sp(u)===sp(h):isNaN(u)&&isNaN(h)}return!1}(t,e);case 9:return du(t.arrayValue.values||[],e.arrayValue.values||[],Gi);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(Jw(u)!==Jw(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!Gi(u[d],h[d])))return!1;return!0}(t,e);default:return Be()}}function uh(t,e){return(t.values||[]).find(n=>Gi(n,e))!==void 0}function pu(t,e){if(t===e)return 0;const n=ja(t),r=ja(e);if(n!==r)return Je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return function(o,u){const h=Wt(o.integerValue||o.doubleValue),d=Wt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(t,e);case 3:return tT(t.timestampValue,e.timestampValue);case 4:return tT(oh(t),oh(e));case 5:return Sv(t.stringValue,e.stringValue);case 6:return function(o,u){const h=Ua(o),d=Ua(u);return h.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),d=u.split("/");for(let m=0;m<h.length&&m<d.length;m++){const g=Je(h[m],d[m]);if(g!==0)return g}return Je(h.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,u){const h=Je(Wt(o.latitude),Wt(u.latitude));return h!==0?h:Je(Wt(o.longitude),Wt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return nT(t.arrayValue,e.arrayValue);case 10:return function(o,u){var h,d,m,g;const y=o.fields||{},w=u.fields||{},T=(h=y[op])===null||h===void 0?void 0:h.arrayValue,S=(d=w[op])===null||d===void 0?void 0:d.arrayValue,P=Je(((m=T==null?void 0:T.values)===null||m===void 0?void 0:m.length)||0,((g=S==null?void 0:S.values)===null||g===void 0?void 0:g.length)||0);return P!==0?P:nT(T,S)}(t.mapValue,e.mapValue);case 11:return function(o,u){if(o===yd.mapValue&&u===yd.mapValue)return 0;if(o===yd.mapValue)return 1;if(u===yd.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),m=u.fields||{},g=Object.keys(m);d.sort(),g.sort();for(let y=0;y<d.length&&y<g.length;++y){const w=Sv(d[y],g[y]);if(w!==0)return w;const T=pu(h[d[y]],m[g[y]]);if(T!==0)return T}return Je(d.length,g.length)}(t.mapValue,e.mapValue);default:throw Be()}}function tT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=Va(t),r=Va(e),a=Je(n.seconds,r.seconds);return a!==0?a:Je(n.nanos,r.nanos)}function nT(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=pu(n[a],r[a]);if(o)return o}return Je(n.length,r.length)}function mu(t){return Av(t)}function Av(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Va(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ua(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=Av(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${Av(n.fields[u])}`;return a+"}"}(t.mapValue):Be()}function Nd(t){switch(ja(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$p(t);return e?16+Nd(e):16;case 5:return 2*t.stringValue.length;case 6:return Ua(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,o)=>a+Nd(o),0)}(t.arrayValue);case 10:case 11:return function(r){let a=0;return Qa(r.fields,(o,u)=>{a+=o.length+Nd(u)}),a}(t.mapValue);default:throw Be()}}function lp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Rv(t){return!!t&&"integerValue"in t}function Ty(t){return!!t&&"arrayValue"in t}function rT(t){return!!t&&"nullValue"in t}function iT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pd(t){return!!t&&"mapValue"in t}function Q8(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[CA])===null||n===void 0?void 0:n.stringValue)===OA}function Yc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Yc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Y8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===K8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.value=e}static empty(){return new rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yc(n)}setAll(e){let n=Nn.emptyPath(),r={},a=[];e.forEach((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=h.popLast()}u?r[h.lastSegment()]=Yc(u):a.push(h.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());Pd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Pd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Qa(n,(a,o)=>e[a]=o);for(const a of r)delete e[a]}clone(){return new rr(Yc(this.value))}}function IA(t){const e=[];return Qa(t.fields,(n,r)=>{const a=new Nn([n]);if(Pd(r)){const o=IA(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)}),new gr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,n,r,a,o,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new zn(e,0,qe.min(),qe.min(),qe.min(),rr.empty(),0)}static newFoundDocument(e,n,r,a){return new zn(e,1,n,qe.min(),r,a,0)}static newNoDocument(e,n){return new zn(e,2,n,qe.min(),qe.min(),rr.empty(),0)}static newUnknownDocument(e,n){return new zn(e,3,n,qe.min(),qe.min(),rr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this.position=e,this.inclusive=n}}function sT(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],u=t.position[a];if(o.field.isKeyField()?r=Pe.comparator(Pe.fromName(u.referenceValue),n.key):r=pu(u,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function aT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n="asc"){this.field=e,this.dir=n}}function X8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{}class an extends DA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Z8(e,n,r):n==="array-contains"?new tP(e,r):n==="in"?new nP(e,r):n==="not-in"?new rP(e,r):n==="array-contains-any"?new iP(e,r):new an(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new J8(e,r):new eP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(pu(n,this.value)):n!==null&&ja(this.value)===ja(n)&&this.matchesComparison(pu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends DA{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new ui(e,n)}matches(e){return xA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function xA(t){return t.op==="and"}function NA(t){return W8(t)&&xA(t)}function W8(t){for(const e of t.filters)if(e instanceof ui)return!1;return!0}function Cv(t){if(t instanceof an)return t.field.canonicalString()+t.op.toString()+mu(t.value);if(NA(t))return t.filters.map(e=>Cv(e)).join(",");{const e=t.filters.map(n=>Cv(n)).join(",");return`${t.op}(${e})`}}function PA(t,e){return t instanceof an?function(r,a){return a instanceof an&&r.op===a.op&&r.field.isEqual(a.field)&&Gi(r.value,a.value)}(t,e):t instanceof ui?function(r,a){return a instanceof ui&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((o,u,h)=>o&&PA(u,a.filters[h]),!0):!1}(t,e):void Be()}function MA(t){return t instanceof an?function(n){return`${n.field.canonicalString()} ${n.op} ${mu(n.value)}`}(t):t instanceof ui?function(n){return n.op.toString()+" {"+n.getFilters().map(MA).join(" ,")+"}"}(t):"Filter"}class Z8 extends an{constructor(e,n,r){super(e,n,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class J8 extends an{constructor(e,n){super(e,"in",n),this.keys=kA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class eP extends an{constructor(e,n){super(e,"not-in",n),this.keys=kA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Pe.fromName(r.referenceValue))}class tP extends an{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ty(n)&&uh(n.arrayValue,this.value)}}class nP extends an{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uh(this.value.arrayValue,n)}}class rP extends an{constructor(e,n){super(e,"not-in",n)}matches(e){if(uh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!uh(this.value.arrayValue,n)}}class iP extends an{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ty(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>uh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,n=null,r=[],a=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.le=null}}function oT(t,e=null,n=[],r=[],a=null,o=null,u=null){return new sP(t,e,n,r,a,o,u)}function Sy(t){const e=Fe(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),qp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>mu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>mu(r)).join(",")),e.le=n}return e.le}function Ay(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!X8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!aT(t.startAt,e.startAt)&&aT(t.endAt,e.endAt)}function Ov(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n=null,r=[],a=[],o=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function aP(t,e,n,r,a,o,u,h){return new el(t,e,n,r,a,o,u,h)}function Gp(t){return new el(t)}function lT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ry(t){return t.collectionGroup!==null}function ru(t){const e=Fe(t);if(e.he===null){e.he=[];const n=new Set;for(const o of e.explicitOrderBy)e.he.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new dn(Nn.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.he.push(new ch(o,r))}),n.has(Nn.keyField().canonicalString())||e.he.push(new ch(Nn.keyField(),r))}return e.he}function Bi(t){const e=Fe(t);return e.Pe||(e.Pe=LA(e,ru(t))),e.Pe}function oP(t){const e=Fe(t);return e.Te||(e.Te=LA(e,t.explicitOrderBy)),e.Te}function LA(t,e){if(t.limitType==="F")return oT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new ch(a.field,o)});const n=t.endAt?new _u(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _u(t.startAt.position,t.startAt.inclusive):null;return oT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Iv(t,e){const n=t.filters.concat([e]);return new el(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function up(t,e,n){return new el(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kp(t,e){return Ay(Bi(t),Bi(e))&&t.limitType===e.limitType}function VA(t){return`${Sy(Bi(t))}|lt:${t.limitType}`}function Wl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>MA(a)).join(", ")}]`),qp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>mu(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>mu(a)).join(",")),`Target(${r})`}(Bi(t))}; limitType=${t.limitType})`}function Qp(t,e){return e.isFoundDocument()&&function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,a){for(const o of ru(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0}(t,e)&&function(r,a){return!(r.startAt&&!function(u,h,d){const m=sT(u,h,d);return u.inclusive?m<=0:m<0}(r.startAt,ru(r),a)||r.endAt&&!function(u,h,d){const m=sT(u,h,d);return u.inclusive?m>=0:m>0}(r.endAt,ru(r),a))}(t,e)}function lP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function UA(t){return(e,n)=>{let r=!1;for(const a of ru(t)){const o=uP(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function uP(t,e,n){const r=t.field.isKeyField()?Pe.comparator(e.key,n.key):function(o,u,h){const d=u.data.field(o),m=h.data.field(o);return d!==null&&m!==null?pu(d,m):Be()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Qa(this.inner,(n,r)=>{for(const[a,o]of r)e(a,o)})}isEmpty(){return bA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=new zt(Pe.comparator);function Bs(){return cP}const jA=new zt(Pe.comparator);function Fc(...t){let e=jA;for(const n of t)e=e.insert(n.key,n);return e}function BA(t){let e=jA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ko(){return Xc()}function zA(){return Xc()}function Xc(){return new tl(t=>t.toString(),(t,e)=>t.isEqual(e))}const hP=new zt(Pe.comparator),fP=new dn(Pe.comparator);function st(...t){let e=fP;for(const n of t)e=e.add(n);return e}const dP=new dn(Je);function pP(){return dP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sp(e)?"-0":e}}function FA(t){return{integerValue:""+t}}function mP(t,e){return z8(e)?FA(e):Cy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(){this._=void 0}}function _P(t,e,n){return t instanceof cp?function(a,o){const u={fields:{[SA]:{stringValue:TA},[RA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Hp(o)&&(o=$p(o)),o&&(u.fields[AA]=o),{mapValue:u}}(n,e):t instanceof hh?HA(t,e):t instanceof fh?$A(t,e):function(a,o){const u=qA(a,o),h=uT(u)+uT(a.Ie);return Rv(u)&&Rv(a.Ie)?FA(h):Cy(a.serializer,h)}(t,e)}function gP(t,e,n){return t instanceof hh?HA(t,e):t instanceof fh?$A(t,e):n}function qA(t,e){return t instanceof hp?function(r){return Rv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class cp extends Yp{}class hh extends Yp{constructor(e){super(),this.elements=e}}function HA(t,e){const n=GA(e);for(const r of t.elements)n.some(a=>Gi(a,r))||n.push(r);return{arrayValue:{values:n}}}class fh extends Yp{constructor(e){super(),this.elements=e}}function $A(t,e){let n=GA(e);for(const r of t.elements)n=n.filter(a=>!Gi(a,r));return{arrayValue:{values:n}}}class hp extends Yp{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function uT(t){return Wt(t.integerValue||t.doubleValue)}function GA(t){return Ty(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function vP(t,e){return t.field.isEqual(e.field)&&function(r,a){return r instanceof hh&&a instanceof hh||r instanceof fh&&a instanceof fh?du(r.elements,a.elements,Gi):r instanceof hp&&a instanceof hp?Gi(r.Ie,a.Ie):r instanceof cp&&a instanceof cp}(t.transform,e.transform)}class yP{constructor(e,n){this.version=e,this.transformResults=n}}class zi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zi}static exists(e){return new zi(void 0,e)}static updateTime(e){return new zi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Md(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xp{}function KA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new YA(t.key,zi.none()):new Ph(t.key,t.data,zi.none());{const n=t.data,r=rr.empty();let a=new dn(Nn.comparator);for(let o of e.fields)if(!a.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new Ya(t.key,r,new gr(a.toArray()),zi.none())}}function EP(t,e,n){t instanceof Ph?function(a,o,u){const h=a.value.clone(),d=hT(a.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,n):t instanceof Ya?function(a,o,u){if(!Md(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=hT(a.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(QA(a)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(t,e,n):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Wc(t,e,n,r){return t instanceof Ph?function(o,u,h,d){if(!Md(o.precondition,u))return h;const m=o.value.clone(),g=fT(o.fieldTransforms,d,u);return m.setAll(g),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ya?function(o,u,h,d){if(!Md(o.precondition,u))return h;const m=fT(o.fieldTransforms,d,u),g=u.data;return g.setAll(QA(o)),g.setAll(m),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(o,u,h){return Md(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(t,e,n)}function bP(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=qA(r.transform,a||null);o!=null&&(n===null&&(n=rr.empty()),n.set(r.field,o))}return n||null}function cT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&du(r,a,(o,u)=>vP(o,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ph extends Xp{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ya extends Xp{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function QA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function hT(t,e,n){const r=new Map;St(t.length===n.length);for(let a=0;a<n.length;a++){const o=t[a],u=o.transform,h=e.data.field(o.field);r.set(o.field,gP(u,h,n[a]))}return r}function fT(t,e,n){const r=new Map;for(const a of t){const o=a.transform,u=n.data.field(a.field);r.set(a.field,_P(o,u,e))}return r}class YA extends Xp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wP extends Xp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&EP(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=zA();return this.mutations.forEach(a=>{const o=e.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=n.has(a.key)?null:h;const d=KA(u,h);d!==null&&r.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(qe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),st())}isEqual(e){return this.batchId===e.batchId&&du(this.mutations,e.mutations,(n,r)=>cT(n,r))&&du(this.baseMutations,e.baseMutations,(n,r)=>cT(n,r))}}class Oy{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){St(e.mutations.length===r.length);let a=function(){return hP}();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new Oy(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn,dt;function CP(t){switch(t){case se.OK:return Be();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Be()}}function XA(t){if(t===void 0)return js("GRPC error has no .code"),se.UNKNOWN;switch(t){case rn.OK:return se.OK;case rn.CANCELLED:return se.CANCELLED;case rn.UNKNOWN:return se.UNKNOWN;case rn.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case rn.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case rn.INTERNAL:return se.INTERNAL;case rn.UNAVAILABLE:return se.UNAVAILABLE;case rn.UNAUTHENTICATED:return se.UNAUTHENTICATED;case rn.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case rn.NOT_FOUND:return se.NOT_FOUND;case rn.ALREADY_EXISTS:return se.ALREADY_EXISTS;case rn.PERMISSION_DENIED:return se.PERMISSION_DENIED;case rn.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case rn.ABORTED:return se.ABORTED;case rn.OUT_OF_RANGE:return se.OUT_OF_RANGE;case rn.UNIMPLEMENTED:return se.UNIMPLEMENTED;case rn.DATA_LOSS:return se.DATA_LOSS;default:return Be()}}(dt=rn||(rn={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=new Na([4294967295,4294967295],0);function dT(t){const e=vA().encode(t),n=new hA;return n.update(e),new Uint8Array(n.digest())}function pT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Na([n,r],0),new Na([a,o],0)]}class Iy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qc(`Invalid padding: ${n}`);if(r<0)throw new qc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qc(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Na.fromNumber(this.Ee)}Ae(e,n,r){let a=e.add(n.multiply(Na.fromNumber(r)));return a.compare(OP)===1&&(a=new Na([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=dT(e),[r,a]=pT(n);for(let o=0;o<this.hashCount;o++){const u=this.Ae(r,a,o);if(!this.Re(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Iy(o,a,n);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.Ee===0)return;const n=dT(e),[r,a]=pT(n);for(let o=0;o<this.hashCount;o++){const u=this.Ae(r,a,o);this.Ve(u)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class qc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Mh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wp(qe.min(),a,new zt(Je),Bs(),st())}}class Mh{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Mh(r,n,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n,r,a){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=a}}class WA{constructor(e,n){this.targetId=e,this.ge=n}}class ZA{constructor(e,n,r=Pn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class mT{constructor(){this.pe=0,this.ye=_T(),this.we=Pn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=st(),n=st(),r=st();return this.ye.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Be()}}),new Mh(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=_T()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,St(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class IP{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Bs(),this.$e=Ed(),this.Ue=Ed(),this.Ke=new zt(Je)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:Be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,a)=>{this.Je(a)&&n(a)})}Ze(e){const n=e.targetId,r=e.ge.count,a=this.Xe(n);if(a){const o=a.target;if(Ov(o))if(r===0){const u=new Pe(o.path);this.ze(n,u,zn.newNoDocument(u,qe.min()))}else St(r===1);else{const u=this.et(n);if(u!==r){const h=this.tt(e),d=h?this.nt(h,e,u):1;if(d!==0){this.Ye(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,m)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let u,h;try{u=Ua(r).toUint8Array()}catch(d){if(d instanceof wA)return fu("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Iy(u,a,o)}catch(d){return fu(d instanceof qc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ee===0?null:h}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let a=0;return r.forEach(o=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.ze(n,o,null),a++)}),a}ot(e){const n=new Map;this.qe.forEach((o,u)=>{const h=this.Xe(u);if(h){if(o.current&&Ov(h.target)){const d=new Pe(h.target.path);this._t(d).has(u)||this.ut(u,d)||this.ze(u,d,zn.newNoDocument(d,e))}o.ve&&(n.set(u,o.Fe()),o.Me())}});let r=st();this.Ue.forEach((o,u)=>{let h=!0;u.forEachWhile(d=>{const m=this.Xe(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.Qe.forEach((o,u)=>u.setReadTime(e));const a=new Wp(e,n,this.Ke,this.Qe,r);return this.Qe=Bs(),this.$e=Ed(),this.Ue=Ed(),this.Ke=new zt(Je),a}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const a=this.He(e);this.ut(e,n)?a.xe(n,1):a.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new mT,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new dn(Je),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new dn(Je),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new mT),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Ed(){return new zt(Pe.comparator)}function _T(){return new zt(Pe.comparator)}const DP={asc:"ASCENDING",desc:"DESCENDING"},xP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NP={and:"AND",or:"OR"};class PP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dv(t,e){return t.useProto3Json||qp(e)?e:{value:e}}function fp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function MP(t,e){return fp(t,e.toTimestamp())}function Fi(t){return St(!!t),qe.fromTimestamp(function(n){const r=Va(n);return new on(r.seconds,r.nanos)}(t))}function Dy(t,e){return xv(t,e).canonicalString()}function xv(t,e){const n=function(a){return new Mt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function eR(t){const e=Mt.fromString(t);return St(aR(e)),e}function Nv(t,e){return Dy(t.databaseId,e.path)}function $g(t,e){const n=eR(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe(nR(n))}function tR(t,e){return Dy(t.databaseId,e)}function kP(t){const e=eR(t);return e.length===4?Mt.emptyPath():nR(e)}function Pv(t){return new Mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nR(t){return St(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function gT(t,e,n){return{name:Nv(t,e),fields:n.value.mapValue.fields}}function LP(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Be()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(m,g){return m.useProto3Json?(St(g===void 0||typeof g=="string"),Pn.fromBase64String(g||"")):(St(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Pn.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(m){const g=m.code===void 0?se.UNKNOWN:XA(m.code);return new ge(g,m.message||"")}(u);n=new ZA(r,a,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=$g(t,r.document.name),o=Fi(r.document.updateTime),u=r.document.createTime?Fi(r.document.createTime):qe.min(),h=new rr({mapValue:{fields:r.document.fields}}),d=zn.newFoundDocument(a,o,u,h),m=r.targetIds||[],g=r.removedTargetIds||[];n=new kd(m,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=$g(t,r.document),o=r.readTime?Fi(r.readTime):qe.min(),u=zn.newNoDocument(a,o),h=r.removedTargetIds||[];n=new kd([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=$g(t,r.document),o=r.removedTargetIds||[];n=new kd([],o,a,null)}else{if(!("filter"in e))return Be();{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new RP(a,o),h=r.targetId;n=new WA(h,u)}}return n}function VP(t,e){let n;if(e instanceof Ph)n={update:gT(t,e.key,e.value)};else if(e instanceof YA)n={delete:Nv(t,e.key)};else if(e instanceof Ya)n={update:gT(t,e.key,e.data),updateMask:GP(e.fieldMask)};else{if(!(e instanceof wP))return Be();n={verify:Nv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof cp)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof hh)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof fh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof hp)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw Be()}(0,r))),e.precondition.isNone||(n.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:MP(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Be()}(t,e.precondition)),n}function UP(t,e){return t&&t.length>0?(St(e!==void 0),t.map(n=>function(a,o){let u=a.updateTime?Fi(a.updateTime):Fi(o);return u.isEqual(qe.min())&&(u=Fi(o)),new yP(u,a.transformResults||[])}(n,e))):[]}function jP(t,e){return{documents:[tR(t,e.path)]}}function rR(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tR(t,a);const o=function(m){if(m.length!==0)return sR(ui.create(m,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const u=function(m){if(m.length!==0)return m.map(g=>function(w){return{field:wa(w.field),direction:qP(w.dir)}}(g))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Dv(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:n,parent:a}}function BP(t,e,n,r){const{ht:a,parent:o}=rR(t,e),u={},h=[];let d=0;return n.forEach(m=>{const g="aggregate_"+d++;u[g]=m.alias,m.aggregateType==="count"?h.push({alias:g,count:{}}):m.aggregateType==="avg"?h.push({alias:g,avg:{field:wa(m.fieldPath)}}):m.aggregateType==="sum"&&h.push({alias:g,sum:{field:wa(m.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:h,structuredQuery:a.structuredQuery},parent:a.parent},Pt:u,parent:o}}function zP(t){let e=kP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){St(r===1);const g=n.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=function(y){const w=iR(y);return w instanceof ui&&NA(w)?w.getFilters():[w]}(n.where));let u=[];n.orderBy&&(u=function(y){return y.map(w=>function(S){return new ch(Zl(S.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(w))}(n.orderBy));let h=null;n.limit&&(h=function(y){let w;return w=typeof y=="object"?y.value:y,qp(w)?null:w}(n.limit));let d=null;n.startAt&&(d=function(y){const w=!!y.before,T=y.values||[];return new _u(T,w)}(n.startAt));let m=null;return n.endAt&&(m=function(y){const w=!y.before,T=y.values||[];return new _u(T,w)}(n.endAt)),aP(e,a,u,o,h,"F",d,m)}function FP(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function iR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Zl(n.unaryFilter.field);return an.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Zl(n.unaryFilter.field);return an.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Zl(n.unaryFilter.field);return an.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Zl(n.unaryFilter.field);return an.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Be()}}(t):t.fieldFilter!==void 0?function(n){return an.create(Zl(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Be()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ui.create(n.compositeFilter.filters.map(r=>iR(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Be()}}(n.compositeFilter.op))}(t):Be()}function qP(t){return DP[t]}function HP(t){return xP[t]}function $P(t){return NP[t]}function wa(t){return{fieldPath:t.canonicalString()}}function Zl(t){return Nn.fromServerFormat(t.fieldPath)}function sR(t){return t instanceof an?function(n){if(n.op==="=="){if(iT(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NAN"}};if(rT(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iT(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NOT_NAN"}};if(rT(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wa(n.field),op:HP(n.op),value:n.value}}}(t):t instanceof ui?function(n){const r=n.getFilters().map(a=>sR(a));return r.length===1?r[0]:{compositeFilter:{op:$P(n.op),filters:r}}}(t):Be()}function GP(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n,r,a,o=qe.min(),u=qe.min(),h=Pn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Oa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e){this.Tt=e}}function QP(t){const e=zP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?up(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(){this.Tn=new XP}addToCollectionParentIndex(e,n){return this.Tn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(La.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(La.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class XP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new dn(Mt.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new dn(Mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oR=41943040;class nr{static withCacheSize(e){return new nr(e,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr.DEFAULT_COLLECTION_PERCENTILE=10,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nr.DEFAULT=new nr(oR,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nr.DISABLED=new nr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new gu(0)}static Kn(){return new gu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="LruGarbageCollector",WP=1048576;function ET([t,e],[n,r]){const a=Je(t,n);return a===0?Je(e,r):a}class ZP{constructor(e){this.Hn=e,this.buffer=new dn(ET),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ET(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class JP{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){we(yT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Su(n)?we(yT,"Ignoring IndexedDB error during garbage collection: ",n):await Tu(n)}await this.er(3e5)})}}class e7{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Fp.ae);const r=new ZP(n);return this.tr.forEachTarget(e,a=>r.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>r.Zn(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(vT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vT):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,a,o,u,h,d,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),a=this.params.maximumSequenceNumbersToCollect):a=y,u=Date.now(),this.nthSequenceNumber(e,a))).next(y=>(r=y,h=Date.now(),this.removeTargets(e,r,n))).next(y=>(o=y,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(m=Date.now(),Xl()<=it.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${y} documents in `+(m-d)+`ms
Total Duration: ${m-g}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:y})))}}function t7(t,e){return new e7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(){this.changes=new tl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(r!==null&&Wc(r.mutation,a,gr.empty(),on.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,st()).next(()=>r))}getLocalViewOfDocuments(e,n,r=st()){const a=ko();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(o=>{let u=Fc();return o.forEach((h,d)=>{u=u.insert(h,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=ko();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,st()))}populateOverlays(e,n,r){const a=[];return r.forEach(o=>{n.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((u,h)=>{n.set(u,h)})})}computeViews(e,n,r,a){let o=Bs();const u=Xc(),h=function(){return Xc()}();return n.forEach((d,m)=>{const g=r.get(m.key);a.has(m.key)&&(g===void 0||g.mutation instanceof Ya)?o=o.insert(m.key,m):g!==void 0?(u.set(m.key,g.mutation.getFieldMask()),Wc(g.mutation,m,g.mutation.getFieldMask(),on.now())):u.set(m.key,gr.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((m,g)=>u.set(m,g)),n.forEach((m,g)=>{var y;return h.set(m,new r7(g,(y=u.get(m))!==null&&y!==void 0?y:null))}),h))}recalculateAndSaveOverlays(e,n){const r=Xc();let a=new zt((u,h)=>u-h),o=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const h of u)h.keys().forEach(d=>{const m=n.get(d);if(m===null)return;let g=r.get(d)||gr.empty();g=h.applyToLocalView(m,g),r.set(d,g);const y=(a.get(h.batchId)||st()).add(d);a=a.insert(h.batchId,y)})}).next(()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,g=d.value,y=zA();g.forEach(w=>{if(!o.has(w)){const T=KA(n.get(w),r.get(w));T!==null&&y.set(w,T),o=o.add(w)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,y))}return le.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,a){return function(u){return Pe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ry(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):le.resolve(ko());let h=ah,d=o;return u.next(m=>le.forEach(m,(g,y)=>(h<y.largestBatchId&&(h=y.largestBatchId),o.get(g)?le.resolve():this.remoteDocumentCache.getEntry(e,g).next(w=>{d=d.insert(g,w)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,d,m,st())).next(g=>({batchId:h,changes:BA(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next(r=>{let a=Fc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let u=Fc();return this.indexManager.getCollectionParents(e,o).next(h=>le.forEach(h,d=>{const m=function(y,w){return new el(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,r,a).next(g=>{g.forEach((y,w)=>{u=u.insert(y,w)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a))).next(u=>{o.forEach((d,m)=>{const g=m.getKey();u.get(g)===null&&(u=u.insert(g,zn.newInvalidDocument(g)))});let h=Fc();return u.forEach((d,m)=>{const g=o.get(d);g!==void 0&&Wc(g.mutation,m,gr.empty(),on.now()),Qp(n,m)&&(h=h.insert(d,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return le.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Fi(a.createTime)}}(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:QP(a.bundledQuery),readTime:Fi(a.readTime)}}(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(){this.overlays=new zt(Pe.comparator),this.Rr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ko();return le.forEach(n,a=>this.getOverlay(e,a).next(o=>{o!==null&&r.set(a,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,o)=>{this.Et(e,n,o)}),le.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.Rr.get(r);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const a=ko(),o=n.length+1,u=new Pe(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>r&&a.set(d.getKey(),d)}return le.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new zt((m,g)=>m-g);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let g=o.get(m.largestBatchId);g===null&&(g=ko(),o=o.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const h=ko(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,g)=>h.set(m,g)),!(h.size()>=a)););return le.resolve(h)}Et(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Rr.get(a.largestBatchId).delete(r.key);this.Rr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new SP(n,r));let o=this.Rr.get(n);o===void 0&&(o=st(),this.Rr.set(n,o)),this.Rr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(){this.sessionToken=Pn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(){this.Vr=new dn(Sn.mr),this.gr=new dn(Sn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Sn(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Sn(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new Pe(new Mt([])),r=new Sn(n,e),a=new Sn(n,e+1),o=[];return this.gr.forEachInRange([r,a],u=>{this.wr(u),o.push(u.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Pe(new Mt([])),r=new Sn(n,e),a=new Sn(n,e+1);let o=st();return this.gr.forEachInRange([r,a],u=>{o=o.add(u.key)}),o}containsKey(e){const n=new Sn(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Sn{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Pe.comparator(e.key,n.key)||Je(e.Cr,n.Cr)}static pr(e,n){return Je(e.Cr,n.Cr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new dn(Sn.mr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new TP(o,n,r,a);this.mutationQueue.push(u);for(const h of a)this.Mr=this.Mr.add(new Sn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return le.resolve(u)}lookupMutationBatch(e,n){return le.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.Nr(r),o=a<0?0:a;return le.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?wy:this.Fr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Sn(n,0),a=new Sn(n,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,a],u=>{const h=this.Or(u.Cr);o.push(h)}),le.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dn(Je);return n.forEach(a=>{const o=new Sn(a,0),u=new Sn(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,u],h=>{r=r.add(h.Cr)})}),le.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;Pe.isDocumentKey(o)||(o=o.child(""));const u=new Sn(new Pe(o),0);let h=new dn(Je);return this.Mr.forEachWhile(d=>{const m=d.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Cr)),!0)},u),le.resolve(this.Br(h))}Br(e){const n=[];return e.forEach(r=>{const a=this.Or(r);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){St(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return le.forEach(n.mutations,a=>{const o=new Sn(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Sn(n,0),a=this.Mr.firstAfterOrEqual(r);return le.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e){this.kr=e,this.docs=function(){return new zt(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,u=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():zn.newInvalidDocument(n))}getEntries(e,n){let r=Bs();return n.forEach(a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():zn.newInvalidDocument(a))}),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=Bs();const u=n.path,h=new Pe(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:g}}=d.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||V8(L8(g),r)<=0||(a.has(g.key)||Qp(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return le.resolve(o)}getAllFromCollectionGroup(e,n,r,a){Be()}qr(e,n){return le.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new c7(this)}getSize(e){return le.resolve(this.size)}}class c7 extends n7{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(r)}),le.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e){this.persistence=e,this.Qr=new tl(n=>Sy(n),Ay),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.$r=0,this.Ur=new xy,this.targetCount=0,this.Kr=gu.Un()}forEachTarget(e,n){return this.Qr.forEach((r,a)=>n(a)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),le.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new gu(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.zn(n),le.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.Qr.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),le.waitFor(o).next(()=>a)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach(u=>{o.push(a.markPotentiallyOrphaned(e,u))}),le.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Fp(0),this.zr=!1,this.zr=!0,this.jr=new o7,this.referenceDelegate=e(this),this.Hr=new h7(this),this.indexManager=new YP,this.remoteDocumentCache=function(a){return new u7(a)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new KP(n),this.Yr=new s7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new a7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new l7(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const a=new f7(this.Gr.next());return this.referenceDelegate.Zr(),r(a).next(o=>this.referenceDelegate.Xr(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}ei(e,n){return le.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class f7 extends j8{constructor(e){super(),this.currentSequenceNumber=e}}class Ny{constructor(e){this.persistence=e,this.ti=new xy,this.ni=null}static ri(e){return new Ny(e)}get ii(){if(this.ni)return this.ni;throw Be()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),le.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(a=>this.ii.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.ii,r=>{const a=Pe.fromPath(r);return this.si(e,a).next(o=>{o||n.removeEntry(a,qe.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return le.or([()=>le.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class dp{constructor(e,n){this.persistence=e,this.oi=new tl(r=>F8(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=t7(this,n)}static ri(e,n){return new dp(e,n)}Zr(){}Xr(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return le.forEach(this.oi,(r,a)=>this.ar(e,r,a).next(o=>o?le.resolve():n(a)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.qr(e,u=>this.ar(e,u,n).next(h=>{h||(r++,o.removeEntry(u,qe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),le.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nd(e.data.value)),n}ar(e,n,r){return le.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.oi.get(n);return le.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=a}static Yi(e,n){let r=st(),a=st();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Py(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return aN()?8:B8(qn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.rs(e,n).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.ss(e,n,a,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new d7;return this._s(e,n,u).next(h=>{if(o.result=h,this.Xi)return this.us(e,n,u,h.size)})}).next(()=>o.result)}us(e,n,r,a){return r.documentReadCount<this.es?(Xl()<=it.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Wl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),le.resolve()):(Xl()<=it.DEBUG&&we("QueryEngine","Query:",Wl(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ts*a?(Xl()<=it.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Wl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bi(n))):le.resolve())}rs(e,n){if(lT(n))return le.resolve(null);let r=Bi(n);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=up(n,null,"F"),r=Bi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=st(...o);return this.ns.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const m=this.cs(n,h);return this.ls(n,m,u,d.readTime)?this.rs(e,up(n,null,"F")):this.hs(e,m,n,d)}))})))}ss(e,n,r,a){return lT(n)||a.isEqual(qe.min())?le.resolve(null):this.ns.getDocuments(e,r).next(o=>{const u=this.cs(n,o);return this.ls(n,u,r,a)?le.resolve(null):(Xl()<=it.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Wl(n)),this.hs(e,u,n,k8(a,ah)).next(h=>h))})}cs(e,n){let r=new dn(UA(e));return n.forEach((a,o)=>{Qp(e,o)&&(r=r.add(o))}),r}ls(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}_s(e,n,r){return Xl()<=it.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Wl(n)),this.ns.getDocumentsMatchingQuery(e,n,La.min(),r)}hs(e,n,r,a){return this.ns.getDocumentsMatchingQuery(e,r,a).next(o=>(n.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="LocalStore",m7=3e8;class _7{constructor(e,n,r,a){this.persistence=e,this.Ps=n,this.serializer=a,this.Ts=new zt(Je),this.Is=new tl(o=>Sy(o),Ay),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new i7(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function g7(t,e,n,r){return new _7(t,e,n,r)}async function uR(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(o=>(a=o,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let d=st();for(const m of a){u.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}for(const m of o){h.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(r,d).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:h}))})})}function v7(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),o=n.ds.newChangeBuffer({trackRemovals:!0});return function(h,d,m,g){const y=m.batch,w=y.keys();let T=le.resolve();return w.forEach(S=>{T=T.next(()=>g.getEntry(d,S)).next(P=>{const O=m.docVersions.get(S);St(O!==null),P.version.compareTo(O)<0&&(y.applyToRemoteDocument(P,m),P.isValidDocument()&&(P.setReadTime(m.commitVersion),g.addEntry(P)))})}),T.next(()=>h.mutationQueue.removeMutationBatch(d,y))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let d=st();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}function cR(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function y7(t,e){const n=Fe(t),r=e.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const h=[];e.targetChanges.forEach((g,y)=>{const w=a.get(y);if(!w)return;h.push(n.Hr.removeMatchingKeys(o,g.removedDocuments,y).next(()=>n.Hr.addMatchingKeys(o,g.addedDocuments,y)));let T=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?T=T.withResumeToken(Pn.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),a=a.insert(y,T),function(P,O,U){return P.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=m7?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(w,T,g)&&h.push(n.Hr.updateTargetData(o,T))});let d=Bs(),m=st();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))}),h.push(E7(o,u,e.documentUpdates).next(g=>{d=g.Vs,m=g.fs})),!r.isEqual(qe.min())){const g=n.Hr.getLastRemoteSnapshotVersion(o).next(y=>n.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(g)}return le.waitFor(h).next(()=>u.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,m)).next(()=>d)}).then(o=>(n.Ts=a,o))}function E7(t,e,n){let r=st(),a=st();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let u=Bs();return n.forEach((h,d)=>{const m=o.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(qe.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):we(My,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)}),{Vs:u,fs:a}})}function b7(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=wy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function w7(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Hr.getTargetData(r,e).next(o=>o?(a=o,le.resolve(a)):n.Hr.allocateTargetId(r).next(u=>(a=new Oa(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.Ts.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function Mv(t,e,n){const r=Fe(t),a=r.Ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Su(u))throw u;we(My,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(a.target)}function bT(t,e,n){const r=Fe(t);let a=qe.min(),o=st();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,m,g){const y=Fe(d),w=y.Is.get(g);return w!==void 0?le.resolve(y.Ts.get(w)):y.Hr.getTargetData(m,g)}(r,u,Bi(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,h.targetId).next(d=>{o=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,n?a:qe.min(),n?o:st())).next(h=>(T7(r,lP(e),h),{documents:h,gs:o})))}function T7(t,e,n){let r=t.Es.get(e)||qe.min();n.forEach((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Es.set(e,r)}class wT{constructor(){this.activeTargetIds=pP()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class S7{constructor(){this.ho=new wT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new wT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="ConnectivityMonitor";class ST{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){we(TT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){we(TT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd=null;function kv(){return bd===null?bd=function(){return 268435456+Math.round(2147483648*Math.random())}():bd++,"0x"+bd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="RestConnection",R7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class C7{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${a}`,this.wo=this.databaseId.database===ap?`project_id=${r}`:`project_id=${r}&database_id=${a}`}So(e,n,r,a,o){const u=kv(),h=this.bo(e,n.toUriEncodedString());we(Gg,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,a,o),this.vo(e,h,d,r).then(m=>(we(Gg,`Received RPC '${e}' ${u}: `,m),m),m=>{throw fu(Gg,`RPC '${e}' ${u} failed with error: `,m,"url: ",h,"request:",r),m})}Co(e,n,r,a,o,u){return this.So(e,n,r,a,o)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,o)=>e[o]=a),r&&r.headers.forEach((a,o)=>e[o]=a)}bo(e,n){const r=R7[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn="WebChannelConnection";class I7 extends C7{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,a){const o=kv();return new Promise((u,h)=>{const d=new fA;d.setWithCredentials(!0),d.listenOnce(dA.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case xd.NO_ERROR:const g=d.getResponseJson();we(jn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),u(g);break;case xd.TIMEOUT:we(jn,`RPC '${e}' ${o} timed out`),h(new ge(se.DEADLINE_EXCEEDED,"Request time out"));break;case xd.HTTP_ERROR:const y=d.getStatus();if(we(jn,`RPC '${e}' ${o} failed with status:`,y,"response text:",d.getResponseText()),y>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const T=w==null?void 0:w.error;if(T&&T.status&&T.message){const S=function(O){const U=O.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(U)>=0?U:se.UNKNOWN}(T.status);h(new ge(S,T.message))}else h(new ge(se.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new ge(se.UNAVAILABLE,"Connection failed."));break;default:Be()}}finally{we(jn,`RPC '${e}' ${o} completed.`)}});const m=JSON.stringify(a);we(jn,`RPC '${e}' ${o} sending request:`,a),d.send(n,"POST",m,r,15)})}Wo(e,n,r){const a=kv(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=_A(),h=mA(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const g=o.join("");we(jn,`Creating RPC '${e}' stream ${a}: ${g}`,d);const y=u.createWebChannel(g,d);let w=!1,T=!1;const S=new O7({Fo:O=>{T?we(jn,`Not sending because RPC '${e}' stream ${a} is closed:`,O):(w||(we(jn,`Opening RPC '${e}' stream ${a} transport.`),y.open(),w=!0),we(jn,`RPC '${e}' stream ${a} sending:`,O),y.send(O))},Mo:()=>y.close()}),P=(O,U,H)=>{O.listen(U,Q=>{try{H(Q)}catch(ee){setTimeout(()=>{throw ee},0)}})};return P(y,zc.EventType.OPEN,()=>{T||(we(jn,`RPC '${e}' stream ${a} transport opened.`),S.Qo())}),P(y,zc.EventType.CLOSE,()=>{T||(T=!0,we(jn,`RPC '${e}' stream ${a} transport closed`),S.Uo())}),P(y,zc.EventType.ERROR,O=>{T||(T=!0,fu(jn,`RPC '${e}' stream ${a} transport errored:`,O),S.Uo(new ge(se.UNAVAILABLE,"The operation could not be completed")))}),P(y,zc.EventType.MESSAGE,O=>{var U;if(!T){const H=O.data[0];St(!!H);const Q=H,ee=(Q==null?void 0:Q.error)||((U=Q[0])===null||U===void 0?void 0:U.error);if(ee){we(jn,`RPC '${e}' stream ${a} received error:`,ee);const k=ee.status;let ie=function(C){const N=rn[C];if(N!==void 0)return XA(N)}(k),M=ee.message;ie===void 0&&(ie=se.INTERNAL,M="Unknown error status: "+k+" with message "+ee.message),T=!0,S.Uo(new ge(ie,M)),y.close()}else we(jn,`RPC '${e}' stream ${a} received:`,H),S.Ko(H)}}),P(h,pA.STAT_EVENT,O=>{O.stat===Tv.PROXY?we(jn,`RPC '${e}' stream ${a} detected buffering proxy`):O.stat===Tv.NOPROXY&&we(jn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{S.$o()},0),S}}function Kg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(t){return new PP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n,r=1e3,a=1.5,o=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=a,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-r);a>0&&we("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="PersistentStream";class fR{constructor(e,n,r,a,o,u,h,d){this.Ti=e,this.n_=r,this.r_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new hR(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(js(n.toString()),js("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.i_===n&&this.V_(r,a)},r=>{e(()=>{const a=new ge(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(a)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{r(()=>this.m_(a))}),this.stream.onMessage(a=>{r(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return we(AT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(we(AT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class D7 extends fR{constructor(e,n,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=o}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=LP(this.serializer,e),r=function(o){if(!("targetChange"in o))return qe.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?qe.min():u.readTime?Fi(u.readTime):qe.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Pv(this.serializer),n.addTarget=function(o,u){let h;const d=u.target;if(h=Ov(d)?{documents:jP(o,d)}:{query:rR(o,d).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=JA(o,u.resumeToken);const m=Dv(o,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(qe.min())>0){h.readTime=fp(o,u.snapshotVersion.toTimestamp());const m=Dv(o,u.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const r=FP(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Pv(this.serializer),n.removeTarget=e,this.I_(n)}}class x7 extends fR{constructor(e,n,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return St(!!e.streamToken),this.lastStreamToken=e.streamToken,St(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=UP(e.writeResults,e.commitTime),r=Fi(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Pv(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>VP(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{}class P7 extends N7{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new ge(se.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.So(e,xv(n,r),a,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(se.UNKNOWN,o.toString())})}Co(e,n,r,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(e,xv(n,r),a,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(se.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class M7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(js(n),this.N_=!1):we("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="RemoteStore";class k7{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(u=>{r.enqueueAndForget(async()=>{nl(this)&&(we(Go,"Restarting streams for network reachability change."),await async function(d){const m=Fe(d);m.W_.add(4),await kh(m),m.j_.set("Unknown"),m.W_.delete(4),await Jp(m)}(this))})}),this.j_=new M7(r,a)}}async function Jp(t){if(nl(t))for(const e of t.G_)await e(!0)}async function kh(t){for(const e of t.G_)await e(!1)}function dR(t,e){const n=Fe(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Uy(n)?Vy(n):Au(n).c_()&&Ly(n,e))}function ky(t,e){const n=Fe(t),r=Au(n);n.K_.delete(e),r.c_()&&pR(n,e),n.K_.size===0&&(r.c_()?r.P_():nl(n)&&n.j_.set("Unknown"))}function Ly(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Au(t).y_(e)}function pR(t,e){t.H_.Ne(e),Au(t).w_(e)}function Vy(t){t.H_=new IP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Au(t).start(),t.j_.B_()}function Uy(t){return nl(t)&&!Au(t).u_()&&t.K_.size>0}function nl(t){return Fe(t).W_.size===0}function mR(t){t.H_=void 0}async function L7(t){t.j_.set("Online")}async function V7(t){t.K_.forEach((e,n)=>{Ly(t,e)})}async function U7(t,e){mR(t),Uy(t)?(t.j_.q_(e),Vy(t)):t.j_.set("Unknown")}async function j7(t,e,n){if(t.j_.set("Online"),e instanceof ZA&&e.state===2&&e.cause)try{await async function(a,o){const u=o.cause;for(const h of o.targetIds)a.K_.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.K_.delete(h),a.H_.removeTarget(h))}(t,e)}catch(r){we(Go,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pp(t,r)}else if(e instanceof kd?t.H_.We(e):e instanceof WA?t.H_.Ze(e):t.H_.je(e),!n.isEqual(qe.min()))try{const r=await cR(t.localStore);n.compareTo(r)>=0&&await function(o,u){const h=o.H_.ot(u);return h.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.K_.get(m);g&&o.K_.set(m,g.withResumeToken(d.resumeToken,u))}}),h.targetMismatches.forEach((d,m)=>{const g=o.K_.get(d);if(!g)return;o.K_.set(d,g.withResumeToken(Pn.EMPTY_BYTE_STRING,g.snapshotVersion)),pR(o,d);const y=new Oa(g.target,d,m,g.sequenceNumber);Ly(o,y)}),o.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(r){we(Go,"Failed to raise snapshot:",r),await pp(t,r)}}async function pp(t,e,n){if(!Su(e))throw e;t.W_.add(1),await kh(t),t.j_.set("Offline"),n||(n=()=>cR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we(Go,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Jp(t)})}function _R(t,e){return e().catch(n=>pp(t,n,e))}async function em(t){const e=Fe(t),n=Ba(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:wy;for(;B7(e);)try{const a=await b7(e.localStore,r);if(a===null){e.U_.length===0&&n.P_();break}r=a.batchId,z7(e,a)}catch(a){await pp(e,a)}gR(e)&&vR(e)}function B7(t){return nl(t)&&t.U_.length<10}function z7(t,e){t.U_.push(e);const n=Ba(t);n.c_()&&n.S_&&n.b_(e.mutations)}function gR(t){return nl(t)&&!Ba(t).u_()&&t.U_.length>0}function vR(t){Ba(t).start()}async function F7(t){Ba(t).C_()}async function q7(t){const e=Ba(t);for(const n of t.U_)e.b_(n.mutations)}async function H7(t,e,n){const r=t.U_.shift(),a=Oy.from(r,e,n);await _R(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await em(t)}async function $7(t,e){e&&Ba(t).S_&&await async function(r,a){if(function(u){return CP(u)&&u!==se.ABORTED}(a.code)){const o=r.U_.shift();Ba(r).h_(),await _R(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a)),await em(r)}}(t,e),gR(t)&&vR(t)}async function RT(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),we(Go,"RemoteStore received new credentials");const r=nl(n);n.W_.add(3),await kh(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Jp(n)}async function G7(t,e){const n=Fe(t);e?(n.W_.delete(2),await Jp(n)):e||(n.W_.add(2),await kh(n),n.j_.set("Unknown"))}function Au(t){return t.J_||(t.J_=function(n,r,a){const o=Fe(n);return o.M_(),new D7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(t.datastore,t.asyncQueue,{xo:L7.bind(null,t),No:V7.bind(null,t),Lo:U7.bind(null,t),p_:j7.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Uy(t)?Vy(t):t.j_.set("Unknown")):(await t.J_.stop(),mR(t))})),t.J_}function Ba(t){return t.Y_||(t.Y_=function(n,r,a){const o=Fe(n);return o.M_(),new x7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:F7.bind(null,t),Lo:$7.bind(null,t),D_:q7.bind(null,t),v_:H7.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await em(t)):(await t.Y_.stop(),t.U_.length>0&&(we(Go,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const u=Date.now()+r,h=new jy(e,n,u,a,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function By(t,e){if(js("AsyncQueue",`${e}: ${t}`),Su(t))return new ge(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{static emptySet(e){return new iu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Pe.comparator(n.key,r.key):(n,r)=>Pe.comparator(n.key,r.key),this.keyedMap=Fc(),this.sortedSet=new zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof iu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new iu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.Z_=new zt(Pe.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Be():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class vu{constructor(e,n,r,a,o,u,h,d,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,a,o){const u=[];return n.forEach(h=>{u.push({type:0,doc:h})}),new vu(e,n,iu.emptySet(n),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Q7{constructor(){this.queries=OT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const a=Fe(n),o=a.queries;a.queries=OT(),o.forEach((u,h)=>{for(const d of h.ta)d.onError(r)})})(this,new ge(se.ABORTED,"Firestore shutting down"))}}function OT(){return new tl(t=>VA(t),Kp)}async function zy(t,e){const n=Fe(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.na()&&e.ra()&&(r=2):(o=new K7,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await n.onListen(a,!0);break;case 1:o.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=By(u,`Initialization of query '${Wl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,o),o.ta.push(e),e.sa(n.onlineState),o.ea&&e.oa(o.ea)&&qy(n)}async function Fy(t,e){const n=Fe(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const u=o.ta.indexOf(e);u>=0&&(o.ta.splice(u,1),o.ta.length===0?a=e.ra()?0:1:!o.na()&&e.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Y7(t,e){const n=Fe(t);let r=!1;for(const a of e){const o=a.query,u=n.queries.get(o);if(u){for(const h of u.ta)h.oa(a)&&(r=!0);u.ea=a}}r&&qy(n)}function X7(t,e,n){const r=Fe(t),a=r.queries.get(e);if(a)for(const o of a.ta)o.onError(n);r.queries.delete(e)}function qy(t){t.ia.forEach(e=>{e.next()})}var Lv,IT;(IT=Lv||(Lv={}))._a="default",IT.Cache="cache";class Hy{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new vu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=vu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Lv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.key=e}}class ER{constructor(e){this.key=e}}class W7{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=st(),this.mutatedKeys=st(),this.ya=UA(e),this.wa=new iu(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new CT,a=n?n.wa:this.wa;let o=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((g,y)=>{const w=a.get(g),T=Qp(this.query,y)?y:null,S=!!w&&this.mutatedKeys.has(w.key),P=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let O=!1;w&&T?w.data.isEqual(T.data)?S!==P&&(r.track({type:3,doc:T}),O=!0):this.va(w,T)||(r.track({type:2,doc:T}),O=!0,(d&&this.ya(T,d)>0||m&&this.ya(T,m)<0)&&(h=!0)):!w&&T?(r.track({type:0,doc:T}),O=!0):w&&!T&&(r.track({type:1,doc:w}),O=!0,(d||m)&&(h=!0)),O&&(T?(u=u.add(T),o=P?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{wa:u,Da:r,ls:h,mutatedKeys:o}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((g,y)=>function(T,S){const P=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be()}};return P(T)-P(S)}(g.type,y.type)||this.ya(g.doc,y.doc)),this.Ca(r),a=a!=null&&a;const h=n&&!a?this.Fa():[],d=this.pa.size===0&&this.current&&!a?1:0,m=d!==this.ga;return this.ga=d,u.length!==0||m?{snapshot:new vu(this.query,e.wa,o,u,e.mutatedKeys,d===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new CT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=st(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new ER(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new yR(r))}),n}Oa(e){this.fa=e.gs,this.pa=st();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return vu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const $y="SyncEngine";class Z7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class J7{constructor(e){this.key=e,this.Ba=!1}}class eM{constructor(e,n,r,a,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new tl(h=>VA(h),Kp),this.qa=new Map,this.Qa=new Set,this.$a=new zt(Pe.comparator),this.Ua=new Map,this.Ka=new xy,this.Wa={},this.Ga=new Map,this.za=gu.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function tM(t,e,n=!0){const r=RR(t);let a;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.Na()):a=await bR(r,e,n,!0),a}async function nM(t,e){const n=RR(t);await bR(n,e,!0,!1)}async function bR(t,e,n,r){const a=await w7(t.localStore,Bi(e)),o=a.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let h;return r&&(h=await rM(t,e,o,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&dR(t.remoteStore,a),h}async function rM(t,e,n,r,a){t.Ha=(y,w,T)=>async function(P,O,U,H){let Q=O.view.ba(U);Q.ls&&(Q=await bT(P.localStore,O.query,!1).then(({documents:M})=>O.view.ba(M,Q)));const ee=H&&H.targetChanges.get(O.targetId),k=H&&H.targetMismatches.get(O.targetId)!=null,ie=O.view.applyChanges(Q,P.isPrimaryClient,ee,k);return xT(P,O.targetId,ie.Ma),ie.snapshot}(t,y,w,T);const o=await bT(t.localStore,e,!0),u=new W7(e,o.gs),h=u.ba(o.documents),d=Mh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),m=u.applyChanges(h,t.isPrimaryClient,d);xT(t,n,m.Ma);const g=new Z7(e,n,u);return t.ka.set(e,g),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),m.snapshot}async function iM(t,e,n){const r=Fe(t),a=r.ka.get(e),o=r.qa.get(a.targetId);if(o.length>1)return r.qa.set(a.targetId,o.filter(u=>!Kp(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Mv(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&ky(r.remoteStore,a.targetId),Vv(r,a.targetId)}).catch(Tu)):(Vv(r,a.targetId),await Mv(r.localStore,a.targetId,!0))}async function sM(t,e){const n=Fe(t),r=n.ka.get(e),a=n.qa.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ky(n.remoteStore,r.targetId))}async function aM(t,e,n){const r=dM(t);try{const a=await function(u,h){const d=Fe(u),m=on.now(),g=h.reduce((T,S)=>T.add(S.key),st());let y,w;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let S=Bs(),P=st();return d.ds.getEntries(T,g).next(O=>{S=O,S.forEach((U,H)=>{H.isValidDocument()||(P=P.add(U))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,S)).next(O=>{y=O;const U=[];for(const H of h){const Q=bP(H,y.get(H.key).overlayedDocument);Q!=null&&U.push(new Ya(H.key,Q,IA(Q.value.mapValue),zi.exists(!0)))}return d.mutationQueue.addMutationBatch(T,m,U,h)}).next(O=>{w=O;const U=O.applyToLocalDocumentSet(y,P);return d.documentOverlayCache.saveOverlays(T,O.batchId,U)})}).then(()=>({batchId:w.batchId,changes:BA(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(u,h,d){let m=u.Wa[u.currentUser.toKey()];m||(m=new zt(Je)),m=m.insert(h,d),u.Wa[u.currentUser.toKey()]=m}(r,a.batchId,n),await Lh(r,a.changes),await em(r.remoteStore)}catch(a){const o=By(a,"Failed to persist write");n.reject(o)}}async function wR(t,e){const n=Fe(t);try{const r=await y7(n.localStore,e);e.targetChanges.forEach((a,o)=>{const u=n.Ua.get(o);u&&(St(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?u.Ba=!0:a.modifiedDocuments.size>0?St(u.Ba):a.removedDocuments.size>0&&(St(u.Ba),u.Ba=!1))}),await Lh(n,r,e)}catch(r){await Tu(r)}}function DT(t,e,n){const r=Fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.ka.forEach((o,u)=>{const h=u.view.sa(e);h.snapshot&&a.push(h.snapshot)}),function(u,h){const d=Fe(u);d.onlineState=h;let m=!1;d.queries.forEach((g,y)=>{for(const w of y.ta)w.sa(h)&&(m=!0)}),m&&qy(d)}(r.eventManager,e),a.length&&r.La.p_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function oM(t,e,n){const r=Fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Ua.get(e),o=a&&a.key;if(o){let u=new zt(Pe.comparator);u=u.insert(o,zn.newNoDocument(o,qe.min()));const h=st().add(o),d=new Wp(qe.min(),new Map,new zt(Je),u,h);await wR(r,d),r.$a=r.$a.remove(o),r.Ua.delete(e),Gy(r)}else await Mv(r.localStore,e,!1).then(()=>Vv(r,e,n)).catch(Tu)}async function lM(t,e){const n=Fe(t),r=e.batch.batchId;try{const a=await v7(n.localStore,e);SR(n,r,null),TR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Lh(n,a)}catch(a){await Tu(a)}}async function uM(t,e,n){const r=Fe(t);try{const a=await function(u,h){const d=Fe(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let g;return d.mutationQueue.lookupMutationBatch(m,h).next(y=>(St(y!==null),g=y.keys(),d.mutationQueue.removeMutationBatch(m,y))).next(()=>d.mutationQueue.performConsistencyCheck(m)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(m,g,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g)).next(()=>d.localDocuments.getDocuments(m,g))})}(r.localStore,e);SR(r,e,n),TR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Lh(r,a)}catch(a){await Tu(a)}}function TR(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function SR(t,e,n){const r=Fe(t);let a=r.Wa[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.Wa[r.currentUser.toKey()]=a}}function Vv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||AR(t,r)})}function AR(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(ky(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),Gy(t))}function xT(t,e,n){for(const r of n)r instanceof yR?(t.Ka.addReference(r.key,e),cM(t,r)):r instanceof ER?(we($y,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||AR(t,r.key)):Be()}function cM(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(we($y,"New document in limbo: "+n),t.Qa.add(r),Gy(t))}function Gy(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Pe(Mt.fromString(e)),r=t.za.next();t.Ua.set(r,new J7(n)),t.$a=t.$a.insert(n,r),dR(t.remoteStore,new Oa(Bi(Gp(n.path)),r,"TargetPurposeLimboResolution",Fp.ae))}}async function Lh(t,e,n){const r=Fe(t),a=[],o=[],u=[];r.ka.isEmpty()||(r.ka.forEach((h,d)=>{u.push(r.Ha(d,e,n).then(m=>{var g;if((m||n)&&r.isPrimaryClient){const y=m?!m.fromCache:(g=n==null?void 0:n.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(m){a.push(m);const y=Py.Yi(d.targetId,m);o.push(y)}}))}),await Promise.all(u),r.La.p_(a),await async function(d,m){const g=Fe(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>le.forEach(m,w=>le.forEach(w.Hi,T=>g.persistence.referenceDelegate.addReference(y,w.targetId,T)).next(()=>le.forEach(w.Ji,T=>g.persistence.referenceDelegate.removeReference(y,w.targetId,T)))))}catch(y){if(!Su(y))throw y;we(My,"Failed to update sequence numbers: "+y)}for(const y of m){const w=y.targetId;if(!y.fromCache){const T=g.Ts.get(w),S=T.snapshotVersion,P=T.withLastLimboFreeSnapshotVersion(S);g.Ts=g.Ts.insert(w,P)}}}(r.localStore,o))}async function hM(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){we($y,"User change. New user:",e.toKey());const r=await uR(n.localStore,e);n.currentUser=e,function(o,u){o.Ga.forEach(h=>{h.forEach(d=>{d.reject(new ge(se.CANCELLED,u))})}),o.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Lh(n,r.Rs)}}function fM(t,e){const n=Fe(t),r=n.Ua.get(e);if(r&&r.Ba)return st().add(r.key);{let a=st();const o=n.qa.get(e);if(!o)return a;for(const u of o){const h=n.ka.get(u);a=a.unionWith(h.view.Sa)}return a}}function RR(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oM.bind(null,e),e.La.p_=Y7.bind(null,e.eventManager),e.La.Ja=X7.bind(null,e.eventManager),e}function dM(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uM.bind(null,e),e}class mp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zp(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return g7(this.persistence,new p7,e.initialUser,this.serializer)}Xa(e){return new lR(Ny.ri,this.serializer)}Za(e){return new S7}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mp.provider={build:()=>new mp};class pM extends mp{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){St(this.persistence.referenceDelegate instanceof dp);const r=this.persistence.referenceDelegate.garbageCollector;return new JP(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?nr.withCacheSize(this.cacheSizeBytes):nr.DEFAULT;return new lR(r=>dp.ri(r,n),this.serializer)}}class Uv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>DT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hM.bind(null,this.syncEngine),await G7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Q7}()}createDatastore(e){const n=Zp(e.databaseInfo.databaseId),r=function(o){return new I7(o)}(e.databaseInfo);return function(o,u,h,d){return new P7(o,u,h,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,a,o,u,h){return new k7(r,a,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,n=>DT(this.syncEngine,n,0),function(){return ST.D()?new ST:new A7}())}createSyncEngine(e,n){return function(a,o,u,h,d,m,g){const y=new eM(a,o,u,h,d,m);return g&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const o=Fe(a);we(Go,"RemoteStore shutting down."),o.W_.add(5),await kh(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Uv.provider={build:()=>new Uv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):js("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="FirestoreClient";class mM{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=Bn.UNAUTHENTICATED,this.clientId=yA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{we(za,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(we(za,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=By(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Qg(t,e){t.asyncQueue.verifyOperationInProgress(),we(za,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async a=>{r.isEqual(a)||(await uR(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function NT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _M(t);we(za,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>RT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,a)=>RT(e.remoteStore,a)),t._onlineComponents=e}async function _M(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(za,"Using user provided OfflineComponentProvider");try{await Qg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;fu("Error using user provided cache. Falling back to memory cache: "+n),await Qg(t,new mp)}}else we(za,"Using default OfflineComponentProvider"),await Qg(t,new pM(void 0));return t._offlineComponents}async function Qy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(za,"Using user provided OnlineComponentProvider"),await NT(t,t._uninitializedComponentsProvider._online)):(we(za,"Using default OnlineComponentProvider"),await NT(t,new Uv))),t._onlineComponents}function gM(t){return Qy(t).then(e=>e.syncEngine)}function vM(t){return Qy(t).then(e=>e.datastore)}async function _p(t){const e=await Qy(t),n=e.eventManager;return n.onListen=tM.bind(null,e.syncEngine),n.onUnlisten=iM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sM.bind(null,e.syncEngine),n}function yM(t,e,n={}){const r=new ji;return t.asyncQueue.enqueueAndForget(async()=>function(o,u,h,d,m){const g=new Ky({next:w=>{g.su(),u.enqueueAndForget(()=>Fy(o,y));const T=w.docs.has(h);!T&&w.fromCache?m.reject(new ge(se.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&w.fromCache&&d&&d.source==="server"?m.reject(new ge(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(w)},error:w=>m.reject(w)}),y=new Hy(Gp(h.path),g,{includeMetadataChanges:!0,Ta:!0});return zy(o,y)}(await _p(t),t.asyncQueue,e,n,r)),r.promise}function EM(t,e,n={}){const r=new ji;return t.asyncQueue.enqueueAndForget(async()=>function(o,u,h,d,m){const g=new Ky({next:w=>{g.su(),u.enqueueAndForget(()=>Fy(o,y)),w.fromCache&&d.source==="server"?m.reject(new ge(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),y=new Hy(h,g,{includeMetadataChanges:!0,Ta:!0});return zy(o,y)}(await _p(t),t.asyncQueue,e,n,r)),r.promise}function bM(t,e,n){const r=new ji;return t.asyncQueue.enqueueAndForget(async()=>{try{const a=await vM(t);r.resolve(async function(u,h,d){var m;const g=Fe(u),{request:y,Pt:w,parent:T}=BP(g.serializer,oP(h),d);g.connection.fo||delete y.parent;const S=(await g.Co("RunAggregationQuery",g.serializer.databaseId,T,y,1)).filter(O=>!!O.result);St(S.length===1);const P=(m=S[0].result)===null||m===void 0?void 0:m.aggregateFields;return Object.keys(P).reduce((O,U)=>(O[w[U]]=P[U],O),{})}(a,e,n))}catch(a){r.reject(a)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t,e,n){if(!n)throw new ge(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wM(t,e,n,r){if(e===!0&&r===!0)throw new ge(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function MT(t){if(!Pe.isDocumentKey(t))throw new ge(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kT(t){if(Pe.isDocumentKey(t))throw new ge(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Be()}function Gr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tm(t);throw new ge(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function TM(t,e){if(e<=0)throw new ge(se.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="firestore.googleapis.com",LT=!0;class VT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IR,this.ssl=LT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:LT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WP)throw new ge(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nm{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new R8;switch(r.type){case"firstParty":return new D8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=PT.get(n);r&&(we("ComponentProvider","Removing Datastore"),PT.delete(n),r.terminate())}(this),Promise.resolve()}}function SM(t,e,n,r={}){var a;const o=(t=Gr(t,nm))._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;o.host!==IR&&o.host!==h&&fu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:h,ssl:!1,emulatorOptions:r});if(!qo(d,u)&&(t._setSettings(d),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=Bn.MOCK_USER;else{m=sA(r.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new ge(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Bn(y)}t._authCredentials=new C8(new gA(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wi(this.firestore,e,this._query)}}class Wn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class Pa extends Wi{constructor(e,n,r){super(e,n,Gp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new Pe(e))}withConverter(e){return new Pa(this.firestore,e,this._path)}}function gp(t,e,...n){if(t=ln(t),OR("collection","path",e),t instanceof nm){const r=Mt.fromString(e,...n);return kT(r),new Pa(t,null,r)}{if(!(t instanceof Wn||t instanceof Pa))throw new ge(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Mt.fromString(e,...n));return kT(r),new Pa(t.firestore,null,r)}}function Yy(t,e,...n){if(t=ln(t),arguments.length===1&&(e=yA.newId()),OR("doc","path",e),t instanceof nm){const r=Mt.fromString(e,...n);return MT(r),new Wn(t,null,new Pe(r))}{if(!(t instanceof Wn||t instanceof Pa))throw new ge(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Mt.fromString(e,...n));return MT(r),new Wn(t.firestore,t instanceof Pa?t.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="AsyncQueue";class jT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new hR(this,"async_queue_retry"),this.Su=()=>{const r=Kg();r&&we(UT,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=Kg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Kg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ji;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Su(e))throw e;we(UT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const a=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(r);throw js("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const a=jy.createAndSchedule(this,e,n,r,o=>this.Fu(o));return this.fu.push(a),a}Du(){this.gu&&Be()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function BT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Fa extends nm{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new jT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jT(e),this._firestoreClient=void 0,await e}}}function AM(t,e){const n=typeof t=="object"?t:Ey(),r=typeof t=="string"?t:ap,a=zp(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=nA("firestore");o&&SM(a,...o)}return a}function Vh(t){if(t._terminated)throw new ge(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||RM(t),t._firestoreClient}function RM(t){var e,n,r;const a=t._freezeSettings(),o=function(h,d,m,g){return new G8(h,d,m,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,CR(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new mM(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class OM{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yu(Pn.fromBase64String(e))}catch(n){throw new ge(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yu(Pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=/^__.*__$/;class DM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ya(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ph(e,this.data,n,this.fieldTransforms)}}class DR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ya(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be()}}class Jy{constructor(e,n,r,a,o,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Jy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:r,Qu:!1});return a.$u(e),a}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:r,Qu:!1});return a.Bu(),a}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return vp(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(xR(this.Lu)&&IM.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class xM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zp(e)}ju(e,n,r,a=!1){return new Jy({Lu:e,methodName:n,zu:r,path:Nn.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function im(t){const e=t._freezeSettings(),n=Zp(t._databaseId);return new xM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NM(t,e,n,r,a,o={}){const u=t.ju(o.merge||o.mergeFields?2:0,e,n,a);e0("Data must be an object, but it was:",u,r);const h=PR(r,u);let d,m;if(o.merge)d=new gr(u.fieldMask),m=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const y of o.mergeFields){const w=jv(e,y,n);if(!u.contains(w))throw new ge(se.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);kR(g,w)||g.push(w)}d=new gr(g),m=u.fieldTransforms.filter(y=>d.covers(y.field))}else d=null,m=u.fieldTransforms;return new DM(new rr(h),d,m)}class sm extends Xy{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sm}}function PM(t,e,n,r){const a=t.ju(1,e,n);e0("Data must be an object, but it was:",a,r);const o=[],u=rr.empty();Qa(r,(d,m)=>{const g=t0(e,d,n);m=ln(m);const y=a.Uu(g);if(m instanceof sm)o.push(g);else{const w=Uh(m,y);w!=null&&(o.push(g),u.set(g,w))}});const h=new gr(o);return new DR(u,h,a.fieldTransforms)}function MM(t,e,n,r,a,o){const u=t.ju(1,e,n),h=[jv(e,r,n)],d=[a];if(o.length%2!=0)throw new ge(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)h.push(jv(e,o[w])),d.push(o[w+1]);const m=[],g=rr.empty();for(let w=h.length-1;w>=0;--w)if(!kR(m,h[w])){const T=h[w];let S=d[w];S=ln(S);const P=u.Uu(T);if(S instanceof sm)m.push(T);else{const O=Uh(S,P);O!=null&&(m.push(T),g.set(T,O))}}const y=new gr(m);return new DR(g,y,u.fieldTransforms)}function NR(t,e,n,r=!1){return Uh(n,t.ju(r?4:3,e))}function Uh(t,e){if(MR(t=ln(t)))return e0("Unsupported field value:",e,t),PR(t,e);if(t instanceof Xy)return function(r,a){if(!xR(a.Lu))throw a.Wu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,a){const o=[];let u=0;for(const h of r){let d=Uh(h,a.Ku(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}}(t,e)}return function(r,a){if((r=ln(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mP(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=on.fromDate(r);return{timestampValue:fp(a.serializer,o)}}if(r instanceof on){const o=new on(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fp(a.serializer,o)}}if(r instanceof Wy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yu)return{bytesValue:JA(a.serializer,r._byteString)};if(r instanceof Wn){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Dy(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Zy)return function(u,h){return{mapValue:{fields:{[CA]:{stringValue:OA},[op]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw h.Wu("VectorValues must only contain numeric values.");return Cy(h.serializer,m)})}}}}}}(r,a);throw a.Wu(`Unsupported field value: ${tm(r)}`)}(t,e)}function PR(t,e){const n={};return bA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qa(t,(r,a)=>{const o=Uh(a,e.qu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function MR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof on||t instanceof Wy||t instanceof yu||t instanceof Wn||t instanceof Xy||t instanceof Zy)}function e0(t,e,n){if(!MR(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=tm(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function jv(t,e,n){if((e=ln(e))instanceof rm)return e._internalPath;if(typeof e=="string")return t0(t,e);throw vp("Field path arguments must be of type string or ",t,!1,void 0,n)}const kM=new RegExp("[~\\*/\\[\\]]");function t0(t,e,n){if(e.search(kM)>=0)throw vp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rm(...e.split("."))._internalPath}catch{throw vp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vp(t,e,n,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${r}`),u&&(d+=` in document ${a}`),d+=")"),new ge(se.INVALID_ARGUMENT,h+t+d)}function kR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(am("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LM extends n0{data(){return super.data()}}function am(t,e){return typeof e=="string"?t0(t,e):e instanceof rm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class r0{}class om extends r0{}function Os(t,e,...n){let r=[];e instanceof r0&&r.push(e),r=r.concat(n),function(o){const u=o.filter(d=>d instanceof i0).length,h=o.filter(d=>d instanceof lm).length;if(u>1||u>0&&h>0)throw new ge(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)t=a._apply(t);return t}class lm extends om{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new lm(e,n,r)}_apply(e){const n=this._parse(e);return VR(e._query,n),new Wi(e.firestore,e.converter,Iv(e._query,n))}_parse(e){const n=im(e.firestore);return function(o,u,h,d,m,g,y){let w;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ge(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){qT(y,g);const S=[];for(const P of y)S.push(FT(d,o,P));w={arrayValue:{values:S}}}else w=FT(d,o,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||qT(y,g),w=NR(h,u,y,g==="in"||g==="not-in");return an.create(m,g,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Pc(t,e,n){const r=e,a=am("where",t);return lm._create(a,r,n)}class i0 extends r0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new i0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ui.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,o){let u=a;const h=o.getFlattenedFilters();for(const d of h)VR(u,d),u=Iv(u,d)}(e._query,n),new Wi(e.firestore,e.converter,Iv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class s0 extends om{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new s0(e,n)}_apply(e){const n=function(a,o,u){if(a.startAt!==null)throw new ge(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ge(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ch(o,u)}(e._query,this._field,this._direction);return new Wi(e.firestore,e.converter,function(a,o){const u=a.explicitOrderBy.concat([o]);return new el(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function Hc(t,e="asc"){const n=e,r=am("orderBy",t);return s0._create(r,n)}class a0 extends om{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new a0(e,n,r)}_apply(e){return new Wi(e.firestore,e.converter,up(e._query,this._limit,this._limitType))}}function Mc(t){return TM("limit",t),a0._create("limit",t,"F")}class o0 extends om{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new o0(e,n,r)}_apply(e){const n=VM(e,this.type,this._docOrFields,this._inclusive);return new Wi(e.firestore,e.converter,function(a,o){return new el(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,o,a.endAt)}(e._query,n))}}function zT(...t){return o0._create("startAfter",t,!1)}function VM(t,e,n,r){if(n[0]=ln(n[0]),n[0]instanceof n0)return function(o,u,h,d,m){if(!d)throw new ge(se.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const g=[];for(const y of ru(o))if(y.field.isKeyField())g.push(lp(u,d.key));else{const w=d.data.field(y.field);if(Hp(w))throw new ge(se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const T=y.field.canonicalString();throw new ge(se.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}g.push(w)}return new _u(g,m)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const a=im(t.firestore);return function(u,h,d,m,g,y){const w=u.explicitOrderBy;if(g.length>w.length)throw new ge(se.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let S=0;S<g.length;S++){const P=g[S];if(w[S].field.isKeyField()){if(typeof P!="string")throw new ge(se.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof P}`);if(!Ry(u)&&P.indexOf("/")!==-1)throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${P}' contains a slash.`);const O=u.path.child(Mt.fromString(P));if(!Pe.isDocumentKey(O))throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${O}' is not because it contains an odd number of segments.`);const U=new Pe(O);T.push(lp(h,U))}else{const O=NR(d,m,P);T.push(O)}}return new _u(T,y)}(t._query,t.firestore._databaseId,a,e,n,r)}}function FT(t,e,n){if(typeof(n=ln(n))=="string"){if(n==="")throw new ge(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ry(e)&&n.indexOf("/")!==-1)throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Mt.fromString(n));if(!Pe.isDocumentKey(r))throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lp(t,new Pe(r))}if(n instanceof Wn)return lp(t,n._key);throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tm(n)}.`)}function qT(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VR(t,e){const n=function(a,o){for(const u of a)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ge(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class UM{convertValue(e,n="none"){switch(ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qa(e,(a,o)=>{r[a]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,a;const o=(a=(r=(n=e.fields)===null||n===void 0?void 0:n[op].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(u=>Wt(u.doubleValue));return new Zy(o)}convertGeoPoint(e){return new Wy(Wt(e.latitude),Wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$p(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(oh(e));default:return null}}convertTimestamp(e){const n=Va(e);return new on(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Mt.fromString(e);St(aR(r));const a=new lh(r.get(1),r.get(3)),o=new Pe(r.popFirst(5));return a.isEqual(n)||js(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t,e,n){let r;return r=t?t.toFirestore(e):e,r}function BM(){return new CM("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class UR extends n0{constructor(e,n,r,a,o,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(am("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ld extends UR{data(e={}){return super.data(e)}}class jR{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new $c(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ld(this._firestore,this._userDataWriter,r.key,r,new $c(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(h=>{const d=new Ld(a._firestore,a._userDataWriter,h.doc.key,h.doc,new $c(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const d=new Ld(a._firestore,a._userDataWriter,h.doc.key,h.doc,new $c(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,g=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:zM(h.type),doc:d,oldIndex:m,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function zM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(t){t=Gr(t,Wn);const e=Gr(t.firestore,Fa);return yM(Vh(e),t._key).then(n=>FR(e,t,n))}class um extends UM{constructor(e){super(),this.firestore=e}convertBytes(e){return new yu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,n)}}function kc(t){t=Gr(t,Wi);const e=Gr(t.firestore,Fa),n=Vh(e),r=new um(e);return LR(t._query),EM(n,t._query).then(a=>new jR(e,r,t,a))}function HT(t,e,n,...r){t=Gr(t,Wn);const a=Gr(t.firestore,Fa),o=im(a);let u;return u=typeof(e=ln(e))=="string"||e instanceof rm?MM(o,"updateDoc",t._key,e,n,r):PM(o,"updateDoc",t._key,e),zR(a,[u.toMutation(t._key,zi.exists(!0))])}function FM(t,e){const n=Gr(t.firestore,Fa),r=Yy(t),a=jM(t.converter,e);return zR(n,[NM(im(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,zi.exists(!1))]).then(()=>r)}function qM(t,...e){var n,r,a;t=ln(t);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||BT(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(BT(e[u])){const y=e[u];e[u]=(n=y.next)===null||n===void 0?void 0:n.bind(y),e[u+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[u+2]=(a=y.complete)===null||a===void 0?void 0:a.bind(y)}let d,m,g;if(t instanceof Wn)m=Gr(t.firestore,Fa),g=Gp(t._key.path),d={next:y=>{e[u]&&e[u](FR(m,t,y))},error:e[u+1],complete:e[u+2]};else{const y=Gr(t,Wi);m=Gr(y.firestore,Fa),g=y._query;const w=new um(m);d={next:T=>{e[u]&&e[u](new jR(m,w,y,T))},error:e[u+1],complete:e[u+2]},LR(t._query)}return function(w,T,S,P){const O=new Ky(P),U=new Hy(T,O,S);return w.asyncQueue.enqueueAndForget(async()=>zy(await _p(w),U)),()=>{O.su(),w.asyncQueue.enqueueAndForget(async()=>Fy(await _p(w),U))}}(Vh(m),g,h,d)}function zR(t,e){return function(r,a){const o=new ji;return r.asyncQueue.enqueueAndForget(async()=>aM(await gM(r),a,o)),o.promise}(Vh(t),e)}function FR(t,e,n){const r=n.docs.get(e._key),a=new um(t);return new UR(t,a,e._key,r,new $c(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t){return HM(t,{count:BM()})}function HM(t,e){const n=Gr(t.firestore,Fa),r=Vh(n),a=H8(e,(o,u)=>new AP(u,o.aggregateType,o._internalFieldPath));return bM(r,t._query,a).then(o=>function(h,d,m){const g=new um(h);return new OM(d,g,m)}(n,t,o))}(function(e,n=!0){(function(a){wu=a})(Jo),Ho(new ka("firestore",(r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new Fa(new O8(r.getProvider("auth-internal")),new x8(u,r.getProvider("app-check-internal")),function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ge(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lh(m.options.projectId,g)}(u,a),u);return o=Object.assign({useFetchStreams:n},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),Ui($w,Gw,e),Ui($w,Gw,"esm2017")})();function l0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function qR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $M=qR,HR=new xh("auth","Firebase",qR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp=new vy("@firebase/auth");function GM(t,...e){yp.logLevel<=it.WARN&&yp.warn(`Auth (${Jo}): ${t}`,...e)}function Vd(t,...e){yp.logLevel<=it.ERROR&&yp.error(`Auth (${Jo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t,...e){throw u0(t,...e)}function qi(t,...e){return u0(t,...e)}function $R(t,e,n){const r=Object.assign(Object.assign({},$M()),{[e]:n});return new xh("auth","Firebase",r).create(e,{appName:t.name})}function Ls(t){return $R(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function u0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HR.create(t,...e)}function Ve(t,e,...n){if(!t)throw u0(e,...n)}function xs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vd(e),new Error(e)}function zs(t,e){t||xs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function KM(){return $T()==="http:"||$T()==="https:"}function $T(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KM()||rN()||"connection"in navigator)?navigator.onLine:!0}function YM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n){this.shortDelay=e,this.longDelay=n,zs(n>e,"Short delay should be less than long delay!"),this.isMobile=eN()||iN()}get(){return QM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(t,e){zs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=new jh(3e4,6e4);function Xa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Wa(t,e,n,r,a={}){return KR(t,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=Nh(Object.assign({key:t.config.apiKey},u)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:d},o);return nN()||(m.referrerPolicy="no-referrer"),GR.fetch()(QR(t,t.config.apiHost,n,h),m)})}async function KR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},XM),e);try{const a=new JM(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw wd(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw wd(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw wd(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw wd(t,"user-disabled",u);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw $R(t,g,m);ci(t,g)}}catch(a){if(a instanceof Hn)throw a;ci(t,"network-request-failed",{message:String(a)})}}async function Bh(t,e,n,r,a={}){const o=await Wa(t,e,n,r,a);return"mfaPendingCredential"in o&&ci(t,"multi-factor-auth-required",{_serverResponse:o}),o}function QR(t,e,n,r){const a=`${e}${n}?${r}`;return t.config.emulator?c0(t.config,a):`${t.config.apiScheme}://${a}`}function ZM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qi(this.auth,"network-request-failed")),WM.get())})}}function wd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=qi(t,e,r);return a.customData._tokenResponse=n,a}function GT(t){return t!==void 0&&t.enterprise!==void 0}class ek{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ZM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tk(t,e){return Wa(t,"GET","/v2/recaptchaConfig",Xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nk(t,e){return Wa(t,"POST","/v1/accounts:delete",e)}async function YR(t,e){return Wa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rk(t,e=!1){const n=ln(t),r=await n.getIdToken(e),a=h0(r);Ve(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:Zc(Yg(a.auth_time)),issuedAtTime:Zc(Yg(a.iat)),expirationTime:Zc(Yg(a.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Yg(t){return Number(t)*1e3}function h0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vd("JWT malformed, contained fewer than 3 sections"),null;try{const a=eA(n);return a?JSON.parse(a):(Vd("Failed to decode base64 JWT payload"),null)}catch(a){return Vd("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function KT(t){const e=h0(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Hn&&ik(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ik({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zc(this.lastLoginAt),this.creationTime=Zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ep(t){var e;const n=t.auth,r=await t.getIdToken(),a=await dh(t,YR(n,{idToken:r}));Ve(a==null?void 0:a.users.length,n,"internal-error");const o=a.users[0];t._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?XR(o.providerUserInfo):[],h=ok(t.providerData,u),d=t.isAnonymous,m=!(t.email&&o.passwordHash)&&!(h!=null&&h.length),g=d?m:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Fv(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function ak(t){const e=ln(t);await Ep(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ok(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function XR(t){return t.map(e=>{var{providerId:n}=e,r=l0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lk(t,e){const n=await KR(t,{},async()=>{const r=Nh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,u=QR(t,a,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",GR.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uk(t,e){return Wa(t,"POST","/v2/accounts:revokeToken",Xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=KT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await lk(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,u=new su;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(Ve(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(Ve(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new su,this.toJSON())}_performRefresh(){return xs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ns{constructor(e){var{uid:n,auth:r,stsTokenManager:a}=e,o=l0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Fv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await dh(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rk(this,e)}reload(){return ak(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ep(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_r(this.auth.app))return Promise.reject(Ls(this.auth));const e=await this.getIdToken();return await dh(this,nk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,a,o,u,h,d,m,g;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(a=n.email)!==null&&a!==void 0?a:void 0,T=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(u=n.photoURL)!==null&&u!==void 0?u:void 0,P=(h=n.tenantId)!==null&&h!==void 0?h:void 0,O=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,U=(m=n.createdAt)!==null&&m!==void 0?m:void 0,H=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:Q,emailVerified:ee,isAnonymous:k,providerData:ie,stsTokenManager:M}=n;Ve(Q&&M,e,"internal-error");const I=su.fromJSON(this.name,M);Ve(typeof Q=="string",e,"internal-error"),va(y,e.name),va(w,e.name),Ve(typeof ee=="boolean",e,"internal-error"),Ve(typeof k=="boolean",e,"internal-error"),va(T,e.name),va(S,e.name),va(P,e.name),va(O,e.name),va(U,e.name),va(H,e.name);const C=new Ns({uid:Q,auth:e,email:w,emailVerified:ee,displayName:y,isAnonymous:k,photoURL:S,phoneNumber:T,tenantId:P,stsTokenManager:I,createdAt:U,lastLoginAt:H});return ie&&Array.isArray(ie)&&(C.providerData=ie.map(N=>Object.assign({},N))),O&&(C._redirectEventId=O),C}static async _fromIdTokenResponse(e,n,r=!1){const a=new su;a.updateFromServerResponse(n);const o=new Ns({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Ep(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Ve(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?XR(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),h=new su;h.updateFromIdToken(r);const d=new Ns({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Fv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=new Map;function Ps(t){zs(t instanceof Function,"Expected a class definition");let e=QT.get(t);return e?(zs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,QT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}WR.type="NONE";const YT=WR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(t,e,n){return`firebase:${t}:${e}:${n}`}class au{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Ud(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ud("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ns._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new au(Ps(YT),e,r);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=a[0]||Ps(YT);const u=Ud(r,e.config.apiKey,e.name);let h=null;for(const m of n)try{const g=await m._get(u);if(g){const y=Ns._fromJSON(e,g);m!==o&&(h=y),o=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new au(o,e,r):(o=d[0],h&&await o._set(u,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==o)try{await m._remove(u)}catch{}})),new au(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rC(e))return"Blackberry";if(iC(e))return"Webos";if(JR(e))return"Safari";if((e.includes("chrome/")||eC(e))&&!e.includes("edge/"))return"Chrome";if(nC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ZR(t=qn()){return/firefox\//i.test(t)}function JR(t=qn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eC(t=qn()){return/crios\//i.test(t)}function tC(t=qn()){return/iemobile/i.test(t)}function nC(t=qn()){return/android/i.test(t)}function rC(t=qn()){return/blackberry/i.test(t)}function iC(t=qn()){return/webos/i.test(t)}function f0(t=qn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ck(t=qn()){var e;return f0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hk(){return sN()&&document.documentMode===10}function sC(t=qn()){return f0(t)||nC(t)||iC(t)||rC(t)||/windows phone/i.test(t)||tC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(t,e=[]){let n;switch(t){case"Browser":n=XT(qn());break;case"Worker":n=`${XT(qn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Jo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((u,h)=>{try{const d=e(o);u(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk(t,e={}){return Wa(t,"GET","/v2/passwordPolicy",Xa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=6;class mk{constructor(e){var n,r,a,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:pk,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,a,o,u,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(a=d.containsLowercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new WT(this),this.idTokenSubscription=new WT(this),this.beforeStateQueue=new fk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ps(n)),this._initializationPromise=this.queue(async()=>{var r,a;if(!this._deleted&&(this.persistenceManager=await au.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await YR(this,{idToken:e}),r=await Ns._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_r(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=a==null?void 0:a._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&(d!=null&&d.user)&&(a=d.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ep(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_r(this.app))return Promise.reject(Ls(this));const n=e?ln(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _r(this.app)?Promise.reject(Ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _r(this.app)?Promise.reject(Ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dk(this),n=new mk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await uk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ps(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await au.create(this,[Ps(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&GM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function rl(t){return ln(t)}class WT{constructor(e){this.auth=e,this.observer=null,this.addObserver=dN(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gk(t){cm=t}function oC(t){return cm.loadJS(t)}function vk(){return cm.recaptchaEnterpriseScript}function yk(){return cm.gapiScript}function Ek(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class bk{constructor(){this.enterprise=new wk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class wk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Tk="recaptcha-enterprise",lC="NO_RECAPTCHA";class Sk{constructor(e){this.type=Tk,this.auth=rl(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{tk(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new ek(d);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,u(m.siteKey)}}).catch(d=>{h(d)})})}function a(o,u,h){const d=window.grecaptcha;GT(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(m=>{u(m)}).catch(()=>{u(lC)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bk().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!n&&GT(window.grecaptcha))a(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=vk();d.length!==0&&(d+=h),oC(d).then(()=>{a(h,o,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function ZT(t,e,n,r=!1,a=!1){const o=new Sk(t);let u;if(a)u=lC;else try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function qv(t,e,n,r,a){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await ZT(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await ZT(t,e,n,n==="getOobCode");return r(t,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(t,e){const n=zp(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(qo(o,e??{}))return a;ci(a,"already-initialized")}return n.initialize({options:e})}function Rk(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ps);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Ck(t,e,n){const r=rl(t);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=uC(e),{host:u,port:h}=Ok(e),d=h===null?"":`:${h}`,m={url:`${o}//${u}${d}/`},g=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(qo(m,r.config.emulator)&&qo(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Ik()}function uC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Ok(t){const e=uC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:JT(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:JT(u)}}}function JT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Ik(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xs("not implemented")}_getIdTokenResponse(e){return xs("not implemented")}_linkToIdToken(e,n){return xs("not implemented")}_getReauthenticationResolver(e){return xs("not implemented")}}async function Dk(t,e){return Wa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xk(t,e){return Bh(t,"POST","/v1/accounts:signInWithPassword",Xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(t,e){return Bh(t,"POST","/v1/accounts:signInWithEmailLink",Xa(t,e))}async function Pk(t,e){return Bh(t,"POST","/v1/accounts:signInWithEmailLink",Xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends d0{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new ph(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ph(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qv(e,n,"signInWithPassword",xk);case"emailLink":return Nk(e,{email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qv(e,r,"signUpPassword",Dk);case"emailLink":return Pk(e,{idToken:n,email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(t,e){return Bh(t,"POST","/v1/accounts:signInWithIdp",Xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk="http://localhost";class Ko extends d0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ko(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=n,o=l0(n,["providerId","signInMethod"]);if(!r||!a)return null;const u=new Ko(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return ou(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ou(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ou(e,n)}buildRequest(){const e={requestUri:Mk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Lk(t){const e=jc(Bc(t)).link,n=e?jc(Bc(e)).deep_link_id:null,r=jc(Bc(t)).deep_link_id;return(r?jc(Bc(r)).link:null)||r||n||e||t}class p0{constructor(e){var n,r,a,o,u,h;const d=jc(Bc(e)),m=(n=d.apiKey)!==null&&n!==void 0?n:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,y=kk((a=d.mode)!==null&&a!==void 0?a:null);Ve(m&&g&&y,"argument-error"),this.apiKey=m,this.operation=y,this.code=g,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=d.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=Lk(e);try{return new p0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(){this.providerId=Ru.PROVIDER_ID}static credential(e,n){return ph._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=p0.parseLink(n);return Ve(r,"argument-error"),ph._fromEmailAndCode(e,r.code,r.tenantId)}}Ru.PROVIDER_ID="password";Ru.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ru.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends cC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends zh{constructor(){super("facebook.com")}static credential(e){return Ko._fromParams({providerId:Ta.PROVIDER_ID,signInMethod:Ta.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ta.credentialFromTaggedObject(e)}static credentialFromError(e){return Ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ta.credential(e.oauthAccessToken)}catch{return null}}}Ta.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ta.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends zh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ko._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Sa.credential(n,r)}catch{return null}}}Sa.GOOGLE_SIGN_IN_METHOD="google.com";Sa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends zh{constructor(){super("github.com")}static credential(e){return Ko._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Aa.credential(e.oauthAccessToken)}catch{return null}}}Aa.GITHUB_SIGN_IN_METHOD="github.com";Aa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends zh{constructor(){super("twitter.com")}static credential(e,n){return Ko._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ra.credential(n,r)}catch{return null}}}Ra.TWITTER_SIGN_IN_METHOD="twitter.com";Ra.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vk(t,e){return Bh(t,"POST","/v1/accounts:signUp",Xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await Ns._fromIdTokenResponse(e,r,a),u=eS(r);return new Qo({user:o,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=eS(r);return new Qo({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function eS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp extends Hn{constructor(e,n,r,a){var o;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,bp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new bp(e,n,r,a)}}function hC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?bp._fromErrorAndOperation(t,o,e,r):o})}async function Uk(t,e,n=!1){const r=await dh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jk(t,e,n=!1){const{auth:r}=t;if(_r(r.app))return Promise.reject(Ls(r));const a="reauthenticate";try{const o=await dh(t,hC(r,a,e,t),n);Ve(o.idToken,r,"internal-error");const u=h0(o.idToken);Ve(u,r,"internal-error");const{sub:h}=u;return Ve(t.uid===h,r,"user-mismatch"),Qo._forOperation(t,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ci(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(t,e,n=!1){if(_r(t.app))return Promise.reject(Ls(t));const r="signIn",a=await hC(t,r,e),o=await Qo._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}async function Bk(t,e){return fC(rl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(t){const e=rl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zk(t,e,n){if(_r(t.app))return Promise.reject(Ls(t));const r=rl(t),u=await qv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Vk).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&dC(t),d}),h=await Qo._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function Fk(t,e,n){return _r(t.app)?Promise.reject(Ls(t)):Bk(ln(t),Ru.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&dC(t),r})}function qk(t,e,n,r){return ln(t).onIdTokenChanged(e,n,r)}function Hk(t,e,n){return ln(t).beforeAuthStateChanged(e,n)}function $k(t){return ln(t).signOut()}const wp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wp,"1"),this.storage.removeItem(wp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=1e3,Kk=10;class mC extends pC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);hk()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Kk):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Gk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mC.type="LOCAL";const Qk=mC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C extends pC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_C.type="SESSION";const gC=_C;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new hm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async m=>m(n.origin,o)),d=await Yk(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((h,d)=>{const m=m0("",20);a.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(y){const w=y;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(w.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(){return window}function Wk(t){Hi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function Zk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Jk(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function eL(){return vC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="firebaseLocalStorageDb",tL=1,Tp="firebaseLocalStorage",EC="fbase_key";class Fh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fm(t,e){return t.transaction([Tp],e?"readwrite":"readonly").objectStore(Tp)}function nL(){const t=indexedDB.deleteDatabase(yC);return new Fh(t).toPromise()}function Hv(){const t=indexedDB.open(yC,tL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Tp,{keyPath:EC})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Tp)?e(r):(r.close(),await nL(),e(await Hv()))})})}async function tS(t,e,n){const r=fm(t,!0).put({[EC]:e,value:n});return new Fh(r).toPromise()}async function rL(t,e){const n=fm(t,!1).get(e),r=await new Fh(n).toPromise();return r===void 0?null:r.value}function nS(t,e){const n=fm(t,!0).delete(e);return new Fh(n).toPromise()}const iL=800,sL=3;class bC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>sL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hm._getInstance(eL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Zk(),!this.activeServiceWorker)return;this.sender=new Xk(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Jk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hv();return await tS(e,wp,"1"),await nS(e,wp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>tS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>rL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>nS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=fm(a,!1).getAll();return new Fh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bC.type="LOCAL";const aL=bC;new jh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t,e){return e?Ps(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0 extends d0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ou(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ou(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ou(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lL(t){return fC(t.auth,new _0(t),t.bypassAuthState)}function uL(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),jk(n,new _0(t),t.bypassAuthState)}async function cL(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),Uk(n,new _0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lL;case"linkViaPopup":case"linkViaRedirect":return cL;case"reauthViaPopup":case"reauthViaRedirect":return uL;default:ci(this.auth,"internal-error")}}resolve(e){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=new jh(2e3,1e4);class nu extends wC{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,nu.currentPopupAction&&nu.currentPopupAction.cancel(),nu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){zs(this.filter.length===1,"Popup operations only handle one event");const e=m0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hL.get())};e()}}nu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL="pendingRedirect",jd=new Map;class dL extends wC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=jd.get(this.auth._key());if(!e){try{const r=await pL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jd.set(this.auth._key(),e)}return this.bypassAuthState||jd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pL(t,e){const n=gL(e),r=_L(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function mL(t,e){jd.set(t._key(),e)}function _L(t){return Ps(t._redirectPersistence)}function gL(t){return Ud(fL,t.config.apiKey,t.name)}async function vL(t,e,n=!1){if(_r(t.app))return Promise.reject(Ls(t));const r=rl(t),a=oL(r,e),u=await new dL(r,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=10*60*1e3;class EL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!TC(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(qi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yL&&this.cachedEventUids.clear(),this.cachedEventUids.has(rS(e))}saveEventToCache(e){this.cachedEventUids.add(rS(e)),this.lastProcessedEventTime=Date.now()}}function rS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function TC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wL(t,e={}){return Wa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SL=/^https?/;async function AL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await wL(t);for(const n of e)try{if(RL(n))return}catch{}ci(t,"unauthorized-domain")}function RL(t){const e=zv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!SL.test(n))return!1;if(TL.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=new jh(3e4,6e4);function iS(){const t=Hi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function OL(t){return new Promise((e,n)=>{var r,a,o;function u(){iS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iS(),n(qi(t,"network-request-failed"))},timeout:CL.get()})}if(!((a=(r=Hi().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=Hi().gapi)===null||o===void 0)&&o.load)u();else{const h=Ek("iframefcb");return Hi()[h]=()=>{gapi.load?u():n(qi(t,"network-request-failed"))},oC(`${yk()}?onload=${h}`).catch(d=>n(d))}}).catch(e=>{throw Bd=null,e})}let Bd=null;function IL(t){return Bd=Bd||OL(t),Bd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=new jh(5e3,15e3),xL="__/auth/iframe",NL="emulator/auth/iframe",PL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ML=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kL(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?c0(e,NL):`https://${t.config.authDomain}/${xL}`,r={apiKey:e.apiKey,appName:t.name,v:Jo},a=ML.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Nh(r).slice(1)}`}async function LL(t){const e=await IL(t),n=Hi().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:kL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PL,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=qi(t,"network-request-failed"),h=Hi().setTimeout(()=>{o(u)},DL.get());function d(){Hi().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UL=500,jL=600,BL="_blank",zL="http://localhost";class sS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FL(t,e,n,r=UL,a=jL){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},VL),{width:r.toString(),height:a.toString(),top:o,left:u}),m=qn().toLowerCase();n&&(h=eC(m)?BL:n),ZR(m)&&(e=e||zL,d.scrollbars="yes");const g=Object.entries(d).reduce((w,[T,S])=>`${w}${T}=${S},`,"");if(ck(m)&&h!=="_self")return qL(e||"",h),new sS(null);const y=window.open(e||"",h,g);Ve(y,t,"popup-blocked");try{y.focus()}catch{}return new sS(y)}function qL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL="__/auth/handler",$L="emulator/auth/handler",GL=encodeURIComponent("fac");async function aS(t,e,n,r,a,o){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Jo,eventId:a};if(e instanceof cC){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",fN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))u[g]=y}if(e instanceof zh){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),m=d?`#${GL}=${encodeURIComponent(d)}`:"";return`${KL(t)}?${Nh(h).slice(1)}${m}`}function KL({config:t}){return t.emulator?c0(t,$L):`https://${t.authDomain}/${HL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="webStorageSupport";class QL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gC,this._completeRedirectFn=vL,this._overrideRedirectResult=mL}async _openPopup(e,n,r,a){var o;zs((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await aS(e,n,r,zv(),a);return FL(e,u,m0())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await aS(e,n,r,zv(),a);return Wk(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(zs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await LL(e),r=new EL(e);return n.register("authEvent",a=>(Ve(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xg,{type:Xg},a=>{var o;const u=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[Xg];u!==void 0&&n(!!u),ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sC()||JR()||f0()}}const YL=QL;var oS="@firebase/auth",lS="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZL(t){Ho(new ka("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ve(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aC(t)},m=new _k(r,a,o,d);return Rk(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ho(new ka("auth-internal",e=>{const n=rl(e.getProvider("auth").getImmediate());return(r=>new XL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ui(oS,lS,WL(t)),Ui(oS,lS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=5*60,eV=iA("authIdTokenMaxAge")||JL;let uS=null;const tV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>eV)return;const a=n==null?void 0:n.token;uS!==a&&(uS=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function nV(t=Ey()){const e=zp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Ak(t,{popupRedirectResolver:YL,persistence:[aL,Qk,gC]}),r=iA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=tV(o.toString());Hk(n,u,()=>u(n.currentUser)),qk(n,h=>u(h))}}const a=tA("auth");return a&&Ck(n,`http://${a}`),n}function rV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}gk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=qi("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",rV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZL("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="firebasestorage.googleapis.com",iV="storageBucket",sV=2*60*1e3,aV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Hn{constructor(e,n,r=0){super(Wg(e),`Firebase Storage: ${n} (${Wg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ki;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ki||(Ki={}));function Wg(t){return"storage/"+t}function oV(){const t="An unknown error occurred, please check the error payload for server response.";return new Zi(Ki.UNKNOWN,t)}function lV(){return new Zi(Ki.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uV(){return new Zi(Ki.CANCELED,"User canceled the upload/download.")}function cV(t){return new Zi(Ki.INVALID_URL,"Invalid URL '"+t+"'.")}function hV(t){return new Zi(Ki.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function cS(t){return new Zi(Ki.INVALID_ARGUMENT,t)}function AC(){return new Zi(Ki.APP_DELETED,"The Firebase app was deleted.")}function fV(t){return new Zi(Ki.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ii.makeFromUrl(e,n)}catch{return new ii(e,"")}if(r.path==="")return r;throw hV(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function o(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+a+u,"i"),d={bucket:1,path:3};function m(ee){ee.path_=decodeURIComponent(ee.path)}const g="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",T=new RegExp(`^https?://${y}/${g}/b/${a}/o${w}`,"i"),S={bucket:1,path:3},P=n===SC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",U=new RegExp(`^https?://${P}/${a}/${O}`,"i"),Q=[{regex:h,indices:d,postModify:o},{regex:T,indices:S,postModify:m},{regex:U,indices:{bucket:1,path:2},postModify:m}];for(let ee=0;ee<Q.length;ee++){const k=Q[ee],ie=k.regex.exec(e);if(ie){const M=ie[k.indices.bucket];let I=ie[k.indices.path];I||(I=""),r=new ii(M,I),k.postModify(r);break}}if(r==null)throw cV(e);return r}}class dV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(t,e,n){let r=1,a=null,o=null,u=!1,h=0;function d(){return h===2}let m=!1;function g(...O){m||(m=!0,e.apply(null,O))}function y(O){a=setTimeout(()=>{a=null,t(T,d())},O)}function w(){o&&clearTimeout(o)}function T(O,...U){if(m){w();return}if(O){w(),g.call(null,O,...U);return}if(d()||u){w(),g.call(null,O,...U);return}r<64&&(r*=2);let Q;h===1?(h=2,Q=0):Q=(r+Math.random())*1e3,y(Q)}let S=!1;function P(O){S||(S=!0,w(),!m&&(a!==null?(O||(h=2),clearTimeout(a),y(0)):O||(h=1)))}return y(0),o=setTimeout(()=>{u=!0,P(!0)},n),P}function mV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(t){return t!==void 0}function hS(t,e,n,r){if(r<e)throw cS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw cS(`Invalid value for '${t}'. Expected ${n} or less.`)}function gV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var Sp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Sp||(Sp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||a||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,n,r,a,o,u,h,d,m,g,y,w=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=y,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,S)=>{this.resolve_=T,this.reject_=S,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Td(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{const d=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===Sp.NO_ERROR,d=o.getStatus();if(!h||vV(d,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===Sp.ABORT;r(!1,new Td(!1,null,g));return}const m=this.successCodes_.indexOf(d)!==-1;r(!0,new Td(m,o))})},n=(r,a)=>{const o=this.resolve_,u=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());_V(d)?o(d):o()}catch(d){u(d)}else if(h!==null){const d=oV();d.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,d)):u(d)}else if(a.canceled){const d=this.appDelete_?AC():uV();u(d)}else{const d=lV();u(d)}};this.canceled_?n(!1,new Td(!1,null,!0)):this.backoffId_=pV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&mV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Td{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function EV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function bV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function wV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function TV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function SV(t,e,n,r,a,o,u=!0){const h=gV(t.urlParams),d=t.url+h,m=Object.assign({},t.headers);return wV(m,e),EV(m,n),bV(m,o),TV(m,r),new yV(d,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function RV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n){this._service=e,n instanceof ii?this._location=n:this._location=ii.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ap(e,n)}get root(){const e=new ii(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return RV(this._location.path)}get storage(){return this._service}get parent(){const e=AV(this._location.path);if(e===null)return null;const n=new ii(this._location.bucket,e);return new Ap(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw fV(e)}}function fS(t,e){const n=e==null?void 0:e[iV];return n==null?null:ii.makeFromBucketSpec(n,t)}function CV(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:sA(a,t.app.options.projectId))}class OV{constructor(e,n,r,a,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=o,this._bucket=null,this._host=SC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sV,this._maxUploadRetryTime=aV,this._requests=new Set,a!=null?this._bucket=ii.makeFromBucketSpec(a,this._host):this._bucket=fS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ii.makeFromBucketSpec(this._url,e):this._bucket=fS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){hS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){hS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ap(this,e)}_makeRequest(e,n,r,a,o=!0){if(this._deleted)return new dV(AC());{const u=SV(e,this._appId,r,a,n,this._firebaseVersion,o);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const dS="@firebase/storage",pS="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="storage";function IV(t=Ey(),e){t=ln(t);const r=zp(t,RC).getImmediate({identifier:e}),a=nA("storage");return a&&DV(r,...a),r}function DV(t,e,n,r={}){CV(t,e,n,r)}function xV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new OV(n,r,a,e,Jo)}function NV(){Ho(new ka(RC,xV,"PUBLIC").setMultipleInstances(!0)),Ui(dS,pS,""),Ui(dS,pS,"esm2017")}NV();const PV={apiKey:"AIzaSyCH_QRJsyRv0-4Yup_WUZtwJEeV9YaG9x8",authDomain:"citypedia-a2aba.firebaseapp.com",projectId:"citypedia-a2aba",storageBucket:"citypedia-a2aba.firebasestorage.app",messagingSenderId:"784427727291",appId:"1:784427727291:web:2a49bd4111ca54b1796c9e"},g0=lA(PV),mh=AM(g0),v0=nV(g0);IV(g0);const MV=async t=>{try{const e=gp(mh,ih),r=(await Bv(e)).data().count??0;return await FM(gp(mh,ih),{...t,index:r}),!0}catch(e){return e instanceof Hn?{"permission-denied":"You do not have permission to create a city.",unavailable:"Firestore is temporarily unavailable. Please try again later.","deadline-exceeded":"Request timed out. Please try again.","invalid-argument":"Invalid data format. Please check your inputs.","resource-exhausted":"Quota exceeded. Please try again later.",unauthenticated:"You must be logged in to perform this action."}[e.code]??"Failed to create city. Please try again later.":"Unexpected error. Please try again."}},kV=kn(()=>{const t=Mn(),{modalStore:{closeModal:e},toastStore:{showToast:n}}=t,{requestError:r,setRequestError:a,clearError:o}=Dh(),u=q.useMemo(()=>[{name:"name",label:"Enter city name",type:"text",value:"",onChange:()=>{},validate:U=>U?null:"Name is required"},{name:"country",label:"Enter city country",type:"text",value:"",onChange:()=>{},validate:U=>U?null:"Country is required"},{name:"population",label:"Enter population",type:"text",value:"",onChange:()=>{},validate:U=>U?/^\d+$/.test(U)?null:"Population must be a valid number":"Population is required"},{name:"image",label:"Enter image",type:"text",value:"",onChange:()=>{},validate:U=>{const H=U;if(!H)return"Image URL is required";try{new URL(H)}catch{return"Invalid URL format"}return null}},{name:"is_capital",label:"Is it Capital",type:"checkbox",value:!1,onChange:()=>{}}],[]),{formState:h,handleCheckboxChange:d,handleTextChange:m,validate:g,errors:y,isSubmitting:w,setIsSubmitting:T}=Up(u),S=q.useCallback(async()=>{if(!g())return;T(!0);const U={...h,likes:[],comments:[]},H=await MV(U);if(typeof H=="string"){a(H),T(!1);return}T(!1),o(),n("City Successfully Added!","success"),e()},[h,e,T,a,o,g,n]),P=U=>{Fo(U),S()},O=q.useCallback(U=>{U.key!=="Enter"||w||S()},[S,w]);return q.useEffect(()=>(window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)),[O]),D.jsxs("div",{className:Hx.modal,children:[D.jsx(We,{view:"title",weight:"bold",tag:"p",children:"Create City"}),D.jsx(jp,{fields:u,formState:h,handleTextChange:m,handleCheckboxChange:d,actionButton:D.jsx(yr,{disabled:w,onClick:P,children:w?"Creating...":"Create"}),errors:y,requestError:r})]})}),LV="_modal_1t57r_1",VV="_modal__title_1t57r_6",UV="_modal__action_1t57r_15",jV="_modal__error_1t57r_19",Sd={modal:LV,modal__title:VV,modal__action:UV,modal__error:jV},BV=kn(()=>{const t=Mn(),{modalStore:{closeModal:e},toastStore:{showToast:n},userStore:{logout:r}}=t,{requestError:a,setRequestError:o,clearError:u}=Dh(),h=q.useCallback(async d=>{Fo(d);const m=await r();if(typeof m=="string"){o(m);return}u(),n("Successfully Logout!","success"),e()},[e,o,u,r,n]);return D.jsxs("div",{className:Sd.modal,children:[D.jsx(We,{className:Sd.modal__title,view:"title",weight:"bold",tag:"p",children:"Are you want to LogOff?"}),a&&D.jsx(We,{view:"p-20",className:Sd.modal__error,children:a}),D.jsx("div",{className:Sd.modal__action,children:D.jsx(yr,{onClick:h,children:"Yes"})})]})}),zV="_modal_1caln_1",FV="_modal__text_1caln_6",qV="_modal__chat_1caln_9",HV="_modal__message_1caln_16",Ql={modal:zV,modal__text:FV,modal__chat:qV,modal__message:HV,"modal__message-text_owner":"_modal__message-text_owner_1caln_21"},$V=kn(()=>{const t=Mn(),{citiesStore:{addComment:e},toastStore:{showToast:n}}=t,r=t.citiesDataStore.currentCity,a=t.citiesDataStore.citiesComments,o=t.userStore.user,{requestError:u,setRequestError:h,clearError:d}=Dh(),m=q.useMemo(()=>[{name:"message",label:"Enter Message",type:"text",value:"",onChange:()=>{},validate:ie=>ie?null:"Message is required"}],[]),{formState:g,handleCheckboxChange:y,handleTextChange:w,handleClearForm:T,validate:S,errors:P,isSubmitting:O,setIsSubmitting:U}=Up(m),H=q.useCallback(async()=>{if(!S())return;U(!0);const ie=g.message,M=await e(r.id,o.uid,ie);if(typeof M=="string"){h(M),U(!1);return}T(),U(!1),d(),n("Comment successfully added!","success")},[e,d,r,g,U,h,T,n,o,S]),Q=ie=>{Fo(ie),H()},ee=q.useCallback(ie=>{ie.key!=="Enter"||O||H()},[H,O]);q.useEffect(()=>(window.addEventListener("keydown",ee),()=>window.removeEventListener("keydown",ee)),[ee]);const k=r!=null&&r.id?Object.values(a[r.id]||{}).flat():[];return D.jsxs("div",{className:Ql.modal,children:[D.jsx(We,{view:"title",weight:"bold",tag:"p",className:Ql.modal__text,children:"City Comments"}),k.length!==0&&D.jsx("div",{className:Ql.modal__chat,children:k.map(({date:ie,message:M,owner:I},C)=>{const N=I===o.uid;return D.jsxs("div",{className:lt(Ql.modal__message),children:[D.jsx(We,{view:"p-18",tag:"p",color:N?"accent":"primary",className:lt(N&&Ql["modal__message-text_owner"]),children:M}),D.jsx(We,{view:"p-14",tag:"p",color:"secondary",className:lt(N&&Ql["modal__message-text_owner"]),children:(ie instanceof on?ie.toDate():new Date(ie)).toLocaleString("en-GB",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(","," at")})]},C)})}),D.jsx(jp,{fields:m,formState:g,handleTextChange:w,handleCheckboxChange:y,actionButton:D.jsx(yr,{disabled:O,onClick:Q,children:O?"Adding...":"Add"}),errors:P,requestError:u})]})}),GV=kn(()=>{const t=Mn(),{closeModal:e}=t.modalStore,n=t.modalStore.modal;return n?D.jsx(Tx,{onClose:e,children:{"sign-up":D.jsx(jx,{}),"sign-in":D.jsx(Fx,{}),comments:D.jsx($V,{}),"add-city":D.jsx(kV,{}),"log-out":D.jsx(BV,{})}[n]}):null}),KV="_container_gvdfe_1",QV={container:KV},YV="_toast_1y6ob_17",XV="_toast_right_1y6ob_33",WV="_toast_left_1y6ob_36",ZV="_toast__icon_1y6ob_43",JV="_toast__close_1y6ob_46",eU="_toast__loader_1y6ob_55",tU="_loader_1y6ob_1",nU="_toast__loader_error_1y6ob_64",rU="_toast__loader_success_1y6ob_67",iU="_pulse_1y6ob_1",ya={toast:YV,toast_right:XV,toast_left:WV,"toast--enter-right":"_toast--enter-right_1y6ob_39","toast--enter-left":"_toast--enter-left_1y6ob_39",toast__icon:ZV,toast__close:JV,toast__loader:eU,loader:tU,toast__loader_error:nU,toast__loader_success:rU,pulse:iU},sU=t=>D.jsx(br,{viewBox:"0 0 24 24",...t,children:D.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 14.1776 23.4621 16.1853 22.3903 18.023C21.3164 19.8627 19.8607 21.3164 18.023 22.3903C16.1853 23.4621 14.1776 24 12 24C9.82236 24 7.8147 23.4621 5.977 22.3903C4.13931 21.3164 2.68355 19.8627 1.60973 18.023C0.535911 16.1853 0 14.1776 0 12C0 9.82236 0.535911 7.8147 1.60973 5.977C2.68355 4.13731 4.13931 2.68355 5.977 1.60973C7.8147 0.53791 9.82236 0 12 0C14.1776 0 16.1853 0.53791 18.023 1.60973C19.8607 2.68355 21.3164 4.13731 22.3903 5.977C23.4621 7.8147 24 9.82236 24 12ZM11.9999 14.04C11.1384 14.04 10.4399 13.3416 10.4399 12.48V7.20002C10.4399 6.33845 11.1384 5.64001 11.9999 5.64001C12.8615 5.64001 13.5599 6.33845 13.5599 7.20002V12.48C13.5599 13.3416 12.8615 14.04 11.9999 14.04ZM10.4399 16.8C10.4399 17.6616 11.1384 18.36 11.9999 18.36C12.8615 18.36 13.5599 17.6616 13.5599 16.8C13.5599 15.9385 12.8615 15.24 11.9999 15.24C11.1384 15.24 10.4399 15.9385 10.4399 16.8Z",fill:"currentColor"})}),aU=t=>D.jsx(br,{viewBox:"0 0 24 24",...t,children:D.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 14.1776 23.4621 16.1853 22.3903 18.023C21.3164 19.8627 19.8607 21.3164 18.023 22.3903C16.1853 23.4621 14.1776 24 12 24C9.82236 24 7.8147 23.4621 5.977 22.3903C4.13931 21.3164 2.68355 19.8627 1.60973 18.023C0.535911 16.1853 0 14.1776 0 12C0 9.82236 0.535911 7.8147 1.60973 5.977C2.68355 4.13731 4.13931 2.68355 5.977 1.60973C7.8147 0.53791 9.82236 0 12 0C14.1776 0 16.1853 0.53791 18.023 1.60973C19.8607 2.68355 21.3164 4.13731 22.3903 5.977C23.4621 7.8147 24 9.82236 24 12ZM11.9999 14.04C11.1384 14.04 10.4399 13.3416 10.4399 12.48V7.20002C10.4399 6.33845 11.1384 5.64001 11.9999 5.64001C12.8615 5.64001 13.5599 6.33845 13.5599 7.20002V12.48C13.5599 13.3416 12.8615 14.04 11.9999 14.04ZM10.4399 16.8C10.4399 17.6616 11.1384 18.36 11.9999 18.36C12.8615 18.36 13.5599 17.6616 13.5599 16.8C13.5599 15.9385 12.8615 15.24 11.9999 15.24C11.1384 15.24 10.4399 15.9385 10.4399 16.8Z",fill:"currentColor"})}),oU={success:D.jsx(sU,{height:24,width:24,color:"accent"}),error:D.jsx(aU,{height:24,width:24,color:"secondary"})},lU=({variant:t,showAnimation:e="right",message:n,onClose:r,duration:a=5,className:o})=>{const[u,h]=q.useState(!1);return q.useEffect(()=>{const d=setTimeout(r,a*1e3);return()=>clearTimeout(d)},[r,a]),q.useEffect(()=>{const d=requestAnimationFrame(()=>{h(!0)});return()=>cancelAnimationFrame(d)},[]),D.jsxs("div",{className:lt(ya.toast,ya[`toast_${e}`],u&&ya[`toast--enter-${e}`],o),children:[D.jsx(We,{view:"p-18",className:ya.toast__text,children:n}),D.jsx("div",{className:ya.toast__icon,children:oU[t]}),D.jsx("div",{className:ya.toast__close,onClick:r,children:D.jsx(W2,{height:18,width:18,color:"secondary"})}),D.jsx("div",{className:lt(ya.toast__loader,ya[`toast__loader_${t}`]),style:{animationDuration:`${a}s`}})]})},uU=kn(()=>{const e=Mn().toastStore.toasts;return D.jsx("div",{className:QV.container,children:e.map(({id:n,...r})=>D.jsx(lU,{...r},n))})}),Gc=async({mode:t="all",viewPerPage:e=3,searchQuery:n="",dropdownFilters:r=[],currentPage:a=1,lastDoc:o=null,relatedCities:u,currentCityId:h})=>{try{const d=gp(mh,ih),m=g=>g.docs.map(w=>({id:w.id,...w.data()}));if(t==="all"){const g=await kc(d);return m(g)}if(t==="paginate"){let g=d,y=d;const w=[],T=r.length>0?"country":"name";if(r.length>0&&!n)w.push(Pc("country","in",r));else if(!r.length&&n){const ee=r6(n);w.push(Pc("name",">=",ee),Pc("name","<",ee+""))}else r.length>0&&n&&w.push(Pc("country","in",r));if(g=Os(d,...w,Hc(T),Mc(e)),y=Os(y,...w),o)g=Os(d,...w,Hc(T),zT(o),Mc(e));else if(a>1){const ee=Os(d,...w,Hc(T),Mc((a-1)*e)),ie=(await kc(ee)).docs;ie.length>0&&(g=Os(g,zT(ie[ie.length-1]),Mc(e)))}g=Os(g,Mc(e));const[S,P]=await Promise.all([kc(g),Bv(y)]),O=P.data().count??0,U=S.docs,H=U.length?U[U.length-1]:null;let Q=m(S);if(r.length>0&&n){const ee=n.toLowerCase();Q=Q.filter(k=>k.name.toLowerCase().includes(ee))}return{data:Q,lastRequest:n?"search":"filter",total:O,lastDoc:H}}if(t==="options"){const g=await kc(Os(d,Hc("name")));return[...new Map(g.docs.map(w=>[w.data().country,{key:w.id,value:w.data().country}])).values()]}if(t==="related"&&u){const y=(await Bv(d)).data().count??0,w=new Set;for(;w.size<u+(h?1:0);)w.add(Math.floor(Math.random()*y));const T=await kc(Os(d,Pc("index","in",Array.from(w)))),S=m(T);return(h?S.filter(O=>O.id!==h).slice(0,u):S).sort(()=>.5-Math.random())}if(t==="single"&&h){const g=await BR(Yy(d,h));return g.exists()?{id:g.id,...g.data()}:"City not found"}return"Unsupported fetch mode."}catch(d){return d instanceof Hn?{"permission-denied":"You do not have permission to view cities.",unavailable:"Firestore is temporarily unavailable. Please try again later.","deadline-exceeded":"Request timed out. Please try again.","resource-exhausted":"Quota exceeded. Please try again later.",unauthenticated:"You must be logged in to perform this action."}[d.code]??"Failed to fetch cities. Please try again later.":"Unexpected error. Please try again."}},cU=({mode:t,currentCityId:e,onUpdate:n})=>{const r=gp(mh,ih);{const a=Os(r,Hc("name"));return qM(a,o=>{const u=o.docs.map(h=>({id:h.id,...h.data()}));n(u)})}},mS=async({mode:t,cityId:e,userId:n,message:r})=>{try{if(e&&n){const a=Yy(mh,ih,e),u=(await BR(a)).data();if(t==="like"){const h=(u==null?void 0:u.likes)??[],d=h.includes(n)?h.filter(m=>m!==n):[...h,n];return await HT(a,{likes:d}),d}if(t==="comment"){if(!r)return"Comment message is required.";const h=(u==null?void 0:u.comments)??[],d={date:new Date,message:r,owner:n},m=[...h,d];return await HT(a,{comments:m}),m}}return"Missing parameters."}catch(a){return a instanceof Hn?{"permission-denied":"You do not have permission to create a city.",unavailable:"Firestore is temporarily unavailable. Please try again later.","deadline-exceeded":"Request timed out. Please try again.","invalid-argument":"Invalid data format. Please check your inputs.","resource-exhausted":"Quota exceeded. Please try again later.",unauthenticated:"You must be logged in to perform this action."}[a.code]??"Failed to update city. Please try again later.":"Unexpected error. Please try again."}};function CC(t,e){return function(){return t.apply(e,arguments)}}const{toString:hU}=Object.prototype,{getPrototypeOf:y0}=Object,dm=(t=>e=>{const n=hU.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),fi=t=>(t=t.toLowerCase(),e=>dm(e)===t),pm=t=>e=>typeof e===t,{isArray:Cu}=Array,_h=pm("undefined");function fU(t){return t!==null&&!_h(t)&&t.constructor!==null&&!_h(t.constructor)&&vr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const OC=fi("ArrayBuffer");function dU(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&OC(t.buffer),e}const pU=pm("string"),vr=pm("function"),IC=pm("number"),mm=t=>t!==null&&typeof t=="object",mU=t=>t===!0||t===!1,zd=t=>{if(dm(t)!=="object")return!1;const e=y0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},_U=fi("Date"),gU=fi("File"),vU=fi("Blob"),yU=fi("FileList"),EU=t=>mm(t)&&vr(t.pipe),bU=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||vr(t.append)&&((e=dm(t))==="formdata"||e==="object"&&vr(t.toString)&&t.toString()==="[object FormData]"))},wU=fi("URLSearchParams"),[TU,SU,AU,RU]=["ReadableStream","Request","Response","Headers"].map(fi),CU=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,a;if(typeof t!="object"&&(t=[t]),Cu(t))for(r=0,a=t.length;r<a;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),u=o.length;let h;for(r=0;r<u;r++)h=o[r],e.call(null,t[h],h,t)}}function DC(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,a;for(;r-- >0;)if(a=n[r],e===a.toLowerCase())return a;return null}const Lo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xC=t=>!_h(t)&&t!==Lo;function $v(){const{caseless:t}=xC(this)&&this||{},e={},n=(r,a)=>{const o=t&&DC(e,a)||a;zd(e[o])&&zd(r)?e[o]=$v(e[o],r):zd(r)?e[o]=$v({},r):Cu(r)?e[o]=r.slice():e[o]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&qh(arguments[r],n);return e}const OU=(t,e,n,{allOwnKeys:r}={})=>(qh(e,(a,o)=>{n&&vr(a)?t[o]=CC(a,n):t[o]=a},{allOwnKeys:r}),t),IU=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),DU=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},xU=(t,e,n,r)=>{let a,o,u;const h={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),o=a.length;o-- >0;)u=a[o],(!r||r(u,t,e))&&!h[u]&&(e[u]=t[u],h[u]=!0);t=n!==!1&&y0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},NU=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},PU=t=>{if(!t)return null;if(Cu(t))return t;let e=t.length;if(!IC(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},MU=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&y0(Uint8Array)),kU=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let a;for(;(a=r.next())&&!a.done;){const o=a.value;e.call(t,o[0],o[1])}},LU=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},VU=fi("HTMLFormElement"),UU=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),_S=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),jU=fi("RegExp"),NC=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};qh(n,(a,o)=>{let u;(u=e(a,o,t))!==!1&&(r[o]=u||a)}),Object.defineProperties(t,r)},BU=t=>{NC(t,(e,n)=>{if(vr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(vr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},zU=(t,e)=>{const n={},r=a=>{a.forEach(o=>{n[o]=!0})};return Cu(t)?r(t):r(String(t).split(e)),n},FU=()=>{},qU=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function HU(t){return!!(t&&vr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const $U=t=>{const e=new Array(10),n=(r,a)=>{if(mm(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[a]=r;const o=Cu(r)?[]:{};return qh(r,(u,h)=>{const d=n(u,a+1);!_h(d)&&(o[h]=d)}),e[a]=void 0,o}}return r};return n(t,0)},GU=fi("AsyncFunction"),KU=t=>t&&(mm(t)||vr(t))&&vr(t.then)&&vr(t.catch),PC=((t,e)=>t?setImmediate:e?((n,r)=>(Lo.addEventListener("message",({source:a,data:o})=>{a===Lo&&o===n&&r.length&&r.shift()()},!1),a=>{r.push(a),Lo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",vr(Lo.postMessage)),QU=typeof queueMicrotask<"u"?queueMicrotask.bind(Lo):typeof process<"u"&&process.nextTick||PC,te={isArray:Cu,isArrayBuffer:OC,isBuffer:fU,isFormData:bU,isArrayBufferView:dU,isString:pU,isNumber:IC,isBoolean:mU,isObject:mm,isPlainObject:zd,isReadableStream:TU,isRequest:SU,isResponse:AU,isHeaders:RU,isUndefined:_h,isDate:_U,isFile:gU,isBlob:vU,isRegExp:jU,isFunction:vr,isStream:EU,isURLSearchParams:wU,isTypedArray:MU,isFileList:yU,forEach:qh,merge:$v,extend:OU,trim:CU,stripBOM:IU,inherits:DU,toFlatObject:xU,kindOf:dm,kindOfTest:fi,endsWith:NU,toArray:PU,forEachEntry:kU,matchAll:LU,isHTMLForm:VU,hasOwnProperty:_S,hasOwnProp:_S,reduceDescriptors:NC,freezeMethods:BU,toObjectSet:zU,toCamelCase:UU,noop:FU,toFiniteNumber:qU,findKey:DC,global:Lo,isContextDefined:xC,isSpecCompliantForm:HU,toJSONObject:$U,isAsyncFn:GU,isThenable:KU,setImmediate:PC,asap:QU};function Ge(t,e,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}te.inherits(Ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const MC=Ge.prototype,kC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{kC[t]={value:t}});Object.defineProperties(Ge,kC);Object.defineProperty(MC,"isAxiosError",{value:!0});Ge.from=(t,e,n,r,a,o)=>{const u=Object.create(MC);return te.toFlatObject(t,u,function(d){return d!==Error.prototype},h=>h!=="isAxiosError"),Ge.call(u,t.message,e,n,r,a),u.cause=t,u.name=t.name,o&&Object.assign(u,o),u};const YU=null;function Gv(t){return te.isPlainObject(t)||te.isArray(t)}function LC(t){return te.endsWith(t,"[]")?t.slice(0,-2):t}function gS(t,e,n){return t?t.concat(e).map(function(a,o){return a=LC(a),!n&&o?"["+a+"]":a}).join(n?".":""):e}function XU(t){return te.isArray(t)&&!t.some(Gv)}const WU=te.toFlatObject(te,{},null,function(e){return/^is[A-Z]/.test(e)});function _m(t,e,n){if(!te.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=te.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(P,O){return!te.isUndefined(O[P])});const r=n.metaTokens,a=n.visitor||g,o=n.dots,u=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(e);if(!te.isFunction(a))throw new TypeError("visitor must be a function");function m(S){if(S===null)return"";if(te.isDate(S))return S.toISOString();if(!d&&te.isBlob(S))throw new Ge("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(S)||te.isTypedArray(S)?d&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function g(S,P,O){let U=S;if(S&&!O&&typeof S=="object"){if(te.endsWith(P,"{}"))P=r?P:P.slice(0,-2),S=JSON.stringify(S);else if(te.isArray(S)&&XU(S)||(te.isFileList(S)||te.endsWith(P,"[]"))&&(U=te.toArray(S)))return P=LC(P),U.forEach(function(Q,ee){!(te.isUndefined(Q)||Q===null)&&e.append(u===!0?gS([P],ee,o):u===null?P:P+"[]",m(Q))}),!1}return Gv(S)?!0:(e.append(gS(O,P,o),m(S)),!1)}const y=[],w=Object.assign(WU,{defaultVisitor:g,convertValue:m,isVisitable:Gv});function T(S,P){if(!te.isUndefined(S)){if(y.indexOf(S)!==-1)throw Error("Circular reference detected in "+P.join("."));y.push(S),te.forEach(S,function(U,H){(!(te.isUndefined(U)||U===null)&&a.call(e,U,te.isString(H)?H.trim():H,P,w))===!0&&T(U,P?P.concat(H):[H])}),y.pop()}}if(!te.isObject(t))throw new TypeError("data must be an object");return T(t),e}function vS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function E0(t,e){this._pairs=[],t&&_m(t,this,e)}const VC=E0.prototype;VC.append=function(e,n){this._pairs.push([e,n])};VC.toString=function(e){const n=e?function(r){return e.call(this,r,vS)}:vS;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function ZU(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function UC(t,e,n){if(!e)return t;const r=n&&n.encode||ZU;te.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let o;if(a?o=a(e,n):o=te.isURLSearchParams(e)?e.toString():new E0(e,n).toString(r),o){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class yS{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){te.forEach(this.handlers,function(r){r!==null&&e(r)})}}const jC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},JU=typeof URLSearchParams<"u"?URLSearchParams:E0,ej=typeof FormData<"u"?FormData:null,tj=typeof Blob<"u"?Blob:null,nj={isBrowser:!0,classes:{URLSearchParams:JU,FormData:ej,Blob:tj},protocols:["http","https","file","blob","url","data"]},b0=typeof window<"u"&&typeof document<"u",Kv=typeof navigator=="object"&&navigator||void 0,rj=b0&&(!Kv||["ReactNative","NativeScript","NS"].indexOf(Kv.product)<0),ij=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",sj=b0&&window.location.href||"http://localhost",aj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:b0,hasStandardBrowserEnv:rj,hasStandardBrowserWebWorkerEnv:ij,navigator:Kv,origin:sj},Symbol.toStringTag,{value:"Module"})),Fn={...aj,...nj};function oj(t,e){return _m(t,new Fn.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,o){return Fn.isNode&&te.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function lj(t){return te.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function uj(t){const e={},n=Object.keys(t);let r;const a=n.length;let o;for(r=0;r<a;r++)o=n[r],e[o]=t[o];return e}function BC(t){function e(n,r,a,o){let u=n[o++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),d=o>=n.length;return u=!u&&te.isArray(a)?a.length:u,d?(te.hasOwnProp(a,u)?a[u]=[a[u],r]:a[u]=r,!h):((!a[u]||!te.isObject(a[u]))&&(a[u]=[]),e(n,r,a[u],o)&&te.isArray(a[u])&&(a[u]=uj(a[u])),!h)}if(te.isFormData(t)&&te.isFunction(t.entries)){const n={};return te.forEachEntry(t,(r,a)=>{e(lj(r),a,n,0)}),n}return null}function cj(t,e,n){if(te.isString(t))try{return(e||JSON.parse)(t),te.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Hh={transitional:jC,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,o=te.isObject(e);if(o&&te.isHTMLForm(e)&&(e=new FormData(e)),te.isFormData(e))return a?JSON.stringify(BC(e)):e;if(te.isArrayBuffer(e)||te.isBuffer(e)||te.isStream(e)||te.isFile(e)||te.isBlob(e)||te.isReadableStream(e))return e;if(te.isArrayBufferView(e))return e.buffer;if(te.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return oj(e,this.formSerializer).toString();if((h=te.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return _m(h?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||a?(n.setContentType("application/json",!1),cj(e)):e}],transformResponse:[function(e){const n=this.transitional||Hh.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(te.isResponse(e)||te.isReadableStream(e))return e;if(e&&te.isString(e)&&(r&&!this.responseType||a)){const u=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(h){if(u)throw h.name==="SyntaxError"?Ge.from(h,Ge.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fn.classes.FormData,Blob:Fn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],t=>{Hh.headers[t]={}});const hj=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fj=t=>{const e={};let n,r,a;return t&&t.split(`
`).forEach(function(u){a=u.indexOf(":"),n=u.substring(0,a).trim().toLowerCase(),r=u.substring(a+1).trim(),!(!n||e[n]&&hj[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},ES=Symbol("internals");function Lc(t){return t&&String(t).trim().toLowerCase()}function Fd(t){return t===!1||t==null?t:te.isArray(t)?t.map(Fd):String(t)}function dj(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const pj=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Zg(t,e,n,r,a){if(te.isFunction(r))return r.call(this,e,n);if(a&&(e=n),!!te.isString(e)){if(te.isString(r))return e.indexOf(r)!==-1;if(te.isRegExp(r))return r.test(e)}}function mj(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function _j(t,e){const n=te.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(a,o,u){return this[r].call(this,e,a,o,u)},configurable:!0})})}let ir=class{constructor(e){e&&this.set(e)}set(e,n,r){const a=this;function o(h,d,m){const g=Lc(d);if(!g)throw new Error("header name must be a non-empty string");const y=te.findKey(a,g);(!y||a[y]===void 0||m===!0||m===void 0&&a[y]!==!1)&&(a[y||d]=Fd(h))}const u=(h,d)=>te.forEach(h,(m,g)=>o(m,g,d));if(te.isPlainObject(e)||e instanceof this.constructor)u(e,n);else if(te.isString(e)&&(e=e.trim())&&!pj(e))u(fj(e),n);else if(te.isHeaders(e))for(const[h,d]of e.entries())o(d,h,r);else e!=null&&o(n,e,r);return this}get(e,n){if(e=Lc(e),e){const r=te.findKey(this,e);if(r){const a=this[r];if(!n)return a;if(n===!0)return dj(a);if(te.isFunction(n))return n.call(this,a,r);if(te.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Lc(e),e){const r=te.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Zg(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let a=!1;function o(u){if(u=Lc(u),u){const h=te.findKey(r,u);h&&(!n||Zg(r,r[h],h,n))&&(delete r[h],a=!0)}}return te.isArray(e)?e.forEach(o):o(e),a}clear(e){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const o=n[r];(!e||Zg(this,this[o],o,e,!0))&&(delete this[o],a=!0)}return a}normalize(e){const n=this,r={};return te.forEach(this,(a,o)=>{const u=te.findKey(r,o);if(u){n[u]=Fd(a),delete n[o];return}const h=e?mj(o):String(o).trim();h!==o&&delete n[o],n[h]=Fd(a),r[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return te.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=e&&te.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(a=>r.set(a)),r}static accessor(e){const r=(this[ES]=this[ES]={accessors:{}}).accessors,a=this.prototype;function o(u){const h=Lc(u);r[h]||(_j(a,u),r[h]=!0)}return te.isArray(e)?e.forEach(o):o(e),this}};ir.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors(ir.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});te.freezeMethods(ir);function Jg(t,e){const n=this||Hh,r=e||n,a=ir.from(r.headers);let o=r.data;return te.forEach(t,function(h){o=h.call(n,o,a.normalize(),e?e.status:void 0)}),a.normalize(),o}function zC(t){return!!(t&&t.__CANCEL__)}function Ou(t,e,n){Ge.call(this,t??"canceled",Ge.ERR_CANCELED,e,n),this.name="CanceledError"}te.inherits(Ou,Ge,{__CANCEL__:!0});function FC(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ge("Request failed with status code "+n.status,[Ge.ERR_BAD_REQUEST,Ge.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function gj(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function vj(t,e){t=t||10;const n=new Array(t),r=new Array(t);let a=0,o=0,u;return e=e!==void 0?e:1e3,function(d){const m=Date.now(),g=r[o];u||(u=m),n[a]=d,r[a]=m;let y=o,w=0;for(;y!==a;)w+=n[y++],y=y%t;if(a=(a+1)%t,a===o&&(o=(o+1)%t),m-u<e)return;const T=g&&m-g;return T?Math.round(w*1e3/T):void 0}}function yj(t,e){let n=0,r=1e3/e,a,o;const u=(m,g=Date.now())=>{n=g,a=null,o&&(clearTimeout(o),o=null),t.apply(null,m)};return[(...m)=>{const g=Date.now(),y=g-n;y>=r?u(m,g):(a=m,o||(o=setTimeout(()=>{o=null,u(a)},r-y)))},()=>a&&u(a)]}const Rp=(t,e,n=3)=>{let r=0;const a=vj(50,250);return yj(o=>{const u=o.loaded,h=o.lengthComputable?o.total:void 0,d=u-r,m=a(d),g=u<=h;r=u;const y={loaded:u,total:h,progress:h?u/h:void 0,bytes:d,rate:m||void 0,estimated:m&&h&&g?(h-u)/m:void 0,event:o,lengthComputable:h!=null,[e?"download":"upload"]:!0};t(y)},n)},bS=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},wS=t=>(...e)=>te.asap(()=>t(...e)),Ej=Fn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Fn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Fn.origin),Fn.navigator&&/(msie|trident)/i.test(Fn.navigator.userAgent)):()=>!0,bj=Fn.hasStandardBrowserEnv?{write(t,e,n,r,a,o){const u=[t+"="+encodeURIComponent(e)];te.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),te.isString(r)&&u.push("path="+r),te.isString(a)&&u.push("domain="+a),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function wj(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Tj(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function qC(t,e,n){let r=!wj(e);return t&&(r||n==!1)?Tj(t,e):e}const TS=t=>t instanceof ir?{...t}:t;function Yo(t,e){e=e||{};const n={};function r(m,g,y,w){return te.isPlainObject(m)&&te.isPlainObject(g)?te.merge.call({caseless:w},m,g):te.isPlainObject(g)?te.merge({},g):te.isArray(g)?g.slice():g}function a(m,g,y,w){if(te.isUndefined(g)){if(!te.isUndefined(m))return r(void 0,m,y,w)}else return r(m,g,y,w)}function o(m,g){if(!te.isUndefined(g))return r(void 0,g)}function u(m,g){if(te.isUndefined(g)){if(!te.isUndefined(m))return r(void 0,m)}else return r(void 0,g)}function h(m,g,y){if(y in e)return r(m,g);if(y in t)return r(void 0,m)}const d={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(m,g,y)=>a(TS(m),TS(g),y,!0)};return te.forEach(Object.keys(Object.assign({},t,e)),function(g){const y=d[g]||a,w=y(t[g],e[g],g);te.isUndefined(w)&&y!==h||(n[g]=w)}),n}const HC=t=>{const e=Yo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:o,headers:u,auth:h}=e;e.headers=u=ir.from(u),e.url=UC(qC(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let d;if(te.isFormData(n)){if(Fn.hasStandardBrowserEnv||Fn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((d=u.getContentType())!==!1){const[m,...g]=d?d.split(";").map(y=>y.trim()).filter(Boolean):[];u.setContentType([m||"multipart/form-data",...g].join("; "))}}if(Fn.hasStandardBrowserEnv&&(r&&te.isFunction(r)&&(r=r(e)),r||r!==!1&&Ej(e.url))){const m=a&&o&&bj.read(o);m&&u.set(a,m)}return e},Sj=typeof XMLHttpRequest<"u",Aj=Sj&&function(t){return new Promise(function(n,r){const a=HC(t);let o=a.data;const u=ir.from(a.headers).normalize();let{responseType:h,onUploadProgress:d,onDownloadProgress:m}=a,g,y,w,T,S;function P(){T&&T(),S&&S(),a.cancelToken&&a.cancelToken.unsubscribe(g),a.signal&&a.signal.removeEventListener("abort",g)}let O=new XMLHttpRequest;O.open(a.method.toUpperCase(),a.url,!0),O.timeout=a.timeout;function U(){if(!O)return;const Q=ir.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),k={data:!h||h==="text"||h==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:Q,config:t,request:O};FC(function(M){n(M),P()},function(M){r(M),P()},k),O=null}"onloadend"in O?O.onloadend=U:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(U)},O.onabort=function(){O&&(r(new Ge("Request aborted",Ge.ECONNABORTED,t,O)),O=null)},O.onerror=function(){r(new Ge("Network Error",Ge.ERR_NETWORK,t,O)),O=null},O.ontimeout=function(){let ee=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const k=a.transitional||jC;a.timeoutErrorMessage&&(ee=a.timeoutErrorMessage),r(new Ge(ee,k.clarifyTimeoutError?Ge.ETIMEDOUT:Ge.ECONNABORTED,t,O)),O=null},o===void 0&&u.setContentType(null),"setRequestHeader"in O&&te.forEach(u.toJSON(),function(ee,k){O.setRequestHeader(k,ee)}),te.isUndefined(a.withCredentials)||(O.withCredentials=!!a.withCredentials),h&&h!=="json"&&(O.responseType=a.responseType),m&&([w,S]=Rp(m,!0),O.addEventListener("progress",w)),d&&O.upload&&([y,T]=Rp(d),O.upload.addEventListener("progress",y),O.upload.addEventListener("loadend",T)),(a.cancelToken||a.signal)&&(g=Q=>{O&&(r(!Q||Q.type?new Ou(null,t,O):Q),O.abort(),O=null)},a.cancelToken&&a.cancelToken.subscribe(g),a.signal&&(a.signal.aborted?g():a.signal.addEventListener("abort",g)));const H=gj(a.url);if(H&&Fn.protocols.indexOf(H)===-1){r(new Ge("Unsupported protocol "+H+":",Ge.ERR_BAD_REQUEST,t));return}O.send(o||null)})},Rj=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,a;const o=function(m){if(!a){a=!0,h();const g=m instanceof Error?m:this.reason;r.abort(g instanceof Ge?g:new Ou(g instanceof Error?g.message:g))}};let u=e&&setTimeout(()=>{u=null,o(new Ge(`timeout ${e} of ms exceeded`,Ge.ETIMEDOUT))},e);const h=()=>{t&&(u&&clearTimeout(u),u=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(o):m.removeEventListener("abort",o)}),t=null)};t.forEach(m=>m.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>te.asap(h),d}},Cj=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,a;for(;r<n;)a=r+e,yield t.slice(r,a),r=a},Oj=async function*(t,e){for await(const n of Ij(t))yield*Cj(n,e)},Ij=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},SS=(t,e,n,r)=>{const a=Oj(t,e);let o=0,u,h=d=>{u||(u=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:m,value:g}=await a.next();if(m){h(),d.close();return}let y=g.byteLength;if(n){let w=o+=y;n(w)}d.enqueue(new Uint8Array(g))}catch(m){throw h(m),m}},cancel(d){return h(d),a.return()}},{highWaterMark:2})},gm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",$C=gm&&typeof ReadableStream=="function",Dj=gm&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),GC=(t,...e)=>{try{return!!t(...e)}catch{return!1}},xj=$C&&GC(()=>{let t=!1;const e=new Request(Fn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),AS=64*1024,Qv=$C&&GC(()=>te.isReadableStream(new Response("").body)),Cp={stream:Qv&&(t=>t.body)};gm&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Cp[e]&&(Cp[e]=te.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Ge(`Response type '${e}' is not supported`,Ge.ERR_NOT_SUPPORT,r)})})})(new Response);const Nj=async t=>{if(t==null)return 0;if(te.isBlob(t))return t.size;if(te.isSpecCompliantForm(t))return(await new Request(Fn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(te.isArrayBufferView(t)||te.isArrayBuffer(t))return t.byteLength;if(te.isURLSearchParams(t)&&(t=t+""),te.isString(t))return(await Dj(t)).byteLength},Pj=async(t,e)=>{const n=te.toFiniteNumber(t.getContentLength());return n??Nj(e)},Mj=gm&&(async t=>{let{url:e,method:n,data:r,signal:a,cancelToken:o,timeout:u,onDownloadProgress:h,onUploadProgress:d,responseType:m,headers:g,withCredentials:y="same-origin",fetchOptions:w}=HC(t);m=m?(m+"").toLowerCase():"text";let T=Rj([a,o&&o.toAbortSignal()],u),S;const P=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let O;try{if(d&&xj&&n!=="get"&&n!=="head"&&(O=await Pj(g,r))!==0){let k=new Request(e,{method:"POST",body:r,duplex:"half"}),ie;if(te.isFormData(r)&&(ie=k.headers.get("content-type"))&&g.setContentType(ie),k.body){const[M,I]=bS(O,Rp(wS(d)));r=SS(k.body,AS,M,I)}}te.isString(y)||(y=y?"include":"omit");const U="credentials"in Request.prototype;S=new Request(e,{...w,signal:T,method:n.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:U?y:void 0});let H=await fetch(S);const Q=Qv&&(m==="stream"||m==="response");if(Qv&&(h||Q&&P)){const k={};["status","statusText","headers"].forEach(C=>{k[C]=H[C]});const ie=te.toFiniteNumber(H.headers.get("content-length")),[M,I]=h&&bS(ie,Rp(wS(h),!0))||[];H=new Response(SS(H.body,AS,M,()=>{I&&I(),P&&P()}),k)}m=m||"text";let ee=await Cp[te.findKey(Cp,m)||"text"](H,t);return!Q&&P&&P(),await new Promise((k,ie)=>{FC(k,ie,{data:ee,headers:ir.from(H.headers),status:H.status,statusText:H.statusText,config:t,request:S})})}catch(U){throw P&&P(),U&&U.name==="TypeError"&&/fetch/i.test(U.message)?Object.assign(new Ge("Network Error",Ge.ERR_NETWORK,t,S),{cause:U.cause||U}):Ge.from(U,U&&U.code,t,S)}}),Yv={http:YU,xhr:Aj,fetch:Mj};te.forEach(Yv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const RS=t=>`- ${t}`,kj=t=>te.isFunction(t)||t===null||t===!1,KC={getAdapter:t=>{t=te.isArray(t)?t:[t];const{length:e}=t;let n,r;const a={};for(let o=0;o<e;o++){n=t[o];let u;if(r=n,!kj(n)&&(r=Yv[(u=String(n)).toLowerCase()],r===void 0))throw new Ge(`Unknown adapter '${u}'`);if(r)break;a[u||"#"+o]=r}if(!r){const o=Object.entries(a).map(([h,d])=>`adapter ${h} `+(d===!1?"is not supported by the environment":"is not available in the build"));let u=e?o.length>1?`since :
`+o.map(RS).join(`
`):" "+RS(o[0]):"as no adapter specified";throw new Ge("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:Yv};function ev(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ou(null,t)}function CS(t){return ev(t),t.headers=ir.from(t.headers),t.data=Jg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),KC.getAdapter(t.adapter||Hh.adapter)(t).then(function(r){return ev(t),r.data=Jg.call(t,t.transformResponse,r),r.headers=ir.from(r.headers),r},function(r){return zC(r)||(ev(t),r&&r.response&&(r.response.data=Jg.call(t,t.transformResponse,r.response),r.response.headers=ir.from(r.response.headers))),Promise.reject(r)})}const QC="1.8.4",vm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{vm[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const OS={};vm.transitional=function(e,n,r){function a(o,u){return"[Axios v"+QC+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return(o,u,h)=>{if(e===!1)throw new Ge(a(u," has been removed"+(n?" in "+n:"")),Ge.ERR_DEPRECATED);return n&&!OS[u]&&(OS[u]=!0,console.warn(a(u," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,u,h):!0}};vm.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Lj(t,e,n){if(typeof t!="object")throw new Ge("options must be an object",Ge.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let a=r.length;for(;a-- >0;){const o=r[a],u=e[o];if(u){const h=t[o],d=h===void 0||u(h,o,t);if(d!==!0)throw new Ge("option "+o+" must be "+d,Ge.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ge("Unknown option "+o,Ge.ERR_BAD_OPTION)}}const qd={assertOptions:Lj,validators:vm},xi=qd.validators;let Vo=class{constructor(e){this.defaults=e,this.interceptors={request:new yS,response:new yS}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Yo(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:o}=n;r!==void 0&&qd.assertOptions(r,{silentJSONParsing:xi.transitional(xi.boolean),forcedJSONParsing:xi.transitional(xi.boolean),clarifyTimeoutError:xi.transitional(xi.boolean)},!1),a!=null&&(te.isFunction(a)?n.paramsSerializer={serialize:a}:qd.assertOptions(a,{encode:xi.function,serialize:xi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),qd.assertOptions(n,{baseUrl:xi.spelling("baseURL"),withXsrfToken:xi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=o&&te.merge(o.common,o[n.method]);o&&te.forEach(["delete","get","head","post","put","patch","common"],S=>{delete o[S]}),n.headers=ir.concat(u,o);const h=[];let d=!0;this.interceptors.request.forEach(function(P){typeof P.runWhen=="function"&&P.runWhen(n)===!1||(d=d&&P.synchronous,h.unshift(P.fulfilled,P.rejected))});const m=[];this.interceptors.response.forEach(function(P){m.push(P.fulfilled,P.rejected)});let g,y=0,w;if(!d){const S=[CS.bind(this),void 0];for(S.unshift.apply(S,h),S.push.apply(S,m),w=S.length,g=Promise.resolve(n);y<w;)g=g.then(S[y++],S[y++]);return g}w=h.length;let T=n;for(y=0;y<w;){const S=h[y++],P=h[y++];try{T=S(T)}catch(O){P.call(this,O);break}}try{g=CS.call(this,T)}catch(S){return Promise.reject(S)}for(y=0,w=m.length;y<w;)g=g.then(m[y++],m[y++]);return g}getUri(e){e=Yo(this.defaults,e);const n=qC(e.baseURL,e.url,e.allowAbsoluteUrls);return UC(n,e.params,e.paramsSerializer)}};te.forEach(["delete","get","head","options"],function(e){Vo.prototype[e]=function(n,r){return this.request(Yo(r||{},{method:e,url:n,data:(r||{}).data}))}});te.forEach(["post","put","patch"],function(e){function n(r){return function(o,u,h){return this.request(Yo(h||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}Vo.prototype[e]=n(),Vo.prototype[e+"Form"]=n(!0)});let Vj=class YC{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(a=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](a);r._listeners=null}),this.promise.then=a=>{let o;const u=new Promise(h=>{r.subscribe(h),o=h}).then(a);return u.cancel=function(){r.unsubscribe(o)},u},e(function(o,u,h){r.reason||(r.reason=new Ou(o,u,h),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new YC(function(a){e=a}),cancel:e}}};function Uj(t){return function(n){return t.apply(null,n)}}function jj(t){return te.isObject(t)&&t.isAxiosError===!0}const Xv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Xv).forEach(([t,e])=>{Xv[e]=t});function XC(t){const e=new Vo(t),n=CC(Vo.prototype.request,e);return te.extend(n,Vo.prototype,e,{allOwnKeys:!0}),te.extend(n,e,null,{allOwnKeys:!0}),n.create=function(a){return XC(Yo(t,a))},n}const Kt=XC(Hh);Kt.Axios=Vo;Kt.CanceledError=Ou;Kt.CancelToken=Vj;Kt.isCancel=zC;Kt.VERSION=QC;Kt.toFormData=_m;Kt.AxiosError=Ge;Kt.Cancel=Kt.CanceledError;Kt.all=function(e){return Promise.all(e)};Kt.spread=Uj;Kt.isAxiosError=jj;Kt.mergeConfig=Yo;Kt.AxiosHeaders=ir;Kt.formToJSON=t=>BC(te.isHTMLForm(t)?new FormData(t):t);Kt.getAdapter=KC.getAdapter;Kt.HttpStatusCode=Xv;Kt.default=Kt;const{Axios:cB,AxiosError:hB,CanceledError:fB,isCancel:dB,CancelToken:pB,VERSION:mB,all:_B,Cancel:gB,isAxiosError:vB,spread:yB,toFormData:EB,AxiosHeaders:bB,HttpStatusCode:wB,formToJSON:TB,getAdapter:SB,mergeConfig:AB}=Kt,Bj="676134b682142225bf54ca5441fe069a",zj="https://api.openweathermap.org/data/2.5/weather",Fj=async t=>{var e;try{const r=(await Kt.get(zj,{params:{q:t,appid:Bj,units:"metric",lang:"en"}})).data;return{temp:Math.trunc(r.main.temp),localTime:s6(r.timezone)}}catch(n){if(Kt.isAxiosError(n)&&((e=n.response)==null?void 0:e.status)===404){console.warn(`City not found: ${t}`);return}throw console.error("Error while getting city information",n),n}};class qj{constructor(e,n,r,a){ye(this,"isInit",!1);ye(this,"_isLoading",!0);ye(this,"_minLoading",!0);ye(this,"_requestError",null);ye(this,"_unsubscribeFn",null);ye(this,"initUrlSync",de((e,n)=>this._urlSyncStore.initUrlSync(e,n)));ye(this,"initFromUrl",de(async e=>{try{this.isInit||(await this._filterStore.loadDropdownOptions(),await this._fetchAllWithRetry(),this._subscribeToUpdates(),sn(()=>{this.isInit=!0})),sn(async()=>{await this._urlSyncStore.initFromUrl(e)}),await this._loadPaginatedCities()}catch(n){console.error("Error initializing from URL:",n)}}));ye(this,"setError",de(e=>{this._requestError=e}));ye(this,"_fetchAllWithRetry",de(async(e=3,n=2e3)=>{this._startLoading();const r=await Gc({mode:"all"});if(typeof r=="string"){e>0?setTimeout(()=>this._fetchAllWithRetry(e-1,n),n):sn(()=>{this.setError(r),this._isLoading=!1});return}sn(()=>{this.setError(null),this._citiesDataStore.updateCities(r),this._isLoading=!1})}));ye(this,"fetchRelated",de(async(e,n)=>{this._startLoading(),await Gc({mode:"related",relatedCities:e,currentCityId:n}).then(r=>{sn(()=>{Array.isArray(r)&&this._citiesDataStore.updateRelatedCities(r)})}).finally(()=>{sn(()=>{this._isLoading=!1})})}));ye(this,"clearRelated",de(()=>{this._citiesDataStore.updateRelatedCities([])}));ye(this,"fetchCurrent",de(async e=>{this._startLoading();const n=await Gc({mode:"single",currentCityId:e});if(typeof n!="string"){const r=await Fj(n.name);sn(async()=>{this._citiesDataStore.updateCurrentCity({...n,...r})})}sn(()=>{this._isLoading=!1})}));ye(this,"_subscribeToUpdates",de(()=>{this._unsubscribeFn=cU({mode:"all",onUpdate:e=>{if(this._startLoading(),typeof e=="string"){sn(()=>{this.setError(e)});return}sn(()=>{this._citiesDataStore.updateCities(e),this._isLoading=!1})}})}));ye(this,"toggleLike",de(async(e,n)=>{const r=await mS({mode:"like",cityId:e,userId:n});sn(()=>{if(typeof r=="string"){this.setError(r);return}this._citiesDataStore.updateCityLikes(e,r)})}));ye(this,"addComment",de(async(e,n,r)=>{const a=await mS({mode:"comment",cityId:e,userId:n,message:r});sn(()=>{if(typeof a=="string")return a;this._citiesDataStore.updateCityComments(e,a)})}));ye(this,"_loadPaginatedCities",de(async()=>{this._startLoading();const e=this._paginationStore.currentPage===1||this._filterStore.searchQuery||this._filterStore.dropdownFilters.length>0,n=e?1:this._paginationStore.currentPage,r=this._filterStore.dropdownFilters,a=e?null:this._paginationStore.targetCursor,o=await Gc({mode:"paginate",viewPerPage:this._paginationStore.viewPerPage,searchQuery:this._filterStore.searchQuery,currentPage:this._paginationStore.currentPage,dropdownFilters:r,lastDoc:a});sn(()=>{typeof o!="string"&&"data"in o&&(this._citiesDataStore.updatePaginatedCities(o.data),this._paginationStore.setTotalPaginationCities(o.total),o.lastDoc&&this._paginationStore.updateLastDoc(o.lastDoc,n))}),sn(()=>{this._isLoading=!1})}));ye(this,"_startLoading",de(()=>{this._startMinLoading(),this._isLoading=!0,this._requestError=null}));ye(this,"_startMinLoading",de(()=>{setTimeout(()=>{sn(()=>{this._minLoading=!1})},t6)}));this._urlSyncStore=e,this._citiesDataStore=n,this._paginationStore=r,this._filterStore=a,n9(this,{isInit:ze,_isLoading:ze,_minLoading:ze,_requestError:ze,_unsubscribeFn:ze,requestError:Vt,initUrlSync:de,initFromUrl:de,setError:de,_startLoading:de,_startMinLoading:de,_fetchAllWithRetry:de,_subscribeToUpdates:de,_loadPaginatedCities:de,fetchRelated:de,fetchCurrent:de,toggleLike:de})}get requestError(){return this._requestError}get isLoading(){return this._isLoading||this._minLoading}dispose(){var e;(e=this._unsubscribeFn)==null||e.call(this)}}class Hj{constructor(){ye(this,"_modal",null);ye(this,"openModal",de(e=>{this._modal=e}));ye(this,"closeModal",de(()=>{this._modal=null}));Qi(this,{_modal:ze,modal:Vt,openModal:de,closeModal:de})}get modal(){return this._modal}}const $j=async()=>{try{return await $k(v0),!0}catch(t){return t instanceof Hn?"Failed to log out. Please try again.":"Unexpected error. Please try again."}},Gj=async({email:t,password:e})=>{try{return(await Fk(v0,t,e)).user}catch(n){return n instanceof Hn?{"auth/invalid-email":"Invalid email format","auth/wrong-password":"Incorrect email or password","auth/user-not-found":"Incorrect email or password"}[n.code]??"Login failed. Please try again.":"Unexpected error. Please try again."}},Kj=async({email:t,password:e})=>{try{return(await zk(v0,t,e)).user}catch(n){return n instanceof Hn?{"auth/email-already-in-use":"Email already in use","auth/invalid-email":"Invalid email format","auth/weak-password":"Password should be at least 6 characters"}[n.code]??"Registration failed. Please try again.":"Unexpected error. Please try again."}};class Qj{constructor(){ye(this,"_user",null);ye(this,"register",de(async(e,n)=>{const r=await Kj({email:e,password:n});if(typeof r=="string")return r;this._user=r}));ye(this,"login",de(async(e,n)=>{const r=await Gj({email:e,password:n});if(typeof r=="string")return r;sn(()=>{this._user=r})}));ye(this,"logout",de(async()=>{const e=await $j();if(typeof e=="string")return e;this._user=null}));Qi(this,{_user:ze,user:Vt,register:de,login:de,logout:de})}get user(){return this._user}}class Yj{constructor(){ye(this,"_toasts",[]);ye(this,"_counter",0);ye(this,"showToast",de((e,n,r,a,o,u)=>{this._clearToasts();const h=this._counter++,d=()=>{r==null||r(),this.hideToast(h)};this._toasts.push({id:h,message:e,variant:n,onClose:d,duration:a,showAnimation:o,className:u})}));ye(this,"hideToast",de(e=>{this._toasts=this._toasts.filter(n=>n.id!==e)}));ye(this,"_clearToasts",de(()=>{this._toasts=[]}));Qi(this,{_toasts:ze,_counter:ze,toasts:Vt,showToast:de,hideToast:de,_clearToasts:de})}get toasts(){return this._toasts}}class Xj{constructor(){ye(this,"pathname","");ye(this,"search","");Qi(this,{pathname:ze,search:ze,setLocation:de})}setLocation(e,n){this.pathname=e,this.search=n}}class Wj{constructor(e,n){ye(this,"initUrlSync",(e,n)=>o2(()=>({searchQuery:this._filterStore.searchQuery,currentPage:this._paginationStore.currentPage,viewPerPage:this._paginationStore.viewPerPage,dropdownFilters:this._filterStore.dropdownFilters}),({searchQuery:r,currentPage:a,viewPerPage:o,dropdownFilters:u})=>{const h=new URLSearchParams;r&&h.set("query",r),a>1&&h.set("page",String(a)),o!==3&&h.set("viewPerPage",String(o)),u.forEach(d=>h.append("filter",d)),e(`${n}?${h.toString()}`)}));ye(this,"initFromUrl",de(async e=>{const n=new URLSearchParams(e);await this._setStateFromQuery(n)}));ye(this,"_setStateFromQuery",de(async e=>{const n=e.get("query")??"",r=Math.max(1,Number(e.get("page"))||1),a=Number(e.get("viewPerPage"))||3,o=e.getAll("filter"),u=this._filterStore.dropdownOptions.filter(({value:d})=>o.includes(d));let h=!1;return this._filterStore.searchQuery!==n&&(this._filterStore.setSearchQuery(n),h=!0),this._paginationStore.currentPage!==r&&(this._paginationStore.setCurrentPage(r),h=!0),this._paginationStore.viewPerPage!==a&&(this._paginationStore.setViewPerPage(a),h=!0),JSON.stringify(this._filterStore.dropdownValue)!==JSON.stringify(u)&&(this._filterStore.setDropdownValue(u),h=!0),h}));this._filterStore=e,this._paginationStore=n,Qi(this,{initFromUrl:de,_setStateFromQuery:de})}}class Zj{constructor(){ye(this,"_cities",[]);ye(this,"_relatedCities",[]);ye(this,"_paginatedCities",[]);ye(this,"_currentCity",null);ye(this,"_citiesLikes",{});ye(this,"_citiesComments",{});ye(this,"updateCities",de(e=>{this._cities=e,this._citiesLikes=Object.fromEntries(this._cities.map(n=>[n.id,n.likes||[]])),this._citiesComments=Object.fromEntries(this._cities.map(n=>[n.id,n.comments||[]]))}));ye(this,"updatePaginatedCities",de(e=>{this._paginatedCities=e}));ye(this,"updateRelatedCities",de(e=>{this._relatedCities=e}));ye(this,"updateCurrentCity",de(e=>{this._currentCity=e}));ye(this,"updateCityLikes",de((e,n)=>{this._citiesLikes={...this._citiesLikes,[e]:n}}));ye(this,"updateCityComments",de((e,n)=>{this._citiesComments={...this._citiesComments,[e]:n}}));Qi(this,{_cities:ze,_relatedCities:ze,_paginatedCities:ze,_currentCity:ze,_citiesLikes:ze,_citiesComments:ze.struct,cities:Vt,relatedCities:Vt,paginatedCities:Vt,mostLikedCity:Vt,currentCity:Vt,citiesLikes:Vt,citiesComments:Vt,updateCities:de,updatePaginatedCities:de,updateRelatedCities:de,updateCurrentCity:de,updateCityLikes:de,updateCityComments:de})}get cities(){return _g(this._cities)}get relatedCities(){return _g(this._relatedCities)}get paginatedCities(){return _g(this._paginatedCities)}get mostLikedCity(){return i6(this._cities)}get currentCity(){return this._currentCity}get citiesLikes(){return this._citiesLikes}get citiesComments(){return this._citiesComments}}class Jj{constructor(){ye(this,"_currentPage",1);ye(this,"_viewPerPage",3);ye(this,"_totalPaginatedCities",0);ye(this,"_lastDocs",[]);ye(this,"setTotalPaginationCities",de(e=>{this._totalPaginatedCities=e}));ye(this,"setCurrentPage",de(e=>{this._currentPage!==e&&(this._currentPage=e)}));ye(this,"setViewPerPage",de(e=>{this.resetPagination(),this._viewPerPage=e}));ye(this,"resetPagination",de(()=>{this._lastDocs=[],this._currentPage=1}));ye(this,"updateLastDoc",de((e,n)=>{n>this._lastDocs.length?this._lastDocs.push(e):this._lastDocs[n-1]=e}));Qi(this,{_currentPage:ze,_viewPerPage:ze,_totalPaginatedCities:ze,_lastDocs:ze,currentPage:Vt,viewPerPage:Vt,totalPaginatedCities:Vt,targetCursor:Vt,setTotalPaginationCities:de,setCurrentPage:de,setViewPerPage:de,resetPagination:de,updateLastDoc:de})}get currentPage(){return this._currentPage}get viewPerPage(){return this._viewPerPage}get totalPaginatedCities(){return this._totalPaginatedCities}get targetCursor(){return this._currentPage===1?null:this._lastDocs[this._currentPage-2]??null}}class eB{constructor(e){ye(this,"_searchQuery","");ye(this,"_dropdownOptions",[]);ye(this,"_dropdownValue",[]);ye(this,"setDropdownValue",de(e=>{this._dropdownValue=e,this._paginationStore.resetPagination()}));ye(this,"setSearchQuery",de(e=>{this._searchQuery=e,this._paginationStore.resetPagination()}));ye(this,"loadDropdownOptions",de(async()=>{const e=await Gc({mode:"options"});sn(()=>{Array.isArray(e)&&(this._dropdownOptions=e)})}));this._paginationStore=e,Qi(this,{_searchQuery:ze,_dropdownOptions:ze,_dropdownValue:ze,dropdownTitle:Vt,dropdownFilters:Vt,dropdownValue:Vt,dropdownOptions:Vt,searchQuery:Vt,setDropdownValue:de,setSearchQuery:de,loadDropdownOptions:de})}get dropdownValue(){return this._dropdownValue}get dropdownOptions(){return this._dropdownOptions}get searchQuery(){return this._searchQuery}get dropdownTitle(){return this._dropdownValue.length===0?"Choose Country":this.dropdownFilters.join(", ")}get dropdownFilters(){return this._dropdownValue.map(({value:e})=>e)}}class tB{constructor(){ye(this,"userStore",new Qj);ye(this,"modalStore",new Hj);ye(this,"toastStore",new Yj);ye(this,"routerStore",new Xj);ye(this,"citiesDataStore",new Zj);ye(this,"paginationStore",new Jj);ye(this,"filterStore",new eB(this.paginationStore));ye(this,"urlSyncStore",new Wj(this.filterStore,this.paginationStore));ye(this,"citiesStore",new qj(this.urlSyncStore,this.citiesDataStore,this.paginationStore,this.filterStore));ye(this,"_navigate",()=>{});ye(this,"setNavigate",e=>{this._navigate=e});ye(this,"dispose",()=>{var e,n;(n=(e=this.citiesStore).dispose)==null||n.call(e)});Qi(this,{userStore:ze,modalStore:ze,citiesStore:ze,toastStore:ze,isAppReady:Vt,setNavigate:de,_navigate:ze}),o2(()=>({pathname:this.routerStore.pathname,search:this.routerStore.search}),async({pathname:e,search:n})=>{this.citiesStore.initUrlSync(this._navigate,e),await this.citiesStore.initFromUrl(n)})}get isAppReady(){return this.citiesStore.isInit}}const nB=new tB,rB=({children:t})=>D.jsx(G2.Provider,{value:nB,children:t}),iB=()=>D.jsxs(rB,{children:[D.jsx(uU,{}),D.jsx(Ex,{}),D.jsx(GV,{})]});A9.createRoot(document.getElementById("root")).render(D.jsx(q.StrictMode,{children:D.jsx(iB,{})}));
