var bO=Object.defineProperty;var wO=(t,e,n)=>e in t?bO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var pe=(t,e,n)=>wO(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function DS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mg={exports:{}},Ac={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tb;function TO(){if(Tb)return Ac;Tb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:o}}return Ac.Fragment=e,Ac.jsx=n,Ac.jsxs=n,Ac}var Sb;function SO(){return Sb||(Sb=1,mg.exports=TO()),mg.exports}var D=SO();function pt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var AO={};function Ip(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:AO}var xS=Object.assign,$d=Object.getOwnPropertyDescriptor,ki=Object.defineProperty,vh=Object.prototype,tv=[];Object.freeze(tv);var Wv={};Object.freeze(Wv);var RO=typeof Proxy<"u",CO=Object.toString();function NS(){RO||pt("Proxy not available")}function PS(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var tu=function(){};function oi(t){return typeof t=="function"}function jo(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function Dp(t){return t!==null&&typeof t=="object"}function Vs(t){if(!Dp(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n.toString()===CO}function MS(t){var e=t==null?void 0:t.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function yh(t,e,n){ki(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function kS(t,e,n){ki(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Ha(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(r){return Dp(r)&&r[n]===!0}}function bu(t){return t!=null&&Object.prototype.toString.call(t)==="[object Map]"}function OO(t){var e=Object.getPrototypeOf(t),n=Object.getPrototypeOf(e),r=Object.getPrototypeOf(n);return r===null}function Is(t){return t!=null&&Object.prototype.toString.call(t)==="[object Set]"}var LS=typeof Object.getOwnPropertySymbols<"u";function IO(t){var e=Object.keys(t);if(!LS)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter(function(r){return vh.propertyIsEnumerable.call(t,r)})):e}var cu=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:LS?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function VS(t){return t===null?null:typeof t=="object"?""+t:t}function Ms(t,e){return vh.hasOwnProperty.call(t,e)}var DO=Object.getOwnPropertyDescriptors||function(e){var n={};return cu(e).forEach(function(r){n[r]=$d(e,r)}),n};function mr(t,e){return!!(t&e)}function _r(t,e,n){return n?t|=e:t&=~e,t}function Ab(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function xO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PO(r.key),r)}}function wu(t,e,n){return e&&xO(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nu(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=MO(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bo(){return Bo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bo.apply(null,arguments)}function US(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,nv(t,e)}function nv(t,e){return nv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},nv(t,e)}function NO(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function PO(t){var e=NO(t,"string");return typeof e=="symbol"?e:e+""}function MO(t,e){if(t){if(typeof t=="string")return Ab(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ab(t,e):void 0}}var Mi=Symbol("mobx-stored-annotations");function Li(t){function e(n,r){if(bh(r))return t.decorate_20223_(n,r);Eh(n,r,t)}return Object.assign(e,t)}function Eh(t,e,n){Ms(t,Mi)||yh(t,Mi,Bo({},t[Mi])),zO(n)||(t[Mi][e]=n)}function kO(t){return Ms(t,Mi)||yh(t,Mi,Bo({},t[Mi])),t[Mi]}function bh(t){return typeof t=="object"&&typeof t.kind=="string"}var Ue=Symbol("mobx administration"),$a=function(){function t(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Et.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.reportObserved=function(){return e2(this)},e.reportChanged=function(){Hr(),t2(this),$r()},e.toString=function(){return this.name_},wu(t,[{key:"isBeingObserved",get:function(){return mr(this.flags_,t.isBeingObservedMask_)},set:function(r){this.flags_=_r(this.flags_,t.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return mr(this.flags_,t.isPendingUnobservationMask_)},set:function(r){this.flags_=_r(this.flags_,t.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return mr(this.flags_,t.diffValueMask_)?1:0},set:function(r){this.flags_=_r(this.flags_,t.diffValueMask_,r===1)}}])}();$a.isBeingObservedMask_=1;$a.isPendingUnobservationMask_=2;$a.diffValueMask_=4;var Zv=Ha("Atom",$a);function jS(t,e,n){e===void 0&&(e=tu),n===void 0&&(n=tu);var r=new $a(t);return e!==tu&&$I(r,e),n!==tu&&u2(r,n),r}function LO(t,e){return w2(t,e)}function VO(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var hu={structural:LO,default:VO};function zo(t,e,n){return ty(t)?t:Array.isArray(t)?ze.array(t,{name:n}):Vs(t)?ze.object(t,void 0,{name:n}):bu(t)?ze.map(t,{name:n}):Is(t)?ze.set(t,{name:n}):typeof t=="function"&&!th(t)&&!nh(t)?MS(t)?fu(t):eh(n,t):t}function UO(t,e,n){if(t==null||Ch(t)||Rh(t)||Ga(t)||ri(t))return t;if(Array.isArray(t))return ze.array(t,{name:n,deep:!1});if(Vs(t))return ze.object(t,void 0,{name:n,deep:!1});if(bu(t))return ze.map(t,{name:n,deep:!1});if(Is(t))return ze.set(t,{name:n,deep:!1})}function xp(t){return t}function jO(t,e){return w2(t,e)?e:t}var BO="override";function zO(t){return t.annotationType_===BO}function wh(t,e){return{annotationType_:t,options_:e,make_:FO,extend_:qO,decorate_20223_:HO}}function FO(t,e,n,r){var a;if((a=this.options_)!=null&&a.bound)return this.extend_(t,e,n,!1)===null?0:1;if(r===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if(th(n.value))return 1;var o=BS(t,this,e,n,!1);return ki(r,e,o),2}function qO(t,e,n,r){var a=BS(t,this,e,n);return t.defineProperty_(e,a,r)}function HO(t,e){var n=e.kind,r=e.name,a=e.addInitializer,o=this,u=function(m){var g,y,w,T;return Fo((g=(y=o.options_)==null?void 0:y.name)!=null?g:r.toString(),m,(w=(T=o.options_)==null?void 0:T.autoAction)!=null?w:!1)};if(n=="field")return function(d){var m,g=d;return th(g)||(g=u(g)),(m=o.options_)!=null&&m.bound&&(g=g.bind(this),g.isMobxAction=!0),g};if(n=="method"){var h;return th(t)||(t=u(t)),(h=this.options_)!=null&&h.bound&&a(function(){var d=this,m=d[r].bind(d);m.isMobxAction=!0,d[r]=m}),t}pt("Cannot apply '"+o.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+o.annotationType_+"' can only be used on properties with a function value."))}function $O(t,e,n,r){e.annotationType_,r.value}function BS(t,e,n,r,a){var o,u,h,d,m,g,y;a===void 0&&(a=me.safeDescriptors),$O(t,e,n,r);var w=r.value;if((o=e.options_)!=null&&o.bound){var T;w=w.bind((T=t.proxy_)!=null?T:t.target_)}return{value:Fo((u=(h=e.options_)==null?void 0:h.name)!=null?u:n.toString(),w,(d=(m=e.options_)==null?void 0:m.autoAction)!=null?d:!1,(g=e.options_)!=null&&g.bound?(y=t.proxy_)!=null?y:t.target_:void 0),configurable:a?t.isPlainObject_:!0,enumerable:!1,writable:!a}}function zS(t,e){return{annotationType_:t,options_:e,make_:GO,extend_:KO,decorate_20223_:QO}}function GO(t,e,n,r){var a;if(r===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if((a=this.options_)!=null&&a.bound&&(!Ms(t.target_,e)||!nh(t.target_[e]))&&this.extend_(t,e,n,!1)===null)return 0;if(nh(n.value))return 1;var o=FS(t,this,e,n,!1,!1);return ki(r,e,o),2}function KO(t,e,n,r){var a,o=FS(t,this,e,n,(a=this.options_)==null?void 0:a.bound);return t.defineProperty_(e,o,r)}function QO(t,e){var n,r=e.name,a=e.addInitializer;return nh(t)||(t=fu(t)),(n=this.options_)!=null&&n.bound&&a(function(){var o=this,u=o[r].bind(o);u.isMobXFlow=!0,o[r]=u}),t}function YO(t,e,n,r){e.annotationType_,r.value}function FS(t,e,n,r,a,o){o===void 0&&(o=me.safeDescriptors),YO(t,e,n,r);var u=r.value;if(nh(u)||(u=fu(u)),a){var h;u=u.bind((h=t.proxy_)!=null?h:t.target_),u.isMobXFlow=!0}return{value:u,configurable:o?t.isPlainObject_:!0,enumerable:!1,writable:!o}}function Jv(t,e){return{annotationType_:t,options_:e,make_:XO,extend_:WO,decorate_20223_:ZO}}function XO(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function WO(t,e,n,r){return JO(t,this,e,n),t.defineComputedProperty_(e,Bo({},this.options_,{get:n.get,set:n.set}),r)}function ZO(t,e){var n=this,r=e.name,a=e.addInitializer;return a(function(){var o=Jo(this)[Ue],u=Bo({},n.options_,{get:t,context:this});u.name||(u.name="ObservableObject."+r.toString()),o.values_.set(r,new li(u))}),function(){return this[Ue].getObservablePropValue_(r)}}function JO(t,e,n,r){e.annotationType_,r.get}function Np(t,e){return{annotationType_:t,options_:e,make_:eI,extend_:tI,decorate_20223_:nI}}function eI(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function tI(t,e,n,r){var a,o;return rI(t,this),t.defineObservableProperty_(e,n.value,(a=(o=this.options_)==null?void 0:o.enhancer)!=null?a:zo,r)}function nI(t,e){var n=this,r=e.kind,a=e.name,o=new WeakSet;function u(h,d){var m,g,y=Jo(h)[Ue],w=new Da(d,(m=(g=n.options_)==null?void 0:g.enhancer)!=null?m:zo,"ObservableObject."+a.toString(),!1);y.values_.set(a,w),o.add(h)}if(r=="accessor")return{get:function(){return o.has(this)||u(this,t.get.call(this)),this[Ue].getObservablePropValue_(a)},set:function(d){return o.has(this)||u(this,d),this[Ue].setObservablePropValue_(a,d)},init:function(d){return o.has(this)||u(this,d),d}}}function rI(t,e,n,r){e.annotationType_}var iI="true",sI=qS();function qS(t){return{annotationType_:iI,options_:t,make_:aI,extend_:oI,decorate_20223_:lI}}function aI(t,e,n,r){var a,o;if(n.get)return Dt.make_(t,e,n,r);if(n.set){var u=Fo(e.toString(),n.set);return r===t.target_?t.defineProperty_(e,{configurable:me.safeDescriptors?t.isPlainObject_:!0,set:u})===null?0:2:(ki(r,e,{configurable:!0,set:u}),2)}if(r!==t.target_&&typeof n.value=="function"){var h;if(MS(n.value)){var d,m=(d=this.options_)!=null&&d.autoBind?fu.bound:fu;return m.make_(t,e,n,r)}var g=(h=this.options_)!=null&&h.autoBind?eh.bound:eh;return g.make_(t,e,n,r)}var y=((a=this.options_)==null?void 0:a.deep)===!1?ze.ref:ze;if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var w;n.value=n.value.bind((w=t.proxy_)!=null?w:t.target_)}return y.make_(t,e,n,r)}function oI(t,e,n,r){var a,o;if(n.get)return Dt.extend_(t,e,n,r);if(n.set)return t.defineProperty_(e,{configurable:me.safeDescriptors?t.isPlainObject_:!0,set:Fo(e.toString(),n.set)},r);if(typeof n.value=="function"&&(a=this.options_)!=null&&a.autoBind){var u;n.value=n.value.bind((u=t.proxy_)!=null?u:t.target_)}var h=((o=this.options_)==null?void 0:o.deep)===!1?ze.ref:ze;return h.extend_(t,e,n,r)}function lI(t,e){pt("'"+this.annotationType_+"' cannot be used as a decorator")}var uI="observable",cI="observable.ref",hI="observable.shallow",fI="observable.struct",HS={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(HS);function ad(t){return t||HS}var rv=Np(uI),dI=Np(cI,{enhancer:xp}),pI=Np(hI,{enhancer:UO}),mI=Np(fI,{enhancer:jO}),$S=Li(rv);function od(t){return t.deep===!0?zo:t.deep===!1?xp:gI(t.defaultDecorator)}function _I(t){var e;return t?(e=t.defaultDecorator)!=null?e:qS(t):void 0}function gI(t){var e,n;return t&&(e=(n=t.options_)==null?void 0:n.enhancer)!=null?e:zo}function GS(t,e,n){if(bh(e))return rv.decorate_20223_(t,e);if(jo(e)){Eh(t,e,rv);return}return ty(t)?t:Vs(t)?ze.object(t,e,n):Array.isArray(t)?ze.array(t,e):bu(t)?ze.map(t,e):Is(t)?ze.set(t,e):typeof t=="object"&&t!==null?t:ze.box(t,e)}xS(GS,$S);var vI={box:function(e,n){var r=ad(n);return new Da(e,od(r),r.name,!0,r.equals)},array:function(e,n){var r=ad(n);return(me.useProxies===!1||r.proxy===!1?m9:s9)(e,od(r),r.name)},map:function(e,n){var r=ad(n);return new _2(e,od(r),r.name)},set:function(e,n){var r=ad(n);return new g2(e,od(r),r.name)},object:function(e,n,r){return Ka(function(){return f2(me.useProxies===!1||(r==null?void 0:r.proxy)===!1?Jo({},r):t9({},r),e,n)})},ref:Li(dI),shallow:Li(pI),deep:$S,struct:Li(mI)},ze=xS(GS,vI),KS="computed",yI="computed.struct",iv=Jv(KS),EI=Jv(yI,{equals:hu.structural}),Dt=function(e,n){if(bh(n))return iv.decorate_20223_(e,n);if(jo(n))return Eh(e,n,iv);if(Vs(e))return Li(Jv(KS,e));var r=Vs(n)?n:{};return r.get=e,r.name||(r.name=e.name||""),new li(r)};Object.assign(Dt,iv);Dt.struct=Li(EI);var Rb,Cb,Gd=0,bI=1,wI=(Rb=(Cb=$d(function(){},"name"))==null?void 0:Cb.configurable)!=null?Rb:!1,Ob={value:"action",configurable:!0,writable:!1,enumerable:!1};function Fo(t,e,n,r){n===void 0&&(n=!1);function a(){return QS(t,n,e,r||this,arguments)}return a.isMobxAction=!0,a.toString=function(){return e.toString()},wI&&(Ob.value=t,ki(a,"name",Ob)),a}function QS(t,e,n,r,a){var o=TI(t,e);try{return n.apply(r,a)}catch(u){throw o.error_=u,u}finally{SI(o)}}function TI(t,e,n,r){var a=!1,o=0,u=me.trackingDerivation,h=!e||!u;Hr();var d=me.allowStateChanges;h&&(Zo(),d=Pp(!0));var m=ey(!0),g={runAsAction_:h,prevDerivation_:u,prevAllowStateChanges_:d,prevAllowStateReads_:m,notifySpy_:a,startTime_:o,actionId_:bI++,parentActionId_:Gd};return Gd=g.actionId_,g}function SI(t){Gd!==t.actionId_&&pt(30),Gd=t.parentActionId_,t.error_!==void 0&&(me.suppressReactionErrors=!0),Mp(t.prevAllowStateChanges_),Qc(t.prevAllowStateReads_),$r(),t.runAsAction_&&ks(t.prevDerivation_),me.suppressReactionErrors=!1}function AI(t,e){var n=Pp(t);try{return e()}finally{Mp(n)}}function Pp(t){var e=me.allowStateChanges;return me.allowStateChanges=t,e}function Mp(t){me.allowStateChanges=t}var Da=function(t){function e(r,a,o,u,h){var d;return o===void 0&&(o="ObservableValue"),h===void 0&&(h=hu.default),d=t.call(this,o)||this,d.enhancer=void 0,d.name_=void 0,d.equals=void 0,d.hasUnreportedChange_=!1,d.interceptors_=void 0,d.changeListeners_=void 0,d.value_=void 0,d.dehancer=void 0,d.enhancer=a,d.name_=o,d.equals=h,d.value_=a(r,void 0,o),d}US(e,t);var n=e.prototype;return n.dehanceValue=function(a){return this.dehancer!==void 0?this.dehancer(a):a},n.set=function(a){this.value_,a=this.prepareNewValue_(a),a!==me.UNCHANGED&&this.setNewValue_(a)},n.prepareNewValue_=function(a){if(Fr(this)){var o=qr(this,{object:this,type:Vi,newValue:a});if(!o)return me.UNCHANGED;a=o.newValue}return a=this.enhancer(a,this.value_,this.name_),this.equals(this.value_,a)?me.UNCHANGED:a},n.setNewValue_=function(a){var o=this.value_;this.value_=a,this.reportChanged(),si(this)&&ai(this,{type:Vi,object:this,newValue:a,oldValue:o})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(a){return Sh(this,a)},n.observe_=function(a,o){return o&&a({observableKind:"value",debugObjectName:this.name_,object:this,type:Vi,newValue:this.value_,oldValue:void 0}),Ah(this,a)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return VS(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},e}($a),RI=Ha("ObservableValue",Da),li=function(){function t(n){this.dependenciesState_=Et.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Et.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Qd(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Kd.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||pt(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Fo("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?hu.structural:hu.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){xI(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.get=function(){if(this.isComputing&&pt(32,this.name_,this.derivation),me.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)sv(this)&&(this.warnAboutUntrackedRead_(),Hr(),this.value_=this.computeValue_(!1),$r());else if(e2(this),sv(this)){var r=me.trackingContext;this.keepAlive_&&!r&&(me.trackingContext=this),this.trackAndCompute()&&DI(this),me.trackingContext=r}var a=this.value_;if(Rd(a))throw a.cause;return a},e.set=function(r){if(this.setter_){this.isRunningSetter&&pt(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else pt(34,this.name_)},e.trackAndCompute=function(){var r=this.value_,a=this.dependenciesState_===Et.NOT_TRACKING_,o=this.computeValue_(!0),u=a||Rd(r)||Rd(o)||!this.equals_(r,o);return u&&(this.value_=o),u},e.computeValue_=function(r){this.isComputing=!0;var a=Pp(!1),o;if(r)o=YS(this,this.derivation,this.scope_);else if(me.disableErrorBoundaries===!0)o=this.derivation.call(this.scope_);else try{o=this.derivation.call(this.scope_)}catch(u){o=new Qd(u)}return Mp(a),this.isComputing=!1,o},e.suspend_=function(){this.keepAlive_||(av(this),this.value_=void 0)},e.observe_=function(r,a){var o=this,u=!0,h=void 0;return BI(function(){var d=o.get();if(!u||a){var m=Zo();r({observableKind:"computed",debugObjectName:o.name_,type:Vi,object:o,newValue:d,oldValue:h}),ks(m)}u=!1,h=d})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return VS(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},wu(t,[{key:"isComputing",get:function(){return mr(this.flags_,t.isComputingMask_)},set:function(r){this.flags_=_r(this.flags_,t.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return mr(this.flags_,t.isRunningSetterMask_)},set:function(r){this.flags_=_r(this.flags_,t.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return mr(this.flags_,t.isBeingObservedMask_)},set:function(r){this.flags_=_r(this.flags_,t.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return mr(this.flags_,t.isPendingUnobservationMask_)},set:function(r){this.flags_=_r(this.flags_,t.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return mr(this.flags_,t.diffValueMask_)?1:0},set:function(r){this.flags_=_r(this.flags_,t.diffValueMask_,r===1)}}])}();li.isComputingMask_=1;li.isRunningSetterMask_=2;li.isBeingObservedMask_=4;li.isPendingUnobservationMask_=8;li.diffValueMask_=16;var Th=Ha("ComputedValue",li),Et;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(Et||(Et={}));var Kd;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(Kd||(Kd={}));var Qd=function(e){this.cause=void 0,this.cause=e};function Rd(t){return t instanceof Qd}function sv(t){switch(t.dependenciesState_){case Et.UP_TO_DATE_:return!1;case Et.NOT_TRACKING_:case Et.STALE_:return!0;case Et.POSSIBLY_STALE_:{for(var e=ey(!0),n=Zo(),r=t.observing_,a=r.length,o=0;o<a;o++){var u=r[o];if(Th(u)){if(me.disableErrorBoundaries)u.get();else try{u.get()}catch{return ks(n),Qc(e),!0}if(t.dependenciesState_===Et.STALE_)return ks(n),Qc(e),!0}}return XS(t),ks(n),Qc(e),!1}}}function YS(t,e,n){var r=ey(!0);XS(t),t.newObserving_=new Array(t.runId_===0?100:t.observing_.length),t.unboundDepsCount_=0,t.runId_=++me.runId;var a=me.trackingDerivation;me.trackingDerivation=t,me.inBatch++;var o;if(me.disableErrorBoundaries===!0)o=e.call(n);else try{o=e.call(n)}catch(u){o=new Qd(u)}return me.inBatch--,me.trackingDerivation=a,CI(t),Qc(r),o}function CI(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,r=Et.UP_TO_DATE_,a=0,o=t.unboundDepsCount_,u=0;u<o;u++){var h=n[u];h.diffValue===0&&(h.diffValue=1,a!==u&&(n[a]=h),a++),h.dependenciesState_>r&&(r=h.dependenciesState_)}for(n.length=a,t.newObserving_=null,o=e.length;o--;){var d=e[o];d.diffValue===0&&ZS(d,t),d.diffValue=0}for(;a--;){var m=n[a];m.diffValue===1&&(m.diffValue=0,II(m,t))}r!==Et.UP_TO_DATE_&&(t.dependenciesState_=r,t.onBecomeStale_())}function av(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)ZS(e[n],t);t.dependenciesState_=Et.NOT_TRACKING_}function Yd(t){var e=Zo();try{return t()}finally{ks(e)}}function Zo(){var t=me.trackingDerivation;return me.trackingDerivation=null,t}function ks(t){me.trackingDerivation=t}function ey(t){var e=me.allowStateReads;return me.allowStateReads=t,e}function Qc(t){me.allowStateReads=t}function XS(t){if(t.dependenciesState_!==Et.UP_TO_DATE_){t.dependenciesState_=Et.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=Et.UP_TO_DATE_}}var Cd=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Od=!0,WS=!1,me=function(){var t=Ip();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Od=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new Cd().version&&(Od=!1),Od?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Cd):(setTimeout(function(){WS||pt(35)},1),new Cd)}();function OI(){if((me.pendingReactions.length||me.inBatch||me.isRunningReactions)&&pt(36),WS=!0,Od){var t=Ip();--t.__mobxInstanceCount===0&&(t.__mobxGlobals=void 0),me=new Cd}}function II(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function ZS(t,e){t.observers_.delete(e),t.observers_.size===0&&JS(t)}function JS(t){t.isPendingUnobservation===!1&&(t.isPendingUnobservation=!0,me.pendingUnobservations.push(t))}function Hr(){me.inBatch++}function $r(){if(--me.inBatch===0){n2();for(var t=me.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof li&&n.suspend_())}me.pendingUnobservations=[]}}function e2(t){var e=me.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved&&me.trackingContext&&(t.isBeingObserved=!0,t.onBO())),t.isBeingObserved):(t.observers_.size===0&&me.inBatch>0&&JS(t),!1)}function t2(t){t.lowestObserverState_!==Et.STALE_&&(t.lowestObserverState_=Et.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Et.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=Et.STALE_}))}function DI(t){t.lowestObserverState_!==Et.STALE_&&(t.lowestObserverState_=Et.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Et.POSSIBLY_STALE_?e.dependenciesState_=Et.STALE_:e.dependenciesState_===Et.UP_TO_DATE_&&(t.lowestObserverState_=Et.UP_TO_DATE_)}))}function xI(t){t.lowestObserverState_===Et.UP_TO_DATE_&&(t.lowestObserverState_=Et.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Et.UP_TO_DATE_&&(e.dependenciesState_=Et.POSSIBLY_STALE_,e.onBecomeStale_())}))}var Gi=function(){function t(n,r,a,o){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Et.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Kd.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=a,this.requiresObservable_=o}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,me.pendingReactions.push(this),n2())},e.runReaction_=function(){if(!this.isDisposed){Hr(),this.isScheduled=!1;var r=me.trackingContext;if(me.trackingContext=this,sv(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(a){this.reportExceptionInDerivation_(a)}}me.trackingContext=r,$r()}},e.track=function(r){if(!this.isDisposed){Hr(),this.isRunning=!0;var a=me.trackingContext;me.trackingContext=this;var o=YS(this,r,void 0);me.trackingContext=a,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&av(this),Rd(o)&&this.reportExceptionInDerivation_(o.cause),$r()}},e.reportExceptionInDerivation_=function(r){var a=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(me.disableErrorBoundaries)throw r;var o="[mobx] uncaught error in '"+this+"'";me.suppressReactionErrors||console.error(o,r),me.globalReactionErrorHandlers.forEach(function(u){return u(r,a)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Hr(),av(this),$r()))},e.getDisposer_=function(r){var a=this,o=function u(){a.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",u)};return r==null||r.addEventListener==null||r.addEventListener("abort",o),o[Ue]=this,o},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(r){},wu(t,[{key:"isDisposed",get:function(){return mr(this.flags_,t.isDisposedMask_)},set:function(r){this.flags_=_r(this.flags_,t.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return mr(this.flags_,t.isScheduledMask_)},set:function(r){this.flags_=_r(this.flags_,t.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return mr(this.flags_,t.isTrackPendingMask_)},set:function(r){this.flags_=_r(this.flags_,t.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return mr(this.flags_,t.isRunningMask_)},set:function(r){this.flags_=_r(this.flags_,t.isRunningMask_,r)}},{key:"diffValue",get:function(){return mr(this.flags_,t.diffValueMask_)?1:0},set:function(r){this.flags_=_r(this.flags_,t.diffValueMask_,r===1)}}])}();Gi.isDisposedMask_=1;Gi.isScheduledMask_=2;Gi.isTrackPendingMask_=4;Gi.isRunningMask_=8;Gi.diffValueMask_=16;var NI=100,ov=function(e){return e()};function n2(){me.inBatch>0||me.isRunningReactions||ov(PI)}function PI(){me.isRunningReactions=!0;for(var t=me.pendingReactions,e=0;t.length>0;){++e===NI&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,a=n.length;r<a;r++)n[r].runReaction_()}me.isRunningReactions=!1}var Xd=Ha("Reaction",Gi);function MI(t){var e=ov;ov=function(r){return t(function(){return e(r)})}}function Yc(){return!1}function kI(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var r2="action",LI="action.bound",i2="autoAction",VI="autoAction.bound",s2="<unnamed action>",lv=wh(r2),UI=wh(LI,{bound:!0}),uv=wh(i2,{autoAction:!0}),jI=wh(VI,{autoAction:!0,bound:!0});function a2(t){var e=function(r,a){if(oi(r))return Fo(r.name||s2,r,t);if(oi(a))return Fo(r,a,t);if(bh(a))return(t?uv:lv).decorate_20223_(r,a);if(jo(a))return Eh(r,a,t?uv:lv);if(jo(r))return Li(wh(t?i2:r2,{name:r,autoAction:t}))};return e}var fe=a2(!1);Object.assign(fe,lv);var eh=a2(!0);Object.assign(eh,uv);fe.bound=Li(UI);eh.bound=Li(jI);function zt(t){return QS(t.name||s2,!1,t,this,void 0)}function th(t){return oi(t)&&t.isMobxAction===!0}function BI(t,e){var n,r,a,o;e===void 0&&(e=Wv);var u=(n=(r=e)==null?void 0:r.name)!=null?n:"Autorun",h=!e.scheduler&&!e.delay,d;if(h)d=new Gi(u,function(){this.track(y)},e.onError,e.requiresObservable);else{var m=o2(e),g=!1;d=new Gi(u,function(){g||(g=!0,m(function(){g=!1,d.isDisposed||d.track(y)}))},e.onError,e.requiresObservable)}function y(){t(d)}return(a=e)!=null&&(a=a.signal)!=null&&a.aborted||d.schedule_(),d.getDisposer_((o=e)==null?void 0:o.signal)}var zI=function(e){return e()};function o2(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:zI}function l2(t,e,n){var r,a,o;n===void 0&&(n=Wv);var u=(r=n.name)!=null?r:"Reaction",h=fe(u,n.onError?FI(n.onError,e):e),d=!n.scheduler&&!n.delay,m=o2(n),g=!0,y=!1,w,T=n.compareStructural?hu.structural:n.equals||hu.default,S=new Gi(u,function(){g||d?M():y||(y=!0,m(M))},n.onError,n.requiresObservable);function M(){if(y=!1,!S.isDisposed){var I=!1,U=w;S.track(function(){var H=AI(!1,function(){return t(S)});I=g||!T(w,H),w=H}),(g&&n.fireImmediately||!g&&I)&&h(w,U,S),g=!1}}return(a=n)!=null&&(a=a.signal)!=null&&a.aborted||S.schedule_(),S.getDisposer_((o=n)==null?void 0:o.signal)}function FI(t,e){return function(){try{return e.apply(this,arguments)}catch(n){t.call(this,n)}}}var qI="onBO",HI="onBUO";function $I(t,e,n){return c2(qI,t,e,n)}function u2(t,e,n){return c2(HI,t,e,n)}function c2(t,e,n,r){var a=Jd(e),o=oi(r)?r:n,u=t+"L";return a[u]?a[u].add(o):a[u]=new Set([o]),function(){var h=a[u];h&&(h.delete(o),h.size===0&&delete a[u])}}var GI="never",ld="always",KI="observed";function h2(t){t.isolateGlobalState===!0&&OI();var e=t.useProxies,n=t.enforceActions;if(e!==void 0&&(me.useProxies=e===ld?!0:e===GI?!1:typeof Proxy<"u"),e==="ifavailable"&&(me.verifyProxies=!0),n!==void 0){var r=n===ld?ld:n===KI;me.enforceActions=r,me.allowStateChanges=!(r===!0||r===ld)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(a){a in t&&(me[a]=!!t[a])}),me.allowStateReads=!me.observableRequiresReaction,t.reactionScheduler&&MI(t.reactionScheduler)}function f2(t,e,n,r){var a=DO(e);return Ka(function(){var o=Jo(t,r)[Ue];cu(a).forEach(function(u){o.extend_(u,a[u],n&&u in n?n[u]:!0)})}),t}function QI(t,e){return d2(Jd(t,e))}function d2(t){var e={name:t.name_};return t.observing_&&t.observing_.length>0&&(e.dependencies=YI(t.observing_).map(d2)),e}function YI(t){return Array.from(new Set(t))}var XI=0;function p2(){this.message="FLOW_CANCELLED"}p2.prototype=Object.create(Error.prototype);var _g=zS("flow"),WI=zS("flow.bound",{bound:!0}),fu=Object.assign(function(e,n){if(bh(n))return _g.decorate_20223_(e,n);if(jo(n))return Eh(e,n,_g);var r=e,a=r.name||"<unnamed flow>",o=function(){var h=this,d=arguments,m=++XI,g=fe(a+" - runid: "+m+" - init",r).apply(h,d),y,w=void 0,T=new Promise(function(S,M){var I=0;y=M;function U(ie){w=void 0;var x;try{x=fe(a+" - runid: "+m+" - yield "+I++,g.next).call(g,ie)}catch(te){return M(te)}X(x)}function H(ie){w=void 0;var x;try{x=fe(a+" - runid: "+m+" - yield "+I++,g.throw).call(g,ie)}catch(te){return M(te)}X(x)}function X(ie){if(oi(ie==null?void 0:ie.then)){ie.then(X,M);return}return ie.done?S(ie.value):(w=Promise.resolve(ie.value),w.then(U,H))}U(void 0)});return T.cancel=fe(a+" - runid: "+m+" - cancel",function(){try{w&&Ib(w);var S=g.return(void 0),M=Promise.resolve(S.value);M.then(tu,tu),Ib(M),y(new p2)}catch(I){y(I)}}),T};return o.isMobXFlow=!0,o},_g);fu.bound=Li(WI);function Ib(t){oi(t.cancel)&&t.cancel()}function nh(t){return(t==null?void 0:t.isMobXFlow)===!0}function ZI(t,e){return t?Ch(t)||!!t[Ue]||Zv(t)||Xd(t)||Th(t):!1}function ty(t){return ZI(t)}function JI(t){if(Ch(t))return t[Ue].ownKeys_();pt(38)}function ud(t,e,n){return t.set(e,n),n}function Wl(t,e){if(t==null||typeof t!="object"||t instanceof Date||!ty(t))return t;if(RI(t)||Th(t))return Wl(t.get(),e);if(e.has(t))return e.get(t);if(Rh(t)){var n=ud(e,t,new Array(t.length));return t.forEach(function(u,h){n[h]=Wl(u,e)}),n}if(ri(t)){var r=ud(e,t,new Set);return t.forEach(function(u){r.add(Wl(u,e))}),r}if(Ga(t)){var a=ud(e,t,new Map);return t.forEach(function(u,h){a.set(h,Wl(u,e))}),a}else{var o=ud(e,t,{});return JI(t).forEach(function(u){vh.propertyIsEnumerable.call(t,u)&&(o[u]=Wl(t[u],e))}),o}}function Vc(t,e){return Wl(t,new Map)}function Ds(t,e){e===void 0&&(e=void 0),Hr();try{return t.apply(e)}finally{$r()}}function Gl(t){return t[Ue]}var e9={has:function(e,n){return Gl(e).has_(n)},get:function(e,n){return Gl(e).get_(n)},set:function(e,n,r){var a;return jo(n)?(a=Gl(e).set_(n,r,!0))!=null?a:!0:!1},deleteProperty:function(e,n){var r;return jo(n)?(r=Gl(e).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(e,n,r){var a;return(a=Gl(e).defineProperty_(n,r))!=null?a:!0},ownKeys:function(e){return Gl(e).ownKeys_()},preventExtensions:function(e){pt(13)}};function t9(t,e){var n,r;return NS(),t=Jo(t,e),(r=(n=t[Ue]).proxy_)!=null?r:n.proxy_=new Proxy(t,e9)}function Fr(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function Sh(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),PS(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function qr(t,e){var n=Zo();try{for(var r=[].concat(t.interceptors_||[]),a=0,o=r.length;a<o&&(e=r[a](e),e&&!e.type&&pt(14),!!e);a++);return e}finally{ks(n)}}function si(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function Ah(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),PS(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function ai(t,e){var n=Zo(),r=t.changeListeners_;if(r){r=r.slice();for(var a=0,o=r.length;a<o;a++)r[a](e);ks(n)}}function Yi(t,e,n){return Ka(function(){var r,a=Jo(t,n)[Ue];(r=e)!=null||(e=kO(t)),cu(e).forEach(function(o){return a.make_(o,e[o])})}),t}var gg=Symbol("mobx-keys");function n9(t,e,n){return Vs(t)?f2(t,t,e,n):(Ka(function(){var r=Jo(t,n)[Ue];if(!t[gg]){var a=Object.getPrototypeOf(t),o=new Set([].concat(cu(t),cu(a)));o.delete("constructor"),o.delete(Ue),yh(a,gg,o)}t[gg].forEach(function(u){return r.make_(u,e&&u in e?e[u]:!0)})}),t)}var Db="splice",Vi="update",r9=1e4,i9={get:function(e,n){var r=e[Ue];return n===Ue?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):Ms(Wd,n)?Wd[n]:e[n]},set:function(e,n,r){var a=e[Ue];return n==="length"&&a.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?e[n]=r:a.set_(parseInt(n),r),!0},preventExtensions:function(){pt(15)}},ny=function(){function t(n,r,a,o){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=a,this.legacyMode_=o,this.atom_=new $a(n),this.enhancer_=function(u,h){return r(u,h,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},e.intercept_=function(r){return Sh(this,r)},e.observe_=function(r,a){return a===void 0&&(a=!1),a&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Ah(this,r)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&pt("Out of range: "+r);var a=this.values_.length;if(r!==a)if(r>a){for(var o=new Array(r-a),u=0;u<r-a;u++)o[u]=void 0;this.spliceWithArray_(a,0,o)}else this.spliceWithArray_(r,a-r)},e.updateArrayLength_=function(r,a){r!==this.lastKnownLength_&&pt(16),this.lastKnownLength_+=a,this.legacyMode_&&a>0&&b2(r+a+1)},e.spliceWithArray_=function(r,a,o){var u=this;this.atom_;var h=this.values_.length;if(r===void 0?r=0:r>h?r=h:r<0&&(r=Math.max(0,h+r)),arguments.length===1?a=h-r:a==null?a=0:a=Math.max(0,Math.min(a,h-r)),o===void 0&&(o=tv),Fr(this)){var d=qr(this,{object:this.proxy_,type:Db,index:r,removedCount:a,added:o});if(!d)return tv;a=d.removedCount,o=d.added}if(o=o.length===0?o:o.map(function(y){return u.enhancer_(y,void 0)}),this.legacyMode_){var m=o.length-a;this.updateArrayLength_(h,m)}var g=this.spliceItemsIntoValues_(r,a,o);return(a!==0||o.length!==0)&&this.notifyArraySplice_(r,o,g),this.dehanceValues_(g)},e.spliceItemsIntoValues_=function(r,a,o){if(o.length<r9){var u;return(u=this.values_).splice.apply(u,[r,a].concat(o))}else{var h=this.values_.slice(r,r+a),d=this.values_.slice(r+a);this.values_.length+=o.length-a;for(var m=0;m<o.length;m++)this.values_[r+m]=o[m];for(var g=0;g<d.length;g++)this.values_[r+o.length+g]=d[g];return h}},e.notifyArrayChildUpdate_=function(r,a,o){var u=!this.owned_&&Yc(),h=si(this),d=h||u?{observableKind:"array",object:this.proxy_,type:Vi,debugObjectName:this.atom_.name_,index:r,newValue:a,oldValue:o}:null;this.atom_.reportChanged(),h&&ai(this,d)},e.notifyArraySplice_=function(r,a,o){var u=!this.owned_&&Yc(),h=si(this),d=h||u?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Db,index:r,removed:o,added:a,removedCount:o.length,addedCount:a.length}:null;this.atom_.reportChanged(),h&&ai(this,d)},e.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},e.set_=function(r,a){var o=this.values_;if(this.legacyMode_&&r>o.length&&pt(17,r,o.length),r<o.length){this.atom_;var u=o[r];if(Fr(this)){var h=qr(this,{type:Vi,object:this.proxy_,index:r,newValue:a});if(!h)return;a=h.newValue}a=this.enhancer_(a,u);var d=a!==u;d&&(o[r]=a,this.notifyArrayChildUpdate_(r,a,u))}else{for(var m=new Array(r+1-o.length),g=0;g<m.length-1;g++)m[g]=void 0;m[m.length-1]=a,this.spliceWithArray_(o.length,0,m)}},t}();function s9(t,e,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),NS(),Ka(function(){var a=new ny(n,e,r,!1);kS(a.values_,Ue,a);var o=new Proxy(a.values_,i9);return a.proxy_=o,t&&t.length&&a.spliceWithArray_(0,0,t),o})}var Wd={clear:function(){return this.splice(0)},replace:function(e){var n=this[Ue];return n.spliceWithArray_(0,n.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=this[Ue];switch(arguments.length){case 0:return[];case 1:return u.spliceWithArray_(e);case 2:return u.spliceWithArray_(e,n)}return u.spliceWithArray_(e,n,a)},spliceWithArray:function(e,n,r){return this[Ue].spliceWithArray_(e,n,r)},push:function(){for(var e=this[Ue],n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.spliceWithArray_(e.values_.length,0,r),e.values_.length},pop:function(){return this.splice(Math.max(this[Ue].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[Ue],n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.spliceWithArray_(0,0,r),e.values_.length},reverse:function(){return me.trackingDerivation&&pt(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){me.trackingDerivation&&pt(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var n=this[Ue],r=n.dehanceValues_(n.values_).indexOf(e);return r>-1?(this.splice(r,1),!0):!1}};Lt("at",Er);Lt("concat",Er);Lt("flat",Er);Lt("includes",Er);Lt("indexOf",Er);Lt("join",Er);Lt("lastIndexOf",Er);Lt("slice",Er);Lt("toString",Er);Lt("toLocaleString",Er);Lt("toSorted",Er);Lt("toSpliced",Er);Lt("with",Er);Lt("every",hi);Lt("filter",hi);Lt("find",hi);Lt("findIndex",hi);Lt("findLast",hi);Lt("findLastIndex",hi);Lt("flatMap",hi);Lt("forEach",hi);Lt("map",hi);Lt("some",hi);Lt("toReversed",hi);Lt("reduce",m2);Lt("reduceRight",m2);function Lt(t,e){typeof Array.prototype[t]=="function"&&(Wd[t]=e(t))}function Er(t){return function(){var e=this[Ue];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function hi(t){return function(e,n){var r=this,a=this[Ue];a.atom_.reportObserved();var o=a.dehanceValues_(a.values_);return o[t](function(u,h){return e.call(n,u,h,r)})}}function m2(t){return function(){var e=this,n=this[Ue];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),a=arguments[0];return arguments[0]=function(o,u,h){return a(o,u,h,e)},r[t].apply(r,arguments)}}var a9=Ha("ObservableArrayAdministration",ny);function Rh(t){return Dp(t)&&a9(t[Ue])}var o9={},Oa="add",Zd="delete",_2=function(){function t(n,r,a){var o=this;r===void 0&&(r=zo),a===void 0&&(a="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Ue]=o9,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=a,oi(Map)||pt(18),Ka(function(){o.keysAtom_=jS("ObservableMap.keys()"),o.data_=new Map,o.hasMap_=new Map,n&&o.merge(n)})}var e=t.prototype;return e.has_=function(r){return this.data_.has(r)},e.has=function(r){var a=this;if(!me.trackingDerivation)return this.has_(r);var o=this.hasMap_.get(r);if(!o){var u=o=new Da(this.has_(r),xp,"ObservableMap.key?",!1);this.hasMap_.set(r,u),u2(u,function(){return a.hasMap_.delete(r)})}return o.get()},e.set=function(r,a){var o=this.has_(r);if(Fr(this)){var u=qr(this,{type:o?Vi:Oa,object:this,newValue:a,name:r});if(!u)return this;a=u.newValue}return o?this.updateValue_(r,a):this.addValue_(r,a),this},e.delete=function(r){var a=this;if(this.keysAtom_,Fr(this)){var o=qr(this,{type:Zd,object:this,name:r});if(!o)return!1}if(this.has_(r)){var u=Yc(),h=si(this),d=h||u?{observableKind:"map",debugObjectName:this.name_,type:Zd,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Ds(function(){var m;a.keysAtom_.reportChanged(),(m=a.hasMap_.get(r))==null||m.setNewValue_(!1);var g=a.data_.get(r);g.setNewValue_(void 0),a.data_.delete(r)}),h&&ai(this,d),!0}return!1},e.updateValue_=function(r,a){var o=this.data_.get(r);if(a=o.prepareNewValue_(a),a!==me.UNCHANGED){var u=Yc(),h=si(this),d=h||u?{observableKind:"map",debugObjectName:this.name_,type:Vi,object:this,oldValue:o.value_,name:r,newValue:a}:null;o.setNewValue_(a),h&&ai(this,d)}},e.addValue_=function(r,a){var o=this;this.keysAtom_,Ds(function(){var m,g=new Da(a,o.enhancer_,"ObservableMap.key",!1);o.data_.set(r,g),a=g.value_,(m=o.hasMap_.get(r))==null||m.setNewValue_(!0),o.keysAtom_.reportChanged()});var u=Yc(),h=si(this),d=h||u?{observableKind:"map",debugObjectName:this.name_,type:Oa,object:this,name:r,newValue:a}:null;h&&ai(this,d)},e.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var r=this,a=this.keys();return xb({next:function(){var u=a.next(),h=u.done,d=u.value;return{done:h,value:h?void 0:r.get(d)}}})},e.entries=function(){var r=this,a=this.keys();return xb({next:function(){var u=a.next(),h=u.done,d=u.value;return{done:h,value:h?void 0:[d,r.get(d)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(r,a){for(var o=nu(this),u;!(u=o()).done;){var h=u.value,d=h[0],m=h[1];r.call(a,m,d,this)}},e.merge=function(r){var a=this;return Ga(r)&&(r=new Map(r)),Ds(function(){Vs(r)?IO(r).forEach(function(o){return a.set(o,r[o])}):Array.isArray(r)?r.forEach(function(o){var u=o[0],h=o[1];return a.set(u,h)}):bu(r)?(OO(r)||pt(19,r),r.forEach(function(o,u){return a.set(u,o)})):r!=null&&pt(20,r)}),this},e.clear=function(){var r=this;Ds(function(){Yd(function(){for(var a=nu(r.keys()),o;!(o=a()).done;){var u=o.value;r.delete(u)}})})},e.replace=function(r){var a=this;return Ds(function(){for(var o=l9(r),u=new Map,h=!1,d=nu(a.data_.keys()),m;!(m=d()).done;){var g=m.value;if(!o.has(g)){var y=a.delete(g);if(y)h=!0;else{var w=a.data_.get(g);u.set(g,w)}}}for(var T=nu(o.entries()),S;!(S=T()).done;){var M=S.value,I=M[0],U=M[1],H=a.data_.has(I);if(a.set(I,U),a.data_.has(I)){var X=a.data_.get(I);u.set(I,X),H||(h=!0)}}if(!h)if(a.data_.size!==u.size)a.keysAtom_.reportChanged();else for(var ie=a.data_.keys(),x=u.keys(),te=ie.next(),k=x.next();!te.done;){if(te.value!==k.value){a.keysAtom_.reportChanged();break}te=ie.next(),k=x.next()}a.data_=u}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(r,a){return Ah(this,r)},e.intercept_=function(r){return Sh(this,r)},wu(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),Ga=Ha("ObservableMap",_2);function xb(t){return t[Symbol.toStringTag]="MapIterator",iy(t)}function l9(t){if(bu(t)||Ga(t))return t;if(Array.isArray(t))return new Map(t);if(Vs(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}else return pt(21,t)}var u9={},g2=function(){function t(n,r,a){var o=this;r===void 0&&(r=zo),a===void 0&&(a="ObservableSet"),this.name_=void 0,this[Ue]=u9,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=a,oi(Set)||pt(22),this.enhancer_=function(u,h){return r(u,h,a)},Ka(function(){o.atom_=jS(o.name_),n&&o.replace(n)})}var e=t.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.clear=function(){var r=this;Ds(function(){Yd(function(){for(var a=nu(r.data_.values()),o;!(o=a()).done;){var u=o.value;r.delete(u)}})})},e.forEach=function(r,a){for(var o=nu(this),u;!(u=o()).done;){var h=u.value;r.call(a,h,h,this)}},e.add=function(r){var a=this;if(this.atom_,Fr(this)){var o=qr(this,{type:Oa,object:this,newValue:r});if(!o)return this;r=o.newValue}if(!this.has(r)){Ds(function(){a.data_.add(a.enhancer_(r,void 0)),a.atom_.reportChanged()});var u=!1,h=si(this),d=h||u?{observableKind:"set",debugObjectName:this.name_,type:Oa,object:this,newValue:r}:null;h&&ai(this,d)}return this},e.delete=function(r){var a=this;if(Fr(this)){var o=qr(this,{type:Zd,object:this,oldValue:r});if(!o)return!1}if(this.has(r)){var u=!1,h=si(this),d=h||u?{observableKind:"set",debugObjectName:this.name_,type:Zd,object:this,oldValue:r}:null;return Ds(function(){a.atom_.reportChanged(),a.data_.delete(r)}),h&&ai(this,d),!0}return!1},e.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},e.entries=function(){var r=this.values();return Nb({next:function(){var o=r.next(),u=o.value,h=o.done;return h?{value:void 0,done:h}:{value:[u,u],done:h}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var r=this,a=this.data_.values();return Nb({next:function(){var u=a.next(),h=u.value,d=u.done;return d?{value:void 0,done:d}:{value:r.dehanceValue_(h),done:d}}})},e.intersection=function(r){if(Is(r)&&!ri(r))return r.intersection(this);var a=new Set(this);return a.intersection(r)},e.union=function(r){if(Is(r)&&!ri(r))return r.union(this);var a=new Set(this);return a.union(r)},e.difference=function(r){return new Set(this).difference(r)},e.symmetricDifference=function(r){if(Is(r)&&!ri(r))return r.symmetricDifference(this);var a=new Set(this);return a.symmetricDifference(r)},e.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},e.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},e.isDisjointFrom=function(r){if(Is(r)&&!ri(r))return r.isDisjointFrom(this);var a=new Set(this);return a.isDisjointFrom(r)},e.replace=function(r){var a=this;return ri(r)&&(r=new Set(r)),Ds(function(){Array.isArray(r)?(a.clear(),r.forEach(function(o){return a.add(o)})):Is(r)?(a.clear(),r.forEach(function(o){return a.add(o)})):r!=null&&pt("Cannot initialize set from "+r)}),this},e.observe_=function(r,a){return Ah(this,r)},e.intercept_=function(r){return Sh(this,r)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},wu(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),ri=Ha("ObservableSet",g2);function Nb(t){return t[Symbol.toStringTag]="SetIterator",iy(t)}var Pb=Object.create(null),Mb="remove",v2=function(){function t(n,r,a,o){r===void 0&&(r=new Map),o===void 0&&(o=sI),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=a,this.defaultAnnotation_=o,this.keysAtom_=new $a("ObservableObject.keys"),this.isPlainObject_=Vs(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(r){return this.values_.get(r).get()},e.setObservablePropValue_=function(r,a){var o=this.values_.get(r);if(o instanceof li)return o.set(a),!0;if(Fr(this)){var u=qr(this,{type:Vi,object:this.proxy_||this.target_,name:r,newValue:a});if(!u)return null;a=u.newValue}if(a=o.prepareNewValue_(a),a!==me.UNCHANGED){var h=si(this),d=!1,m=h||d?{type:Vi,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:o.value_,name:r,newValue:a}:null;o.setNewValue_(a),h&&ai(this,m)}return!0},e.get_=function(r){return me.trackingDerivation&&!Ms(this.target_,r)&&this.has_(r),this.target_[r]},e.set_=function(r,a,o){return o===void 0&&(o=!1),Ms(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,a):o?Reflect.set(this.target_,r,a):(this.target_[r]=a,!0):this.extend_(r,{value:a,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,o)},e.has_=function(r){if(!me.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var a=this.pendingKeys_.get(r);return a||(a=new Da(r in this.target_,xp,"ObservableObject.key?",!1),this.pendingKeys_.set(r,a)),a.get()},e.make_=function(r,a){if(a===!0&&(a=this.defaultAnnotation_),a!==!1){if(!(r in this.target_)){var o;if((o=this.target_[Mi])!=null&&o[r])return;pt(1,a.annotationType_,this.name_+"."+r.toString())}for(var u=this.target_;u&&u!==vh;){var h=$d(u,r);if(h){var d=a.make_(this,r,h,u);if(d===0)return;if(d===1)break}u=Object.getPrototypeOf(u)}Lb(this,a,r)}},e.extend_=function(r,a,o,u){if(u===void 0&&(u=!1),o===!0&&(o=this.defaultAnnotation_),o===!1)return this.defineProperty_(r,a,u);var h=o.extend_(this,r,a,u);return h&&Lb(this,o,r),h},e.defineProperty_=function(r,a,o){o===void 0&&(o=!1),this.keysAtom_;try{Hr();var u=this.delete_(r);if(!u)return u;if(Fr(this)){var h=qr(this,{object:this.proxy_||this.target_,name:r,type:Oa,newValue:a.value});if(!h)return null;var d=h.newValue;a.value!==d&&(a=Bo({},a,{value:d}))}if(o){if(!Reflect.defineProperty(this.target_,r,a))return!1}else ki(this.target_,r,a);this.notifyPropertyAddition_(r,a.value)}finally{$r()}return!0},e.defineObservableProperty_=function(r,a,o,u){u===void 0&&(u=!1),this.keysAtom_;try{Hr();var h=this.delete_(r);if(!h)return h;if(Fr(this)){var d=qr(this,{object:this.proxy_||this.target_,name:r,type:Oa,newValue:a});if(!d)return null;a=d.newValue}var m=kb(r),g={configurable:me.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:m.get,set:m.set};if(u){if(!Reflect.defineProperty(this.target_,r,g))return!1}else ki(this.target_,r,g);var y=new Da(a,o,"ObservableObject.key",!1);this.values_.set(r,y),this.notifyPropertyAddition_(r,y.value_)}finally{$r()}return!0},e.defineComputedProperty_=function(r,a,o){o===void 0&&(o=!1),this.keysAtom_;try{Hr();var u=this.delete_(r);if(!u)return u;if(Fr(this)){var h=qr(this,{object:this.proxy_||this.target_,name:r,type:Oa,newValue:void 0});if(!h)return null}a.name||(a.name="ObservableObject.key"),a.context=this.proxy_||this.target_;var d=kb(r),m={configurable:me.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:d.get,set:d.set};if(o){if(!Reflect.defineProperty(this.target_,r,m))return!1}else ki(this.target_,r,m);this.values_.set(r,new li(a)),this.notifyPropertyAddition_(r,void 0)}finally{$r()}return!0},e.delete_=function(r,a){if(a===void 0&&(a=!1),this.keysAtom_,!Ms(this.target_,r))return!0;if(Fr(this)){var o=qr(this,{object:this.proxy_||this.target_,name:r,type:Mb});if(!o)return null}try{var u;Hr();var h=si(this),d=!1,m=this.values_.get(r),g=void 0;if(!m&&(h||d)){var y;g=(y=$d(this.target_,r))==null?void 0:y.value}if(a){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(m&&(this.values_.delete(r),m instanceof Da&&(g=m.value_),t2(m)),this.keysAtom_.reportChanged(),(u=this.pendingKeys_)==null||(u=u.get(r))==null||u.set(r in this.target_),h||d){var w={type:Mb,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:g,name:r};h&&ai(this,w)}}finally{$r()}return!0},e.observe_=function(r,a){return Ah(this,r)},e.intercept_=function(r){return Sh(this,r)},e.notifyPropertyAddition_=function(r,a){var o,u=si(this),h=!1;if(u||h){var d=u||h?{type:Oa,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:a}:null;u&&ai(this,d)}(o=this.pendingKeys_)==null||(o=o.get(r))==null||o.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),cu(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function Jo(t,e){var n;if(Ms(t,Ue))return t;var r=(n=e==null?void 0:e.name)!=null?n:"ObservableObject",a=new v2(t,new Map,String(r),_I(e));return yh(t,Ue,a),t}var c9=Ha("ObservableObjectAdministration",v2);function kb(t){return Pb[t]||(Pb[t]={get:function(){return this[Ue].getObservablePropValue_(t)},set:function(n){return this[Ue].setObservablePropValue_(t,n)}})}function Ch(t){return Dp(t)?c9(t[Ue]):!1}function Lb(t,e,n){var r;(r=t.target_[Mi])==null||delete r[n]}var h9=E2(0),f9=function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1}(),vg=0,y2=function(){};function d9(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}d9(y2,Array.prototype);var ry=function(t){function e(r,a,o,u){var h;return o===void 0&&(o="ObservableArray"),u===void 0&&(u=!1),h=t.call(this)||this,Ka(function(){var d=new ny(o,a,u,!0);d.proxy_=h,kS(h,Ue,d),r&&r.length&&h.spliceWithArray(0,0,r),f9&&Object.defineProperty(h,"0",h9)}),h}US(e,t);var n=e.prototype;return n.concat=function(){this[Ue].atom_.reportObserved();for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return Array.prototype.concat.apply(this.slice(),o.map(function(h){return Rh(h)?h.slice():h}))},n[Symbol.iterator]=function(){var r=this,a=0;return iy({next:function(){return a<r.length?{value:r[a++],done:!1}:{done:!0,value:void 0}}})},wu(e,[{key:"length",get:function(){return this[Ue].getArrayLength_()},set:function(a){this[Ue].setArrayLength_(a)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(y2);Object.entries(Wd).forEach(function(t){var e=t[0],n=t[1];e!=="concat"&&yh(ry.prototype,e,n)});function E2(t){return{enumerable:!1,configurable:!0,get:function(){return this[Ue].get_(t)},set:function(n){this[Ue].set_(t,n)}}}function p9(t){ki(ry.prototype,""+t,E2(t))}function b2(t){if(t>vg){for(var e=vg;e<t+100;e++)p9(e);vg=t}}b2(1e3);function m9(t,e,n){return new ry(t,e,n)}function Jd(t,e){if(typeof t=="object"&&t!==null){if(Rh(t))return e!==void 0&&pt(23),t[Ue].atom_;if(ri(t))return t.atom_;if(Ga(t)){if(e===void 0)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||pt(25,e,cv(t)),n}if(Ch(t)){if(!e)return pt(26);var r=t[Ue].values_.get(e);return r||pt(27,e,cv(t)),r}if(Zv(t)||Th(t)||Xd(t))return t}else if(oi(t)&&Xd(t[Ue]))return t[Ue];pt(28)}function _9(t,e){if(t||pt(29),Zv(t)||Th(t)||Xd(t)||Ga(t)||ri(t))return t;if(t[Ue])return t[Ue];pt(24,t)}function cv(t,e){var n;if(e!==void 0)n=Jd(t,e);else{if(th(t))return t.name;Ch(t)||Ga(t)||ri(t)?n=_9(t):n=Jd(t)}return n.name_}function Ka(t){var e=Zo(),n=Pp(!0);Hr();try{return t()}finally{$r(),Mp(n),ks(e)}}var Vb=vh.toString;function w2(t,e,n){return n===void 0&&(n=-1),hv(t,e,n)}function hv(t,e,n,r,a){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var o=typeof t;if(o!=="function"&&o!=="object"&&typeof e!="object")return!1;var u=Vb.call(t);if(u!==Vb.call(e))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++;break}t=Ub(t),e=Ub(e);var h=u==="[object Array]";if(!h){if(typeof t!="object"||typeof e!="object")return!1;var d=t.constructor,m=e.constructor;if(d!==m&&!(oi(d)&&d instanceof d&&oi(m)&&m instanceof m)&&"constructor"in t&&"constructor"in e)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],a=a||[];for(var g=r.length;g--;)if(r[g]===t)return a[g]===e;if(r.push(t),a.push(e),h){if(g=t.length,g!==e.length)return!1;for(;g--;)if(!hv(t[g],e[g],n-1,r,a))return!1}else{var y=Object.keys(t),w=y.length;if(Object.keys(e).length!==w)return!1;for(var T=0;T<w;T++){var S=y[T];if(!(Ms(e,S)&&hv(t[S],e[S],n-1,r,a)))return!1}}return r.pop(),a.pop(),!0}function Ub(t){return Rh(t)?t.slice():bu(t)||Ga(t)||Is(t)||ri(t)?Array.from(t.entries()):t}var jb,g9=((jb=Ip().Iterator)==null?void 0:jb.prototype)||{};function iy(t){return t[Symbol.iterator]=v9,Object.assign(Object.create(g9),t)}function v9(){return this}["Symbol","Map","Set"].forEach(function(t){var e=Ip();typeof e[t]>"u"&&pt("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:kI,extras:{getDebugName:cv},$mobx:Ue});h2({useProxies:"always",computedRequiresReaction:!0,reactionRequiresObservable:!0,observableRequiresReaction:!0});var yg={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bb;function y9(){if(Bb)return Ye;Bb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=y&&j[y]||j["@@iterator"],typeof j=="function"?j:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,M={};function I(j,ce,be){this.props=j,this.context=ce,this.refs=M,this.updater=be||T}I.prototype.isReactComponent={},I.prototype.setState=function(j,ce){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ce,"setState")},I.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function U(){}U.prototype=I.prototype;function H(j,ce,be){this.props=j,this.context=ce,this.refs=M,this.updater=be||T}var X=H.prototype=new U;X.constructor=H,S(X,I.prototype),X.isPureReactComponent=!0;var ie=Array.isArray,x={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function k(j,ce,be,ge,Ee,Be){return be=Be.ref,{$$typeof:t,type:j,key:ce,ref:be!==void 0?be:null,props:Be}}function O(j,ce){return k(j.type,ce,void 0,void 0,void 0,j.props)}function C(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function N(j){var ce={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(be){return ce[be]})}var B=/\/+/g;function $(j,ce){return typeof j=="object"&&j!==null&&j.key!=null?N(""+j.key):ce.toString(36)}function L(){}function xt(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(L,L):(j.status="pending",j.then(function(ce){j.status==="pending"&&(j.status="fulfilled",j.value=ce)},function(ce){j.status==="pending"&&(j.status="rejected",j.reason=ce)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function je(j,ce,be,ge,Ee){var Be=typeof j;(Be==="undefined"||Be==="boolean")&&(j=null);var Ge=!1;if(j===null)Ge=!0;else switch(Be){case"bigint":case"string":case"number":Ge=!0;break;case"object":switch(j.$$typeof){case t:case e:Ge=!0;break;case g:return Ge=j._init,je(Ge(j._payload),ce,be,ge,Ee)}}if(Ge)return Ee=Ee(j),Ge=ge===""?"."+$(j,0):ge,ie(Ee)?(be="",Ge!=null&&(be=Ge.replace(B,"$&/")+"/"),je(Ee,ce,be,"",function(et){return et})):Ee!=null&&(C(Ee)&&(Ee=O(Ee,be+(Ee.key==null||j&&j.key===Ee.key?"":(""+Ee.key).replace(B,"$&/")+"/")+Ge)),ce.push(Ee)),1;Ge=0;var qt=ge===""?".":ge+":";if(ie(j))for(var ut=0;ut<j.length;ut++)ge=j[ut],Be=qt+$(ge,ut),Ge+=je(ge,ce,be,Be,Ee);else if(ut=w(j),typeof ut=="function")for(j=ut.call(j),ut=0;!(ge=j.next()).done;)ge=ge.value,Be=qt+$(ge,ut++),Ge+=je(ge,ce,be,Be,Ee);else if(Be==="object"){if(typeof j.then=="function")return je(xt(j),ce,be,ge,Ee);throw ce=String(j),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return Ge}function de(j,ce,be){if(j==null)return j;var ge=[],Ee=0;return je(j,ge,"","",function(Be){return ce.call(be,Be,Ee++)}),ge}function Oe(j){if(j._status===-1){var ce=j._result;ce=ce(),ce.then(function(be){(j._status===0||j._status===-1)&&(j._status=1,j._result=be)},function(be){(j._status===0||j._status===-1)&&(j._status=2,j._result=be)}),j._status===-1&&(j._status=0,j._result=ce)}if(j._status===1)return j._result.default;throw j._result}var Re=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function Xe(){}return Ye.Children={map:de,forEach:function(j,ce,be){de(j,function(){ce.apply(this,arguments)},be)},count:function(j){var ce=0;return de(j,function(){ce++}),ce},toArray:function(j){return de(j,function(ce){return ce})||[]},only:function(j){if(!C(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ye.Component=I,Ye.Fragment=n,Ye.Profiler=a,Ye.PureComponent=H,Ye.StrictMode=r,Ye.Suspense=d,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Ye.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ye.cache=function(j){return function(){return j.apply(null,arguments)}},Ye.cloneElement=function(j,ce,be){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ge=S({},j.props),Ee=j.key,Be=void 0;if(ce!=null)for(Ge in ce.ref!==void 0&&(Be=void 0),ce.key!==void 0&&(Ee=""+ce.key),ce)!te.call(ce,Ge)||Ge==="key"||Ge==="__self"||Ge==="__source"||Ge==="ref"&&ce.ref===void 0||(ge[Ge]=ce[Ge]);var Ge=arguments.length-2;if(Ge===1)ge.children=be;else if(1<Ge){for(var qt=Array(Ge),ut=0;ut<Ge;ut++)qt[ut]=arguments[ut+2];ge.children=qt}return k(j.type,Ee,void 0,void 0,Be,ge)},Ye.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},Ye.createElement=function(j,ce,be){var ge,Ee={},Be=null;if(ce!=null)for(ge in ce.key!==void 0&&(Be=""+ce.key),ce)te.call(ce,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Ee[ge]=ce[ge]);var Ge=arguments.length-2;if(Ge===1)Ee.children=be;else if(1<Ge){for(var qt=Array(Ge),ut=0;ut<Ge;ut++)qt[ut]=arguments[ut+2];Ee.children=qt}if(j&&j.defaultProps)for(ge in Ge=j.defaultProps,Ge)Ee[ge]===void 0&&(Ee[ge]=Ge[ge]);return k(j,Be,void 0,void 0,null,Ee)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(j){return{$$typeof:h,render:j}},Ye.isValidElement=C,Ye.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:Oe}},Ye.memo=function(j,ce){return{$$typeof:m,type:j,compare:ce===void 0?null:ce}},Ye.startTransition=function(j){var ce=x.T,be={};x.T=be;try{var ge=j(),Ee=x.S;Ee!==null&&Ee(be,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(Xe,Re)}catch(Be){Re(Be)}finally{x.T=ce}},Ye.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Ye.use=function(j){return x.H.use(j)},Ye.useActionState=function(j,ce,be){return x.H.useActionState(j,ce,be)},Ye.useCallback=function(j,ce){return x.H.useCallback(j,ce)},Ye.useContext=function(j){return x.H.useContext(j)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(j,ce){return x.H.useDeferredValue(j,ce)},Ye.useEffect=function(j,ce){return x.H.useEffect(j,ce)},Ye.useId=function(){return x.H.useId()},Ye.useImperativeHandle=function(j,ce,be){return x.H.useImperativeHandle(j,ce,be)},Ye.useInsertionEffect=function(j,ce){return x.H.useInsertionEffect(j,ce)},Ye.useLayoutEffect=function(j,ce){return x.H.useLayoutEffect(j,ce)},Ye.useMemo=function(j,ce){return x.H.useMemo(j,ce)},Ye.useOptimistic=function(j,ce){return x.H.useOptimistic(j,ce)},Ye.useReducer=function(j,ce,be){return x.H.useReducer(j,ce,be)},Ye.useRef=function(j){return x.H.useRef(j)},Ye.useState=function(j){return x.H.useState(j)},Ye.useSyncExternalStore=function(j,ce,be){return x.H.useSyncExternalStore(j,ce,be)},Ye.useTransition=function(){return x.H.useTransition()},Ye.version="19.0.0",Ye}var zb;function kp(){return zb||(zb=1,yg.exports=y9()),yg.exports}var F=kp();const ep=DS(F);var Eg={exports:{}},Rc={},bg={exports:{}},wg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fb;function E9(){return Fb||(Fb=1,function(t){function e(de,Oe){var Re=de.length;de.push(Oe);e:for(;0<Re;){var Xe=Re-1>>>1,j=de[Xe];if(0<a(j,Oe))de[Xe]=Oe,de[Re]=j,Re=Xe;else break e}}function n(de){return de.length===0?null:de[0]}function r(de){if(de.length===0)return null;var Oe=de[0],Re=de.pop();if(Re!==Oe){de[0]=Re;e:for(var Xe=0,j=de.length,ce=j>>>1;Xe<ce;){var be=2*(Xe+1)-1,ge=de[be],Ee=be+1,Be=de[Ee];if(0>a(ge,Re))Ee<j&&0>a(Be,ge)?(de[Xe]=Be,de[Ee]=Re,Xe=Ee):(de[Xe]=ge,de[be]=Re,Xe=be);else if(Ee<j&&0>a(Be,Re))de[Xe]=Be,de[Ee]=Re,Xe=Ee;else break e}}return Oe}function a(de,Oe){var Re=de.sortIndex-Oe.sortIndex;return Re!==0?Re:de.id-Oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],m=[],g=1,y=null,w=3,T=!1,S=!1,M=!1,I=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function X(de){for(var Oe=n(m);Oe!==null;){if(Oe.callback===null)r(m);else if(Oe.startTime<=de)r(m),Oe.sortIndex=Oe.expirationTime,e(d,Oe);else break;Oe=n(m)}}function ie(de){if(M=!1,X(de),!S)if(n(d)!==null)S=!0,xt();else{var Oe=n(m);Oe!==null&&je(ie,Oe.startTime-de)}}var x=!1,te=-1,k=5,O=-1;function C(){return!(t.unstable_now()-O<k)}function N(){if(x){var de=t.unstable_now();O=de;var Oe=!0;try{e:{S=!1,M&&(M=!1,U(te),te=-1),T=!0;var Re=w;try{t:{for(X(de),y=n(d);y!==null&&!(y.expirationTime>de&&C());){var Xe=y.callback;if(typeof Xe=="function"){y.callback=null,w=y.priorityLevel;var j=Xe(y.expirationTime<=de);if(de=t.unstable_now(),typeof j=="function"){y.callback=j,X(de),Oe=!0;break t}y===n(d)&&r(d),X(de)}else r(d);y=n(d)}if(y!==null)Oe=!0;else{var ce=n(m);ce!==null&&je(ie,ce.startTime-de),Oe=!1}}break e}finally{y=null,w=Re,T=!1}Oe=void 0}}finally{Oe?B():x=!1}}}var B;if(typeof H=="function")B=function(){H(N)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,L=$.port2;$.port1.onmessage=N,B=function(){L.postMessage(null)}}else B=function(){I(N,0)};function xt(){x||(x=!0,B())}function je(de,Oe){te=I(function(){de(t.unstable_now())},Oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(de){de.callback=null},t.unstable_continueExecution=function(){S||T||(S=!0,xt())},t.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<de?Math.floor(1e3/de):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(de){switch(w){case 1:case 2:case 3:var Oe=3;break;default:Oe=w}var Re=w;w=Oe;try{return de()}finally{w=Re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(de,Oe){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var Re=w;w=de;try{return Oe()}finally{w=Re}},t.unstable_scheduleCallback=function(de,Oe,Re){var Xe=t.unstable_now();switch(typeof Re=="object"&&Re!==null?(Re=Re.delay,Re=typeof Re=="number"&&0<Re?Xe+Re:Xe):Re=Xe,de){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=Re+j,de={id:g++,callback:Oe,priorityLevel:de,startTime:Re,expirationTime:j,sortIndex:-1},Re>Xe?(de.sortIndex=Re,e(m,de),n(d)===null&&de===n(m)&&(M?(U(te),te=-1):M=!0,je(ie,Re-Xe))):(de.sortIndex=j,e(d,de),S||T||(S=!0,xt())),de},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(de){var Oe=w;return function(){var Re=w;w=Oe;try{return de.apply(this,arguments)}finally{w=Re}}}}(wg)),wg}var qb;function b9(){return qb||(qb=1,bg.exports=E9()),bg.exports}var Tg={exports:{}},Un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hb;function w9(){if(Hb)return Un;Hb=1;var t=kp();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:d,containerInfo:m,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Un.createPortal=function(d,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(d,m,null,g)},Un.flushSync=function(d){var m=u.T,g=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=m,r.p=g,r.d.f()}},Un.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(d,m))},Un.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Un.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var g=m.as,y=h(g,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:T}):g==="script"&&r.d.X(d,{crossOrigin:y,integrity:w,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Un.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(d)},Un.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=h(g,m.crossOrigin);r.d.L(d,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Un.preloadModule=function(d,m){if(typeof d=="string")if(m){var g=h(m.as,m.crossOrigin);r.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(d)},Un.requestFormReset=function(d){r.d.r(d)},Un.unstable_batchedUpdates=function(d,m){return d(m)},Un.useFormState=function(d,m,g){return u.H.useFormState(d,m,g)},Un.useFormStatus=function(){return u.H.useHostTransitionStatus()},Un.version="19.0.0",Un}var $b;function T2(){if($b)return Tg.exports;$b=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Tg.exports=w9(),Tg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gb;function T9(){if(Gb)return Rc;Gb=1;var t=b9(),e=kp(),n=T2();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var o=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),T=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),ie=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function te(i){return i===null||typeof i!="object"?null:(i=x&&i[x]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function O(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case d:return"Fragment";case h:return"Portal";case g:return"Profiler";case m:return"StrictMode";case M:return"Suspense";case I:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case T:return(i.displayName||"Context")+".Provider";case w:return(i._context.displayName||"Context")+".Consumer";case S:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case U:return s=i.displayName||null,s!==null?s:O(i.type)||"Memo";case H:s=i._payload,i=i._init;try{return O(i(s))}catch{}}return null}var C=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,B,$;function L(i){if(B===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);B=s&&s[1]||"",$=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+B+i+$}var xt=!1;function je(i,s){if(!i||xt)return"";xt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ne){var W=ne}Reflect.construct(i,[],ue)}else{try{ue.call()}catch(ne){W=ne}i.call(ue.prototype)}}else{try{throw Error()}catch(ne){W=ne}(ue=i())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ne){if(ne&&W&&typeof ne.stack=="string")return[ne.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=c.DetermineComponentFrameRoot(),b=_[0],A=_[1];if(b&&A){var P=b.split(`
`),q=A.split(`
`);for(p=c=0;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;for(;p<q.length&&!q[p].includes("DetermineComponentFrameRoot");)p++;if(c===P.length||p===q.length)for(c=P.length-1,p=q.length-1;1<=c&&0<=p&&P[c]!==q[p];)p--;for(;1<=c&&0<=p;c--,p--)if(P[c]!==q[p]){if(c!==1||p!==1)do if(c--,p--,0>p||P[c]!==q[p]){var re=`
`+P[c].replace(" at new "," at ");return i.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",i.displayName)),re}while(1<=c&&0<=p);break}}}finally{xt=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?L(l):""}function de(i){switch(i.tag){case 26:case 27:case 5:return L(i.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 15:return i=je(i.type,!1),i;case 11:return i=je(i.type.render,!1),i;case 1:return i=je(i.type,!0),i;default:return""}}function Oe(i){try{var s="";do s+=de(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Re(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function Xe(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function j(i){if(Re(i)!==i)throw Error(r(188))}function ce(i){var s=i.alternate;if(!s){if(s=Re(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,c=s;;){var p=l.return;if(p===null)break;var _=p.alternate;if(_===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===_.child){for(_=p.child;_;){if(_===l)return j(p),i;if(_===c)return j(p),s;_=_.sibling}throw Error(r(188))}if(l.return!==c.return)l=p,c=_;else{for(var b=!1,A=p.child;A;){if(A===l){b=!0,l=p,c=_;break}if(A===c){b=!0,c=p,l=_;break}A=A.sibling}if(!b){for(A=_.child;A;){if(A===l){b=!0,l=_,c=p;break}if(A===c){b=!0,c=_,l=p;break}A=A.sibling}if(!b)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function be(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=be(i),s!==null)return s;i=i.sibling}return null}var ge=Array.isArray,Ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Be={pending:!1,data:null,method:null,action:null},Ge=[],qt=-1;function ut(i){return{current:i}}function et(i){0>qt||(i.current=Ge[qt],Ge[qt]=null,qt--)}function rt(i,s){qt++,Ge[qt]=i.current,i.current=s}var pn=ut(null),Qr=ut(null),Jt=ut(null),di=ut(null);function pi(i,s){switch(rt(Jt,s),rt(Qr,i),rt(pn,null),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?ZE(s):0;break;default:if(i=i===8?s.parentNode:s,s=i.tagName,i=i.namespaceURI)i=ZE(i),s=JE(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}et(pn),rt(pn,s)}function wr(){et(pn),et(Qr),et(Jt)}function Ja(i){i.memoizedState!==null&&rt(di,i);var s=pn.current,l=JE(s,i.type);s!==l&&(rt(Qr,i),rt(pn,l))}function qs(i){Qr.current===i&&(et(pn),et(Qr)),di.current===i&&(et(di),Ec._currentValue=Be)}var Hs=Object.prototype.hasOwnProperty,es=t.unstable_scheduleCallback,Jn=t.unstable_cancelCallback,ts=t.unstable_shouldYield,$s=t.unstable_requestPaint,mn=t.unstable_now,ar=t.unstable_getCurrentPriorityLevel,At=t.unstable_ImmediatePriority,Yt=t.unstable_UserBlockingPriority,or=t.unstable_NormalPriority,al=t.unstable_LowPriority,er=t.unstable_IdlePriority,ol=t.log,mi=t.unstable_setDisableYieldValue,Yr=null,_n=null;function Gs(i){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(Yr,i,void 0,(i.current.flags&128)===128)}catch{}}function Gn(i){if(typeof ol=="function"&&mi(i),_n&&typeof _n.setStrictMode=="function")try{_n.setStrictMode(Yr,i)}catch{}}var gn=Math.clz32?Math.clz32:eo,ns=Math.log,ll=Math.LN2;function eo(i){return i>>>=0,i===0?32:31-(ns(i)/ll|0)|0}var Tr=128,Xr=4194304;function Ln(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Rn(i,s){var l=i.pendingLanes;if(l===0)return 0;var c=0,p=i.suspendedLanes,_=i.pingedLanes,b=i.warmLanes;i=i.finishedLanes!==0;var A=l&134217727;return A!==0?(l=A&~p,l!==0?c=Ln(l):(_&=A,_!==0?c=Ln(_):i||(b=A&~b,b!==0&&(c=Ln(b))))):(A=l&~p,A!==0?c=Ln(A):_!==0?c=Ln(_):i||(b=l&~b,b!==0&&(c=Ln(b)))),c===0?0:s!==0&&s!==c&&(s&p)===0&&(p=c&-c,b=s&-s,p>=b||p===32&&(b&4194176)!==0)?s:c}function _i(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Ks(i,s){switch(i){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V(){var i=Tr;return Tr<<=1,(Tr&4194176)===0&&(Tr=128),i}function G(){var i=Xr;return Xr<<=1,(Xr&62914560)===0&&(Xr=4194304),i}function Z(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function ae(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function _e(i,s,l,c,p,_){var b=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var A=i.entanglements,P=i.expirationTimes,q=i.hiddenUpdates;for(l=b&~l;0<l;){var re=31-gn(l),ue=1<<re;A[re]=0,P[re]=-1;var W=q[re];if(W!==null)for(q[re]=null,re=0;re<W.length;re++){var ne=W[re];ne!==null&&(ne.lane&=-536870913)}l&=~ue}c!==0&&Ne(i,c,0),_!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=_&~(b&~s))}function Ne(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-gn(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194218}function xe(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var c=31-gn(l),p=1<<c;p&s|i[c]&s&&(i[c]|=s),l&=~p}}function Ce(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ie(){var i=Ee.p;return i!==0?i:(i=window.event,i===void 0?32:gb(i.type))}function ye(i,s){var l=Ee.p;try{return Ee.p=i,s()}finally{Ee.p=l}}var Te=Math.random().toString(36).slice(2),Se="__reactFiber$"+Te,ke="__reactProps$"+Te,_t="__reactContainer$"+Te,Ut="__reactEvents$"+Te,Ot="__reactListeners$"+Te,mt="__reactHandles$"+Te,Vt="__reactResources$"+Te,Kn="__reactMarker$"+Te;function lr(i){delete i[Se],delete i[ke],delete i[Ut],delete i[Ot],delete i[mt]}function Xt(i){var s=i[Se];if(s)return s;for(var l=i.parentNode;l;){if(s=l[_t]||l[Se]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=nb(i);i!==null;){if(l=i[Se])return l;i=nb(i)}return s}i=l,l=i.parentNode}return null}function en(i){if(i=i[Se]||i[_t]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Sr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function tr(i){var s=i[Vt];return s||(s=i[Vt]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function bt(i){i[Kn]=!0}var gi=new Set,Wr={};function We(i,s){wt(i,s),wt(i+"Capture",s)}function wt(i,s){for(Wr[i]=s,i=0;i<s.length;i++)gi.add(s[i])}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nt={},Ar={};function to(i){return Hs.call(Ar,i)?!0:Hs.call(Nt,i)?!1:rs.test(i)?Ar[i]=!0:(Nt[i]=!0,!1)}function vi(i,s,l){if(to(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function Qs(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function Rr(i,s,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+c)}}function Qn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Gh(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Em(i){var s=Gh(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),c=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,_=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(b){c=""+b,_.call(this,b)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function no(i){i._valueTracker||(i._valueTracker=Em(i))}function Du(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return i&&(c=Gh(i)?i.checked?"true":"false":i.value),i=c,i!==l?(s.setValue(i),!0):!1}function ul(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var is=/[\n"\\]/g;function Ht(i){return i.replace(is,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ys(i,s,l,c,p,_,b,A){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),s!=null?b==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Qn(s)):i.value!==""+Qn(s)&&(i.value=""+Qn(s)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),s!=null?cl(i,b,Qn(s)):l!=null?cl(i,b,Qn(l)):c!=null&&i.removeAttribute("value"),p==null&&_!=null&&(i.defaultChecked=!!_),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+Qn(A):i.removeAttribute("name")}function ro(i,s,l,c,p,_,b,A){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),s!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||s!=null))return;l=l!=null?""+Qn(l):"",s=s!=null?""+Qn(s):l,A||s===i.value||(i.value=s),i.defaultValue=s}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function cl(i,s,l){s==="number"&&ul(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function gt(i,s,l,c){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&c&&(i[l].defaultSelected=!0)}else{for(l=""+Qn(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function io(i,s,l){if(s!=null&&(s=""+Qn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+Qn(l):""}function Xs(i,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(r(92));if(ge(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=Qn(s),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function Cr(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var bm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xu(i,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,l):typeof l!="number"||l===0||bm.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function Kh(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in s)c=s[p],s.hasOwnProperty(p)&&l[p]!==c&&xu(i,p,c)}else for(var _ in s)s.hasOwnProperty(_)&&xu(i,_,s[_])}function Nu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yi(i){return Tm.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Or=null;function hl(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ss=null,as=null;function os(i){var s=en(i);if(s&&(i=s.stateNode)){var l=i[ke]||null;e:switch(i=s.stateNode,s.type){case"input":if(Ys(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ht(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==i&&c.form===i.form){var p=c[ke]||null;if(!p)throw Error(r(90));Ys(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===i.form&&Du(c)}break e;case"textarea":io(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&gt(i,!!l.multiple,s,!1)}}}var Pu=!1;function Qh(i,s,l){if(Pu)return i(s,l);Pu=!0;try{var c=i(s);return c}finally{if(Pu=!1,(ss!==null||as!==null)&&(Bf(),ss&&(s=ss,i=as,as=ss=null,os(s),i)))for(s=0;s<i.length;s++)os(i[s])}}function so(i,s){var l=i.stateNode;if(l===null)return null;var c=l[ke]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Ir=!1;if(vn)try{var ao={};Object.defineProperty(ao,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",ao,ao),window.removeEventListener("test",ao,ao)}catch{Ir=!1}var Ei=null,Ws=null,ls=null;function Mu(){if(ls)return ls;var i,s=Ws,l=s.length,c,p="value"in Ei?Ei.value:Ei.textContent,_=p.length;for(i=0;i<l&&s[i]===p[i];i++);var b=l-i;for(c=1;c<=b&&s[l-c]===p[_-c];c++);return ls=p.slice(i,1<c?1-c:void 0)}function bi(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function wi(){return!0}function ku(){return!1}function yn(i){function s(l,c,p,_,b){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=_,this.target=b,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(l=i[A],this[A]=l?l(_):_[A]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?wi:ku,this.isPropagationStopped=ku,this}return N(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),s}var St={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fl=yn(St),oo=N({},St,{view:0,detail:0}),Yh=yn(oo),dl,pl,Ti,lo=N({},oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ho,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ti&&(Ti&&i.type==="mousemove"?(dl=i.screenX-Ti.screenX,pl=i.screenY-Ti.screenY):pl=dl=0,Ti=i),dl)},movementY:function(i){return"movementY"in i?i.movementY:pl}}),Dr=yn(lo),Xh=N({},lo,{dataTransfer:0}),Sm=yn(Xh),uo=N({},oo,{relatedTarget:0}),ml=yn(uo),Lu=N({},St,{animationName:0,elapsedTime:0,pseudoElement:0}),_l=yn(Lu),Wh=N({},St,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),gl=yn(Wh),Am=N({},St,{data:0}),Vu=yn(Am),co={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Jh[i])?!!s[i]:!1}function ho(){return Uu}var ef=N({},oo,{key:function(i){if(i.key){var s=co[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=bi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ho,charCode:function(i){return i.type==="keypress"?bi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?bi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),vl=yn(ef),tf=N({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ju=yn(tf),us=N({},oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ho}),nf=yn(us),rf=N({},St,{propertyName:0,elapsedTime:0,pseudoElement:0}),sf=yn(rf),af=N({},lo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),yl=yn(af),Yn=N({},St,{newState:0,oldState:0}),of=yn(Yn),lf=[9,13,27,32],Si=vn&&"CompositionEvent"in window,f=null;vn&&"documentMode"in document&&(f=document.documentMode);var v=vn&&"TextEvent"in window&&!f,E=vn&&(!Si||f&&8<f&&11>=f),R=" ",Q=!1;function J(i,s){switch(i){case"keyup":return lf.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ct=!1;function un(i,s){switch(i){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(Q=!0,R);case"textInput":return i=s.data,i===R&&Q?null:i;default:return null}}function ht(i,s){if(ct)return i==="compositionend"||!Si&&J(i,s)?(i=Mu(),ls=Ws=Ei=null,ct=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var En={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cn(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!En[i.type]:s==="textarea"}function cs(i,s,l,c){ss?as?as.push(c):as=[c]:ss=c,s=$f(s,"onChange"),0<s.length&&(l=new fl("onChange","change",null,l,c),i.push({event:l,listeners:s}))}var Cn=null,Ai=null;function Bu(i){KE(i,0)}function uf(i){var s=Sr(i);if(Du(s))return i}function w0(i,s){if(i==="change")return s}var T0=!1;if(vn){var Rm;if(vn){var Cm="oninput"in document;if(!Cm){var S0=document.createElement("div");S0.setAttribute("oninput","return;"),Cm=typeof S0.oninput=="function"}Rm=Cm}else Rm=!1;T0=Rm&&(!document.documentMode||9<document.documentMode)}function A0(){Cn&&(Cn.detachEvent("onpropertychange",R0),Ai=Cn=null)}function R0(i){if(i.propertyName==="value"&&uf(Ai)){var s=[];cs(s,Ai,i,hl(i)),Qh(Bu,s)}}function WC(i,s,l){i==="focusin"?(A0(),Cn=s,Ai=l,Cn.attachEvent("onpropertychange",R0)):i==="focusout"&&A0()}function ZC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return uf(Ai)}function JC(i,s){if(i==="click")return uf(s)}function e4(i,s){if(i==="input"||i==="change")return uf(s)}function t4(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var ur=typeof Object.is=="function"?Object.is:t4;function zu(i,s){if(ur(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!Hs.call(s,p)||!ur(i[p],s[p]))return!1}return!0}function C0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function O0(i,s){var l=C0(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=s&&c>=s)return{node:l,offset:s-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=C0(l)}}function I0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?I0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function D0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ul(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=ul(i.document)}return s}function Om(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function n4(i,s){var l=D0(s);s=i.focusedElem;var c=i.selectionRange;if(l!==s&&s&&s.ownerDocument&&I0(s.ownerDocument.documentElement,s)){if(c!==null&&Om(s)){if(i=c.start,l=c.end,l===void 0&&(l=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(l,s.value.length);else if(l=(i=s.ownerDocument||document)&&i.defaultView||window,l.getSelection){l=l.getSelection();var p=s.textContent.length,_=Math.min(c.start,p);c=c.end===void 0?_:Math.min(c.end,p),!l.extend&&_>c&&(p=c,c=_,_=p),p=O0(s,_);var b=O0(s,c);p&&b&&(l.rangeCount!==1||l.anchorNode!==p.node||l.anchorOffset!==p.offset||l.focusNode!==b.node||l.focusOffset!==b.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),l.removeAllRanges(),_>c?(l.addRange(i),l.extend(b.node,b.offset)):(i.setEnd(b.node,b.offset),l.addRange(i)))}}for(i=[],l=s;l=l.parentNode;)l.nodeType===1&&i.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)l=i[s],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var r4=vn&&"documentMode"in document&&11>=document.documentMode,El=null,Im=null,Fu=null,Dm=!1;function x0(i,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Dm||El==null||El!==ul(c)||(c=El,"selectionStart"in c&&Om(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Fu&&zu(Fu,c)||(Fu=c,c=$f(Im,"onSelect"),0<c.length&&(s=new fl("onSelect","select",null,s,l),i.push({event:s,listeners:c}),s.target=El)))}function fo(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var bl={animationend:fo("Animation","AnimationEnd"),animationiteration:fo("Animation","AnimationIteration"),animationstart:fo("Animation","AnimationStart"),transitionrun:fo("Transition","TransitionRun"),transitionstart:fo("Transition","TransitionStart"),transitioncancel:fo("Transition","TransitionCancel"),transitionend:fo("Transition","TransitionEnd")},xm={},N0={};vn&&(N0=document.createElement("div").style,"AnimationEvent"in window||(delete bl.animationend.animation,delete bl.animationiteration.animation,delete bl.animationstart.animation),"TransitionEvent"in window||delete bl.transitionend.transition);function po(i){if(xm[i])return xm[i];if(!bl[i])return i;var s=bl[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in N0)return xm[i]=s[l];return i}var P0=po("animationend"),M0=po("animationiteration"),k0=po("animationstart"),i4=po("transitionrun"),s4=po("transitionstart"),a4=po("transitioncancel"),L0=po("transitionend"),V0=new Map,U0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Zr(i,s){V0.set(i,s),We(s,[i])}var xr=[],wl=0,Nm=0;function cf(){for(var i=wl,s=Nm=wl=0;s<i;){var l=xr[s];xr[s++]=null;var c=xr[s];xr[s++]=null;var p=xr[s];xr[s++]=null;var _=xr[s];if(xr[s++]=null,c!==null&&p!==null){var b=c.pending;b===null?p.next=p:(p.next=b.next,b.next=p),c.pending=p}_!==0&&j0(l,p,_)}}function hf(i,s,l,c){xr[wl++]=i,xr[wl++]=s,xr[wl++]=l,xr[wl++]=c,Nm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Pm(i,s,l,c){return hf(i,s,l,c),ff(i)}function Zs(i,s){return hf(i,null,null,s),ff(i)}function j0(i,s,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var p=!1,_=i.return;_!==null;)_.childLanes|=l,c=_.alternate,c!==null&&(c.childLanes|=l),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(p=!0)),i=_,_=_.return;p&&s!==null&&i.tag===3&&(_=i.stateNode,p=31-gn(l),_=_.hiddenUpdates,i=_[p],i===null?_[p]=[s]:i.push(s),s.lane=l|536870912)}function ff(i){if(50<dc)throw dc=0,j_=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Tl={},B0=new WeakMap;function Nr(i,s){if(typeof i=="object"&&i!==null){var l=B0.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Oe(s)},B0.set(i,s),s)}return{value:i,source:s,stack:Oe(s)}}var Sl=[],Al=0,df=null,pf=0,Pr=[],Mr=0,mo=null,hs=1,fs="";function _o(i,s){Sl[Al++]=pf,Sl[Al++]=df,df=i,pf=s}function z0(i,s,l){Pr[Mr++]=hs,Pr[Mr++]=fs,Pr[Mr++]=mo,mo=i;var c=hs;i=fs;var p=32-gn(c)-1;c&=~(1<<p),l+=1;var _=32-gn(s)+p;if(30<_){var b=p-p%5;_=(c&(1<<b)-1).toString(32),c>>=b,p-=b,hs=1<<32-gn(s)+p|l<<p|c,fs=_+i}else hs=1<<_|l<<p|c,fs=i}function Mm(i){i.return!==null&&(_o(i,1),z0(i,1,0))}function km(i){for(;i===df;)df=Sl[--Al],Sl[Al]=null,pf=Sl[--Al],Sl[Al]=null;for(;i===mo;)mo=Pr[--Mr],Pr[Mr]=null,fs=Pr[--Mr],Pr[Mr]=null,hs=Pr[--Mr],Pr[Mr]=null}var Xn=null,On=null,vt=!1,Jr=null,Ri=!1,Lm=Error(r(519));function go(i){var s=Error(r(418,""));throw $u(Nr(s,i)),Lm}function F0(i){var s=i.stateNode,l=i.type,c=i.memoizedProps;switch(s[Se]=i,s[ke]=c,l){case"dialog":ot("cancel",s),ot("close",s);break;case"iframe":case"object":case"embed":ot("load",s);break;case"video":case"audio":for(l=0;l<mc.length;l++)ot(mc[l],s);break;case"source":ot("error",s);break;case"img":case"image":case"link":ot("error",s),ot("load",s);break;case"details":ot("toggle",s);break;case"input":ot("invalid",s),ro(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),no(s);break;case"select":ot("invalid",s);break;case"textarea":ot("invalid",s),Xs(s,c.value,c.defaultValue,c.children),no(s)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||WE(s.textContent,l)?(c.popover!=null&&(ot("beforetoggle",s),ot("toggle",s)),c.onScroll!=null&&ot("scroll",s),c.onScrollEnd!=null&&ot("scrollend",s),c.onClick!=null&&(s.onclick=Gf),s=!0):s=!1,s||go(i)}function q0(i){for(Xn=i.return;Xn;)switch(Xn.tag){case 3:case 27:Ri=!0;return;case 5:case 13:Ri=!1;return;default:Xn=Xn.return}}function qu(i){if(i!==Xn)return!1;if(!vt)return q0(i),vt=!0,!1;var s=!1,l;if((l=i.tag!==3&&i.tag!==27)&&((l=i.tag===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||ng(i.type,i.memoizedProps)),l=!l),l&&(s=!0),s&&On&&go(i),q0(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){On=ti(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}On=null}}else On=Xn?ti(i.stateNode.nextSibling):null;return!0}function Hu(){On=Xn=null,vt=!1}function $u(i){Jr===null?Jr=[i]:Jr.push(i)}var Gu=Error(r(460)),H0=Error(r(474)),Vm={then:function(){}};function $0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function mf(){}function G0(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(mf,mf),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===Gu?Error(r(483)):i;default:if(typeof s.status=="string")s.then(mf,mf);else{if(i=Pt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=c}},function(c){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===Gu?Error(r(483)):i}throw Ku=s,Gu}}var Ku=null;function K0(){if(Ku===null)throw Error(r(459));var i=Ku;return Ku=null,i}var Rl=null,Qu=0;function _f(i){var s=Qu;return Qu+=1,Rl===null&&(Rl=[]),G0(Rl,i,s)}function Yu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function gf(i,s){throw s.$$typeof===o?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Q0(i){var s=i._init;return s(i._payload)}function Y0(i){function s(K,z){if(i){var Y=K.deletions;Y===null?(K.deletions=[z],K.flags|=16):Y.push(z)}}function l(K,z){if(!i)return null;for(;z!==null;)s(K,z),z=z.sibling;return null}function c(K){for(var z=new Map;K!==null;)K.key!==null?z.set(K.key,K):z.set(K.index,K),K=K.sibling;return z}function p(K,z){return K=ca(K,z),K.index=0,K.sibling=null,K}function _(K,z,Y){return K.index=Y,i?(Y=K.alternate,Y!==null?(Y=Y.index,Y<z?(K.flags|=33554434,z):Y):(K.flags|=33554434,z)):(K.flags|=1048576,z)}function b(K){return i&&K.alternate===null&&(K.flags|=33554434),K}function A(K,z,Y,oe){return z===null||z.tag!==6?(z=x_(Y,K.mode,oe),z.return=K,z):(z=p(z,Y),z.return=K,z)}function P(K,z,Y,oe){var Ae=Y.type;return Ae===d?re(K,z,Y.props.children,oe,Y.key):z!==null&&(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===H&&Q0(Ae)===z.type)?(z=p(z,Y.props),Yu(z,Y),z.return=K,z):(z=kf(Y.type,Y.key,Y.props,null,K.mode,oe),Yu(z,Y),z.return=K,z)}function q(K,z,Y,oe){return z===null||z.tag!==4||z.stateNode.containerInfo!==Y.containerInfo||z.stateNode.implementation!==Y.implementation?(z=N_(Y,K.mode,oe),z.return=K,z):(z=p(z,Y.children||[]),z.return=K,z)}function re(K,z,Y,oe,Ae){return z===null||z.tag!==7?(z=Co(Y,K.mode,oe,Ae),z.return=K,z):(z=p(z,Y),z.return=K,z)}function ue(K,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=x_(""+z,K.mode,Y),z.return=K,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case u:return Y=kf(z.type,z.key,z.props,null,K.mode,Y),Yu(Y,z),Y.return=K,Y;case h:return z=N_(z,K.mode,Y),z.return=K,z;case H:var oe=z._init;return z=oe(z._payload),ue(K,z,Y)}if(ge(z)||te(z))return z=Co(z,K.mode,Y,null),z.return=K,z;if(typeof z.then=="function")return ue(K,_f(z),Y);if(z.$$typeof===T)return ue(K,Nf(K,z),Y);gf(K,z)}return null}function W(K,z,Y,oe){var Ae=z!==null?z.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Ae!==null?null:A(K,z,""+Y,oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case u:return Y.key===Ae?P(K,z,Y,oe):null;case h:return Y.key===Ae?q(K,z,Y,oe):null;case H:return Ae=Y._init,Y=Ae(Y._payload),W(K,z,Y,oe)}if(ge(Y)||te(Y))return Ae!==null?null:re(K,z,Y,oe,null);if(typeof Y.then=="function")return W(K,z,_f(Y),oe);if(Y.$$typeof===T)return W(K,z,Nf(K,Y),oe);gf(K,Y)}return null}function ne(K,z,Y,oe,Ae){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return K=K.get(Y)||null,A(z,K,""+oe,Ae);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case u:return K=K.get(oe.key===null?Y:oe.key)||null,P(z,K,oe,Ae);case h:return K=K.get(oe.key===null?Y:oe.key)||null,q(z,K,oe,Ae);case H:var tt=oe._init;return oe=tt(oe._payload),ne(K,z,Y,oe,Ae)}if(ge(oe)||te(oe))return K=K.get(Y)||null,re(z,K,oe,Ae,null);if(typeof oe.then=="function")return ne(K,z,Y,_f(oe),Ae);if(oe.$$typeof===T)return ne(K,z,Y,Nf(z,oe),Ae);gf(z,oe)}return null}function De(K,z,Y,oe){for(var Ae=null,tt=null,Pe=z,Le=z=0,Tn=null;Pe!==null&&Le<Y.length;Le++){Pe.index>Le?(Tn=Pe,Pe=null):Tn=Pe.sibling;var yt=W(K,Pe,Y[Le],oe);if(yt===null){Pe===null&&(Pe=Tn);break}i&&Pe&&yt.alternate===null&&s(K,Pe),z=_(yt,z,Le),tt===null?Ae=yt:tt.sibling=yt,tt=yt,Pe=Tn}if(Le===Y.length)return l(K,Pe),vt&&_o(K,Le),Ae;if(Pe===null){for(;Le<Y.length;Le++)Pe=ue(K,Y[Le],oe),Pe!==null&&(z=_(Pe,z,Le),tt===null?Ae=Pe:tt.sibling=Pe,tt=Pe);return vt&&_o(K,Le),Ae}for(Pe=c(Pe);Le<Y.length;Le++)Tn=ne(Pe,K,Le,Y[Le],oe),Tn!==null&&(i&&Tn.alternate!==null&&Pe.delete(Tn.key===null?Le:Tn.key),z=_(Tn,z,Le),tt===null?Ae=Tn:tt.sibling=Tn,tt=Tn);return i&&Pe.forEach(function(ga){return s(K,ga)}),vt&&_o(K,Le),Ae}function $e(K,z,Y,oe){if(Y==null)throw Error(r(151));for(var Ae=null,tt=null,Pe=z,Le=z=0,Tn=null,yt=Y.next();Pe!==null&&!yt.done;Le++,yt=Y.next()){Pe.index>Le?(Tn=Pe,Pe=null):Tn=Pe.sibling;var ga=W(K,Pe,yt.value,oe);if(ga===null){Pe===null&&(Pe=Tn);break}i&&Pe&&ga.alternate===null&&s(K,Pe),z=_(ga,z,Le),tt===null?Ae=ga:tt.sibling=ga,tt=ga,Pe=Tn}if(yt.done)return l(K,Pe),vt&&_o(K,Le),Ae;if(Pe===null){for(;!yt.done;Le++,yt=Y.next())yt=ue(K,yt.value,oe),yt!==null&&(z=_(yt,z,Le),tt===null?Ae=yt:tt.sibling=yt,tt=yt);return vt&&_o(K,Le),Ae}for(Pe=c(Pe);!yt.done;Le++,yt=Y.next())yt=ne(Pe,K,Le,yt.value,oe),yt!==null&&(i&&yt.alternate!==null&&Pe.delete(yt.key===null?Le:yt.key),z=_(yt,z,Le),tt===null?Ae=yt:tt.sibling=yt,tt=yt);return i&&Pe.forEach(function(EO){return s(K,EO)}),vt&&_o(K,Le),Ae}function Kt(K,z,Y,oe){if(typeof Y=="object"&&Y!==null&&Y.type===d&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case u:e:{for(var Ae=Y.key;z!==null;){if(z.key===Ae){if(Ae=Y.type,Ae===d){if(z.tag===7){l(K,z.sibling),oe=p(z,Y.props.children),oe.return=K,K=oe;break e}}else if(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===H&&Q0(Ae)===z.type){l(K,z.sibling),oe=p(z,Y.props),Yu(oe,Y),oe.return=K,K=oe;break e}l(K,z);break}else s(K,z);z=z.sibling}Y.type===d?(oe=Co(Y.props.children,K.mode,oe,Y.key),oe.return=K,K=oe):(oe=kf(Y.type,Y.key,Y.props,null,K.mode,oe),Yu(oe,Y),oe.return=K,K=oe)}return b(K);case h:e:{for(Ae=Y.key;z!==null;){if(z.key===Ae)if(z.tag===4&&z.stateNode.containerInfo===Y.containerInfo&&z.stateNode.implementation===Y.implementation){l(K,z.sibling),oe=p(z,Y.children||[]),oe.return=K,K=oe;break e}else{l(K,z);break}else s(K,z);z=z.sibling}oe=N_(Y,K.mode,oe),oe.return=K,K=oe}return b(K);case H:return Ae=Y._init,Y=Ae(Y._payload),Kt(K,z,Y,oe)}if(ge(Y))return De(K,z,Y,oe);if(te(Y)){if(Ae=te(Y),typeof Ae!="function")throw Error(r(150));return Y=Ae.call(Y),$e(K,z,Y,oe)}if(typeof Y.then=="function")return Kt(K,z,_f(Y),oe);if(Y.$$typeof===T)return Kt(K,z,Nf(K,Y),oe);gf(K,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,z!==null&&z.tag===6?(l(K,z.sibling),oe=p(z,Y),oe.return=K,K=oe):(l(K,z),oe=x_(Y,K.mode,oe),oe.return=K,K=oe),b(K)):l(K,z)}return function(K,z,Y,oe){try{Qu=0;var Ae=Kt(K,z,Y,oe);return Rl=null,Ae}catch(Pe){if(Pe===Gu)throw Pe;var tt=Ur(29,Pe,null,K.mode);return tt.lanes=oe,tt.return=K,tt}finally{}}}var vo=Y0(!0),X0=Y0(!1),Cl=ut(null),vf=ut(0);function W0(i,s){i=Ts,rt(vf,i),rt(Cl,s),Ts=i|s.baseLanes}function Um(){rt(vf,Ts),rt(Cl,Cl.current)}function jm(){Ts=vf.current,et(Cl),et(vf)}var kr=ut(null),Ci=null;function Js(i){var s=i.alternate;rt(hn,hn.current&1),rt(kr,i),Ci===null&&(s===null||Cl.current!==null||s.memoizedState!==null)&&(Ci=i)}function Z0(i){if(i.tag===22){if(rt(hn,hn.current),rt(kr,i),Ci===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Ci=i)}}else ea()}function ea(){rt(hn,hn.current),rt(kr,kr.current)}function ds(i){et(kr),Ci===i&&(Ci=null),et(hn)}var hn=ut(0);function yf(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var o4=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},l4=t.unstable_scheduleCallback,u4=t.unstable_NormalPriority,fn={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bm(){return{controller:new o4,data:new Map,refCount:0}}function Xu(i){i.refCount--,i.refCount===0&&l4(u4,function(){i.controller.abort()})}var Wu=null,zm=0,Ol=0,Il=null;function c4(i,s){if(Wu===null){var l=Wu=[];zm=0,Ol=K_(),Il={status:"pending",value:void 0,then:function(c){l.push(c)}}}return zm++,s.then(J0,J0),s}function J0(){if(--zm===0&&Wu!==null){Il!==null&&(Il.status="fulfilled");var i=Wu;Wu=null,Ol=0,Il=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function h4(i,s){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var e1=C.S;C.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&c4(i,s),e1!==null&&e1(i,s)};var yo=ut(null);function Fm(){var i=yo.current;return i!==null?i:Pt.pooledCache}function Ef(i,s){s===null?rt(yo,yo.current):rt(yo,s.pool)}function t1(){var i=Fm();return i===null?null:{parent:fn._currentValue,pool:i}}var ta=0,Ze=null,Rt=null,tn=null,bf=!1,Dl=!1,Eo=!1,wf=0,Zu=0,xl=null,f4=0;function Wt(){throw Error(r(321))}function qm(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!ur(i[l],s[l]))return!1;return!0}function Hm(i,s,l,c,p,_){return ta=_,Ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,C.H=i===null||i.memoizedState===null?bo:na,Eo=!1,_=l(c,p),Eo=!1,Dl&&(_=r1(s,l,c,p)),n1(i),_}function n1(i){C.H=Oi;var s=Rt!==null&&Rt.next!==null;if(ta=0,tn=Rt=Ze=null,bf=!1,Zu=0,xl=null,s)throw Error(r(300));i===null||bn||(i=i.dependencies,i!==null&&xf(i)&&(bn=!0))}function r1(i,s,l,c){Ze=i;var p=0;do{if(Dl&&(xl=null),Zu=0,Dl=!1,25<=p)throw Error(r(301));if(p+=1,tn=Rt=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}C.H=wo,_=s(l,c)}while(Dl);return _}function d4(){var i=C.H,s=i.useState()[0];return s=typeof s.then=="function"?Ju(s):s,i=i.useState()[0],(Rt!==null?Rt.memoizedState:null)!==i&&(Ze.flags|=1024),s}function $m(){var i=wf!==0;return wf=0,i}function Gm(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function Km(i){if(bf){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}bf=!1}ta=0,tn=Rt=Ze=null,Dl=!1,Zu=wf=0,xl=null}function nr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Ze.memoizedState=tn=i:tn=tn.next=i,tn}function nn(){if(Rt===null){var i=Ze.alternate;i=i!==null?i.memoizedState:null}else i=Rt.next;var s=tn===null?Ze.memoizedState:tn.next;if(s!==null)tn=s,Rt=i;else{if(i===null)throw Ze.alternate===null?Error(r(467)):Error(r(310));Rt=i,i={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},tn===null?Ze.memoizedState=tn=i:tn=tn.next=i}return tn}var Tf;Tf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ju(i){var s=Zu;return Zu+=1,xl===null&&(xl=[]),i=G0(xl,i,s),s=Ze,(tn===null?s.memoizedState:tn.next)===null&&(s=s.alternate,C.H=s===null||s.memoizedState===null?bo:na),i}function Sf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ju(i);if(i.$$typeof===T)return Vn(i)}throw Error(r(438,String(i)))}function Qm(i){var s=null,l=Ze.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=Ze.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Tf(),Ze.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),c=0;c<i;c++)l[c]=ie;return s.index++,l}function ps(i,s){return typeof s=="function"?s(i):s}function Af(i){var s=nn();return Ym(s,Rt,i)}function Ym(i,s,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var p=i.baseQueue,_=c.pending;if(_!==null){if(p!==null){var b=p.next;p.next=_.next,_.next=b}s.baseQueue=p=_,c.pending=null}if(_=i.baseState,p===null)i.memoizedState=_;else{s=p.next;var A=b=null,P=null,q=s,re=!1;do{var ue=q.lane&-536870913;if(ue!==q.lane?(ft&ue)===ue:(ta&ue)===ue){var W=q.revertLane;if(W===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ue===Ol&&(re=!0);else if((ta&W)===W){q=q.next,W===Ol&&(re=!0);continue}else ue={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},P===null?(A=P=ue,b=_):P=P.next=ue,Ze.lanes|=W,ha|=W;ue=q.action,Eo&&l(_,ue),_=q.hasEagerState?q.eagerState:l(_,ue)}else W={lane:ue,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},P===null?(A=P=W,b=_):P=P.next=W,Ze.lanes|=ue,ha|=ue;q=q.next}while(q!==null&&q!==s);if(P===null?b=_:P.next=A,!ur(_,i.memoizedState)&&(bn=!0,re&&(l=Il,l!==null)))throw l;i.memoizedState=_,i.baseState=b,i.baseQueue=P,c.lastRenderedState=_}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Xm(i){var s=nn(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,p=l.pending,_=s.memoizedState;if(p!==null){l.pending=null;var b=p=p.next;do _=i(_,b.action),b=b.next;while(b!==p);ur(_,s.memoizedState)||(bn=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,c]}function i1(i,s,l){var c=Ze,p=nn(),_=vt;if(_){if(l===void 0)throw Error(r(407));l=l()}else l=s();var b=!ur((Rt||p).memoizedState,l);if(b&&(p.memoizedState=l,bn=!0),p=p.queue,Jm(o1.bind(null,c,p,i),[i]),p.getSnapshot!==s||b||tn!==null&&tn.memoizedState.tag&1){if(c.flags|=2048,Nl(9,a1.bind(null,c,p,l,s),{destroy:void 0},null),Pt===null)throw Error(r(349));_||(ta&60)!==0||s1(c,s,l)}return l}function s1(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Ze.updateQueue,s===null?(s=Tf(),Ze.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function a1(i,s,l,c){s.value=l,s.getSnapshot=c,l1(s)&&u1(i)}function o1(i,s,l){return l(function(){l1(s)&&u1(i)})}function l1(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!ur(i,l)}catch{return!0}}function u1(i){var s=Zs(i,2);s!==null&&Wn(s,i,2)}function Wm(i){var s=nr();if(typeof i=="function"){var l=i;if(i=l(),Eo){Gn(!0);try{l()}finally{Gn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:i},s}function c1(i,s,l,c){return i.baseState=l,Ym(i,Rt,typeof c=="function"?c:ps)}function p4(i,s,l,c,p){if(Of(i))throw Error(r(485));if(i=s.action,i!==null){var _={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){_.listeners.push(b)}};C.T!==null?l(!0):_.isTransition=!1,c(_),l=s.pending,l===null?(_.next=s.pending=_,h1(s,_)):(_.next=l.next,s.pending=l.next=_)}}function h1(i,s){var l=s.action,c=s.payload,p=i.state;if(s.isTransition){var _=C.T,b={};C.T=b;try{var A=l(p,c),P=C.S;P!==null&&P(b,A),f1(i,s,A)}catch(q){Zm(i,s,q)}finally{C.T=_}}else try{_=l(p,c),f1(i,s,_)}catch(q){Zm(i,s,q)}}function f1(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){d1(i,s,c)},function(c){return Zm(i,s,c)}):d1(i,s,l)}function d1(i,s,l){s.status="fulfilled",s.value=l,p1(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,h1(i,l)))}function Zm(i,s,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,p1(s),s=s.next;while(s!==c)}i.action=null}function p1(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function m1(i,s){return s}function _1(i,s){if(vt){var l=Pt.formState;if(l!==null){e:{var c=Ze;if(vt){if(On){t:{for(var p=On,_=Ri;p.nodeType!==8;){if(!_){p=null;break t}if(p=ti(p.nextSibling),p===null){p=null;break t}}_=p.data,p=_==="F!"||_==="F"?p:null}if(p){On=ti(p.nextSibling),c=p.data==="F!";break e}}go(c)}c=!1}c&&(s=l[0])}}return l=nr(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m1,lastRenderedState:s},l.queue=c,l=M1.bind(null,Ze,c),c.dispatch=l,c=Wm(!1),_=i_.bind(null,Ze,!1,c.queue),c=nr(),p={state:s,dispatch:null,action:i,pending:null},c.queue=p,l=p4.bind(null,Ze,p,_,l),p.dispatch=l,c.memoizedState=i,[s,l,!1]}function g1(i){var s=nn();return v1(s,Rt,i)}function v1(i,s,l){s=Ym(i,s,m1)[0],i=Af(ps)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Ju(s):s;var c=nn(),p=c.queue,_=p.dispatch;return l!==c.memoizedState&&(Ze.flags|=2048,Nl(9,m4.bind(null,p,l),{destroy:void 0},null)),[s,_,i]}function m4(i,s){i.action=s}function y1(i){var s=nn(),l=Rt;if(l!==null)return v1(s,l,i);nn(),s=s.memoizedState,l=nn();var c=l.queue.dispatch;return l.memoizedState=i,[s,c,!1]}function Nl(i,s,l,c){return i={tag:i,create:s,inst:l,deps:c,next:null},s=Ze.updateQueue,s===null&&(s=Tf(),Ze.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,s.lastEffect=i),i}function E1(){return nn().memoizedState}function Rf(i,s,l,c){var p=nr();Ze.flags|=i,p.memoizedState=Nl(1|s,l,{destroy:void 0},c===void 0?null:c)}function Cf(i,s,l,c){var p=nn();c=c===void 0?null:c;var _=p.memoizedState.inst;Rt!==null&&c!==null&&qm(c,Rt.memoizedState.deps)?p.memoizedState=Nl(s,l,_,c):(Ze.flags|=i,p.memoizedState=Nl(1|s,l,_,c))}function b1(i,s){Rf(8390656,8,i,s)}function Jm(i,s){Cf(2048,8,i,s)}function w1(i,s){return Cf(4,2,i,s)}function T1(i,s){return Cf(4,4,i,s)}function S1(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function A1(i,s,l){l=l!=null?l.concat([i]):null,Cf(4,4,S1.bind(null,s,i),l)}function e_(){}function R1(i,s){var l=nn();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&qm(s,c[1])?c[0]:(l.memoizedState=[i,s],i)}function C1(i,s){var l=nn();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&qm(s,c[1]))return c[0];if(c=i(),Eo){Gn(!0);try{i()}finally{Gn(!1)}}return l.memoizedState=[c,s],c}function t_(i,s,l){return l===void 0||(ta&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=IE(),Ze.lanes|=i,ha|=i,l)}function O1(i,s,l,c){return ur(l,s)?l:Cl.current!==null?(i=t_(i,l,c),ur(i,s)||(bn=!0),i):(ta&42)===0?(bn=!0,i.memoizedState=l):(i=IE(),Ze.lanes|=i,ha|=i,s)}function I1(i,s,l,c,p){var _=Ee.p;Ee.p=_!==0&&8>_?_:8;var b=C.T,A={};C.T=A,i_(i,!1,s,l);try{var P=p(),q=C.S;if(q!==null&&q(A,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var re=h4(P,c);ec(i,s,re,dr(i))}else ec(i,s,c,dr(i))}catch(ue){ec(i,s,{then:function(){},status:"rejected",reason:ue},dr())}finally{Ee.p=_,C.T=b}}function _4(){}function n_(i,s,l,c){if(i.tag!==5)throw Error(r(476));var p=D1(i).queue;I1(i,p,s,Be,l===null?_4:function(){return x1(i),l(c)})}function D1(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:Be,baseState:Be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:Be},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function x1(i){var s=D1(i).next.queue;ec(i,s,{},dr())}function r_(){return Vn(Ec)}function N1(){return nn().memoizedState}function P1(){return nn().memoizedState}function g4(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=dr();i=sa(l);var c=aa(s,i,l);c!==null&&(Wn(c,s,l),rc(c,s,l)),s={cache:Bm()},i.payload=s;return}s=s.return}}function v4(i,s,l){var c=dr();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Of(i)?k1(s,l):(l=Pm(i,s,l,c),l!==null&&(Wn(l,i,c),L1(l,s,c)))}function M1(i,s,l){var c=dr();ec(i,s,l,c)}function ec(i,s,l,c){var p={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Of(i))k1(s,p);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var b=s.lastRenderedState,A=_(b,l);if(p.hasEagerState=!0,p.eagerState=A,ur(A,b))return hf(i,s,p,0),Pt===null&&cf(),!1}catch{}finally{}if(l=Pm(i,s,p,c),l!==null)return Wn(l,i,c),L1(l,s,c),!0}return!1}function i_(i,s,l,c){if(c={lane:2,revertLane:K_(),action:c,hasEagerState:!1,eagerState:null,next:null},Of(i)){if(s)throw Error(r(479))}else s=Pm(i,l,c,2),s!==null&&Wn(s,i,2)}function Of(i){var s=i.alternate;return i===Ze||s!==null&&s===Ze}function k1(i,s){Dl=bf=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function L1(i,s,l){if((l&4194176)!==0){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,xe(i,l)}}var Oi={readContext:Vn,use:Sf,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt};Oi.useCacheRefresh=Wt,Oi.useMemoCache=Wt,Oi.useHostTransitionStatus=Wt,Oi.useFormState=Wt,Oi.useActionState=Wt,Oi.useOptimistic=Wt;var bo={readContext:Vn,use:Sf,useCallback:function(i,s){return nr().memoizedState=[i,s===void 0?null:s],i},useContext:Vn,useEffect:b1,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Rf(4194308,4,S1.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Rf(4194308,4,i,s)},useInsertionEffect:function(i,s){Rf(4,2,i,s)},useMemo:function(i,s){var l=nr();s=s===void 0?null:s;var c=i();if(Eo){Gn(!0);try{i()}finally{Gn(!1)}}return l.memoizedState=[c,s],c},useReducer:function(i,s,l){var c=nr();if(l!==void 0){var p=l(s);if(Eo){Gn(!0);try{l(s)}finally{Gn(!1)}}}else p=s;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=v4.bind(null,Ze,i),[c.memoizedState,i]},useRef:function(i){var s=nr();return i={current:i},s.memoizedState=i},useState:function(i){i=Wm(i);var s=i.queue,l=M1.bind(null,Ze,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:e_,useDeferredValue:function(i,s){var l=nr();return t_(l,i,s)},useTransition:function(){var i=Wm(!1);return i=I1.bind(null,Ze,i.queue,!0,!1),nr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var c=Ze,p=nr();if(vt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Pt===null)throw Error(r(349));(ft&60)!==0||s1(c,s,l)}p.memoizedState=l;var _={value:l,getSnapshot:s};return p.queue=_,b1(o1.bind(null,c,_,i),[i]),c.flags|=2048,Nl(9,a1.bind(null,c,_,l,s),{destroy:void 0},null),l},useId:function(){var i=nr(),s=Pt.identifierPrefix;if(vt){var l=fs,c=hs;l=(c&~(1<<32-gn(c)-1)).toString(32)+l,s=":"+s+"R"+l,l=wf++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=f4++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},useCacheRefresh:function(){return nr().memoizedState=g4.bind(null,Ze)}};bo.useMemoCache=Qm,bo.useHostTransitionStatus=r_,bo.useFormState=_1,bo.useActionState=_1,bo.useOptimistic=function(i){var s=nr();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=i_.bind(null,Ze,!0,l),l.dispatch=s,[i,s]};var na={readContext:Vn,use:Sf,useCallback:R1,useContext:Vn,useEffect:Jm,useImperativeHandle:A1,useInsertionEffect:w1,useLayoutEffect:T1,useMemo:C1,useReducer:Af,useRef:E1,useState:function(){return Af(ps)},useDebugValue:e_,useDeferredValue:function(i,s){var l=nn();return O1(l,Rt.memoizedState,i,s)},useTransition:function(){var i=Af(ps)[0],s=nn().memoizedState;return[typeof i=="boolean"?i:Ju(i),s]},useSyncExternalStore:i1,useId:N1};na.useCacheRefresh=P1,na.useMemoCache=Qm,na.useHostTransitionStatus=r_,na.useFormState=g1,na.useActionState=g1,na.useOptimistic=function(i,s){var l=nn();return c1(l,Rt,i,s)};var wo={readContext:Vn,use:Sf,useCallback:R1,useContext:Vn,useEffect:Jm,useImperativeHandle:A1,useInsertionEffect:w1,useLayoutEffect:T1,useMemo:C1,useReducer:Xm,useRef:E1,useState:function(){return Xm(ps)},useDebugValue:e_,useDeferredValue:function(i,s){var l=nn();return Rt===null?t_(l,i,s):O1(l,Rt.memoizedState,i,s)},useTransition:function(){var i=Xm(ps)[0],s=nn().memoizedState;return[typeof i=="boolean"?i:Ju(i),s]},useSyncExternalStore:i1,useId:N1};wo.useCacheRefresh=P1,wo.useMemoCache=Qm,wo.useHostTransitionStatus=r_,wo.useFormState=y1,wo.useActionState=y1,wo.useOptimistic=function(i,s){var l=nn();return Rt!==null?c1(l,Rt,i,s):(l.baseState=i,[i,l.queue.dispatch])};function s_(i,s,l,c){s=i.memoizedState,l=l(c,s),l=l==null?s:N({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var a_={isMounted:function(i){return(i=i._reactInternals)?Re(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var c=dr(),p=sa(c);p.payload=s,l!=null&&(p.callback=l),s=aa(i,p,c),s!==null&&(Wn(s,i,c),rc(s,i,c))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var c=dr(),p=sa(c);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=aa(i,p,c),s!==null&&(Wn(s,i,c),rc(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=dr(),c=sa(l);c.tag=2,s!=null&&(c.callback=s),s=aa(i,c,l),s!==null&&(Wn(s,i,l),rc(s,i,l))}};function V1(i,s,l,c,p,_,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,_,b):s.prototype&&s.prototype.isPureReactComponent?!zu(l,c)||!zu(p,_):!0}function U1(i,s,l,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==i&&a_.enqueueReplaceState(s,s.state,null)}function To(i,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(i=i.defaultProps){l===s&&(l=N({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}var If=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function j1(i){If(i)}function B1(i){console.error(i)}function z1(i){If(i)}function Df(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function F1(i,s,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function o_(i,s,l){return l=sa(l),l.tag=3,l.payload={element:null},l.callback=function(){Df(i,s)},l}function q1(i){return i=sa(i),i.tag=3,i}function H1(i,s,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var _=c.value;i.payload=function(){return p(_)},i.callback=function(){F1(s,l,c)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){F1(s,l,c),typeof p!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function y4(i,s,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&nc(s,l,p,!0),l=kr.current,l!==null){switch(l.tag){case 13:return Ci===null?F_():l.alternate===null&&Gt===0&&(Gt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===Vm?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),H_(i,c,p)),!1;case 22:return l.flags|=65536,c===Vm?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),H_(i,c,p)),!1}throw Error(r(435,l.tag))}return H_(i,c,p),F_(),!1}if(vt)return s=kr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,c!==Lm&&(i=Error(r(422),{cause:c}),$u(Nr(i,l)))):(c!==Lm&&(s=Error(r(423),{cause:c}),$u(Nr(s,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=Nr(c,l),p=o_(i.stateNode,c,p),w_(i,p),Gt!==4&&(Gt=2)),!1;var _=Error(r(520),{cause:c});if(_=Nr(_,l),hc===null?hc=[_]:hc.push(_),Gt!==4&&(Gt=2),s===null)return!0;c=Nr(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=o_(l.stateNode,c,i),w_(l,i),!1;case 1:if(s=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(fa===null||!fa.has(_))))return l.flags|=65536,p&=-p,l.lanes|=p,p=q1(p),H1(p,i,l,c),w_(l,p),!1}l=l.return}while(l!==null);return!1}var $1=Error(r(461)),bn=!1;function In(i,s,l,c){s.child=i===null?X0(s,null,l,c):vo(s,i.child,l,c)}function G1(i,s,l,c,p){l=l.render;var _=s.ref;if("ref"in c){var b={};for(var A in c)A!=="ref"&&(b[A]=c[A])}else b=c;return Ao(s),c=Hm(i,s,l,b,_,p),A=$m(),i!==null&&!bn?(Gm(i,s,p),ms(i,s,p)):(vt&&A&&Mm(s),s.flags|=1,In(i,s,c,p),s.child)}function K1(i,s,l,c,p){if(i===null){var _=l.type;return typeof _=="function"&&!D_(_)&&_.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=_,Q1(i,s,_,c,p)):(i=kf(l.type,null,c,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(_=i.child,!__(i,p)){var b=_.memoizedProps;if(l=l.compare,l=l!==null?l:zu,l(b,c)&&i.ref===s.ref)return ms(i,s,p)}return s.flags|=1,i=ca(_,c),i.ref=s.ref,i.return=s,s.child=i}function Q1(i,s,l,c,p){if(i!==null){var _=i.memoizedProps;if(zu(_,c)&&i.ref===s.ref)if(bn=!1,s.pendingProps=c=_,__(i,p))(i.flags&131072)!==0&&(bn=!0);else return s.lanes=i.lanes,ms(i,s,p)}return l_(i,s,l,c,p)}function Y1(i,s,l){var c=s.pendingProps,p=c.children,_=(s.stateNode._pendingVisibility&2)!==0,b=i!==null?i.memoizedState:null;if(tc(i,s),c.mode==="hidden"||_){if((s.flags&128)!==0){if(c=b!==null?b.baseLanes|l:l,i!==null){for(p=s.child=i.child,_=0;p!==null;)_=_|p.lanes|p.childLanes,p=p.sibling;s.childLanes=_&~c}else s.childLanes=0,s.child=null;return X1(i,s,c,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ef(s,b!==null?b.cachePool:null),b!==null?W0(s,b):Um(),Z0(s);else return s.lanes=s.childLanes=536870912,X1(i,s,b!==null?b.baseLanes|l:l,l)}else b!==null?(Ef(s,b.cachePool),W0(s,b),ea(),s.memoizedState=null):(i!==null&&Ef(s,null),Um(),ea());return In(i,s,p,l),s.child}function X1(i,s,l,c){var p=Fm();return p=p===null?null:{parent:fn._currentValue,pool:p},s.memoizedState={baseLanes:l,cachePool:p},i!==null&&Ef(s,null),Um(),Z0(s),i!==null&&nc(i,s,c,!0),null}function tc(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=2097664)}}function l_(i,s,l,c,p){return Ao(s),l=Hm(i,s,l,c,void 0,p),c=$m(),i!==null&&!bn?(Gm(i,s,p),ms(i,s,p)):(vt&&c&&Mm(s),s.flags|=1,In(i,s,l,p),s.child)}function W1(i,s,l,c,p,_){return Ao(s),s.updateQueue=null,l=r1(s,c,l,p),n1(i),c=$m(),i!==null&&!bn?(Gm(i,s,_),ms(i,s,_)):(vt&&c&&Mm(s),s.flags|=1,In(i,s,l,_),s.child)}function Z1(i,s,l,c,p){if(Ao(s),s.stateNode===null){var _=Tl,b=l.contextType;typeof b=="object"&&b!==null&&(_=Vn(b)),_=new l(c,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=a_,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=c,_.state=s.memoizedState,_.refs={},E_(s),b=l.contextType,_.context=typeof b=="object"&&b!==null?Vn(b):Tl,_.state=s.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(s_(s,l,b,c),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(b=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),b!==_.state&&a_.enqueueReplaceState(_,_.state,null),sc(s,c,_,p),ic(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){_=s.stateNode;var A=s.memoizedProps,P=To(l,A);_.props=P;var q=_.context,re=l.contextType;b=Tl,typeof re=="object"&&re!==null&&(b=Vn(re));var ue=l.getDerivedStateFromProps;re=typeof ue=="function"||typeof _.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,re||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A||q!==b)&&U1(s,_,c,b),ia=!1;var W=s.memoizedState;_.state=W,sc(s,c,_,p),ic(),q=s.memoizedState,A||W!==q||ia?(typeof ue=="function"&&(s_(s,l,ue,c),q=s.memoizedState),(P=ia||V1(s,l,P,c,W,q,b))?(re||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=q),_.props=c,_.state=q,_.context=b,c=P):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{_=s.stateNode,b_(i,s),b=s.memoizedProps,re=To(l,b),_.props=re,ue=s.pendingProps,W=_.context,q=l.contextType,P=Tl,typeof q=="object"&&q!==null&&(P=Vn(q)),A=l.getDerivedStateFromProps,(q=typeof A=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(b!==ue||W!==P)&&U1(s,_,c,P),ia=!1,W=s.memoizedState,_.state=W,sc(s,c,_,p),ic();var ne=s.memoizedState;b!==ue||W!==ne||ia||i!==null&&i.dependencies!==null&&xf(i.dependencies)?(typeof A=="function"&&(s_(s,l,A,c),ne=s.memoizedState),(re=ia||V1(s,l,re,c,W,ne,P)||i!==null&&i.dependencies!==null&&xf(i.dependencies))?(q||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ne,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ne,P)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ne),_.props=c,_.state=ne,_.context=P,c=re):(typeof _.componentDidUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),c=!1)}return _=c,tc(i,s),c=(s.flags&128)!==0,_||c?(_=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,i!==null&&c?(s.child=vo(s,i.child,null,p),s.child=vo(s,null,l,p)):In(i,s,l,p),s.memoizedState=_.state,i=s.child):i=ms(i,s,p),i}function J1(i,s,l,c){return Hu(),s.flags|=256,In(i,s,l,c),s.child}var u_={dehydrated:null,treeContext:null,retryLane:0};function c_(i){return{baseLanes:i,cachePool:t1()}}function h_(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=jr),i}function eE(i,s,l){var c=s.pendingProps,p=!1,_=(s.flags&128)!==0,b;if((b=_)||(b=i!==null&&i.memoizedState===null?!1:(hn.current&2)!==0),b&&(p=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,i===null){if(vt){if(p?Js(s):ea(),vt){var A=On,P;if(P=A){e:{for(P=A,A=Ri;P.nodeType!==8;){if(!A){A=null;break e}if(P=ti(P.nextSibling),P===null){A=null;break e}}A=P}A!==null?(s.memoizedState={dehydrated:A,treeContext:mo!==null?{id:hs,overflow:fs}:null,retryLane:536870912},P=Ur(18,null,null,0),P.stateNode=A,P.return=s,s.child=P,Xn=s,On=null,P=!0):P=!1}P||go(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return A.data==="$!"?s.lanes=16:s.lanes=536870912,null;ds(s)}return A=c.children,c=c.fallback,p?(ea(),p=s.mode,A=d_({mode:"hidden",children:A},p),c=Co(c,p,l,null),A.return=s,c.return=s,A.sibling=c,s.child=A,p=s.child,p.memoizedState=c_(l),p.childLanes=h_(i,b,l),s.memoizedState=u_,c):(Js(s),f_(s,A))}if(P=i.memoizedState,P!==null&&(A=P.dehydrated,A!==null)){if(_)s.flags&256?(Js(s),s.flags&=-257,s=p_(i,s,l)):s.memoizedState!==null?(ea(),s.child=i.child,s.flags|=128,s=null):(ea(),p=c.fallback,A=s.mode,c=d_({mode:"visible",children:c.children},A),p=Co(p,A,l,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,vo(s,i.child,null,l),c=s.child,c.memoizedState=c_(l),c.childLanes=h_(i,b,l),s.memoizedState=u_,s=p);else if(Js(s),A.data==="$!"){if(b=A.nextSibling&&A.nextSibling.dataset,b)var q=b.dgst;b=q,c=Error(r(419)),c.stack="",c.digest=b,$u({value:c,source:null,stack:null}),s=p_(i,s,l)}else if(bn||nc(i,s,l,!1),b=(l&i.childLanes)!==0,bn||b){if(b=Pt,b!==null){if(c=l&-l,(c&42)!==0)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=(c&(b.suspendedLanes|l))!==0?0:c,c!==0&&c!==P.retryLane)throw P.retryLane=c,Zs(i,c),Wn(b,i,c),$1}A.data==="$?"||F_(),s=p_(i,s,l)}else A.data==="$?"?(s.flags|=128,s.child=i.child,s=M4.bind(null,i),A._reactRetry=s,s=null):(i=P.treeContext,On=ti(A.nextSibling),Xn=s,vt=!0,Jr=null,Ri=!1,i!==null&&(Pr[Mr++]=hs,Pr[Mr++]=fs,Pr[Mr++]=mo,hs=i.id,fs=i.overflow,mo=s),s=f_(s,c.children),s.flags|=4096);return s}return p?(ea(),p=c.fallback,A=s.mode,P=i.child,q=P.sibling,c=ca(P,{mode:"hidden",children:c.children}),c.subtreeFlags=P.subtreeFlags&31457280,q!==null?p=ca(q,p):(p=Co(p,A,l,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,A=i.child.memoizedState,A===null?A=c_(l):(P=A.cachePool,P!==null?(q=fn._currentValue,P=P.parent!==q?{parent:q,pool:q}:P):P=t1(),A={baseLanes:A.baseLanes|l,cachePool:P}),p.memoizedState=A,p.childLanes=h_(i,b,l),s.memoizedState=u_,c):(Js(s),l=i.child,i=l.sibling,l=ca(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,i!==null&&(b=s.deletions,b===null?(s.deletions=[i],s.flags|=16):b.push(i)),s.child=l,s.memoizedState=null,l)}function f_(i,s){return s=d_({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function d_(i,s){return RE(i,s,0,null)}function p_(i,s,l){return vo(s,i.child,null,l),i=f_(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function tE(i,s,l){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),v_(i.return,s,l)}function m_(i,s,l,c,p){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=l,_.tailMode=p)}function nE(i,s,l){var c=s.pendingProps,p=c.revealOrder,_=c.tail;if(In(i,s,c.children,l),c=hn.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&tE(i,l,s);else if(i.tag===19)tE(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(rt(hn,c),p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&yf(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),m_(s,!1,p,l,_);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&yf(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}m_(s,!0,l,null,_);break;case"together":m_(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ms(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),ha|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(nc(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=ca(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=ca(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function __(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&xf(i)))}function E4(i,s,l){switch(s.tag){case 3:pi(s,s.stateNode.containerInfo),ra(s,fn,i.memoizedState.cache),Hu();break;case 27:case 5:Ja(s);break;case 4:pi(s,s.stateNode.containerInfo);break;case 10:ra(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Js(s),s.flags|=128,null):(l&s.child.childLanes)!==0?eE(i,s,l):(Js(s),i=ms(i,s,l),i!==null?i.sibling:null);Js(s);break;case 19:var p=(i.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(nc(i,s,l,!1),c=(l&s.childLanes)!==0),p){if(c)return nE(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),rt(hn,hn.current),c)break;return null;case 22:case 23:return s.lanes=0,Y1(i,s,l);case 24:ra(s,fn,i.memoizedState.cache)}return ms(i,s,l)}function rE(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)bn=!0;else{if(!__(i,l)&&(s.flags&128)===0)return bn=!1,E4(i,s,l);bn=(i.flags&131072)!==0}else bn=!1,vt&&(s.flags&1048576)!==0&&z0(s,pf,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var c=s.elementType,p=c._init;if(c=p(c._payload),s.type=c,typeof c=="function")D_(c)?(i=To(c,i),s.tag=1,s=Z1(null,s,c,i,l)):(s.tag=0,s=l_(null,s,c,i,l));else{if(c!=null){if(p=c.$$typeof,p===S){s.tag=11,s=G1(null,s,c,i,l);break e}else if(p===U){s.tag=14,s=K1(null,s,c,i,l);break e}}throw s=O(c)||c,Error(r(306,s,""))}}return s;case 0:return l_(i,s,s.type,s.pendingProps,l);case 1:return c=s.type,p=To(c,s.pendingProps),Z1(i,s,c,p,l);case 3:e:{if(pi(s,s.stateNode.containerInfo),i===null)throw Error(r(387));var _=s.pendingProps;p=s.memoizedState,c=p.element,b_(i,s),sc(s,_,null,l);var b=s.memoizedState;if(_=b.cache,ra(s,fn,_),_!==p.cache&&y_(s,[fn],l,!0),ic(),_=b.element,p.isDehydrated)if(p={element:_,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=J1(i,s,_,l);break e}else if(_!==c){c=Nr(Error(r(424)),s),$u(c),s=J1(i,s,_,l);break e}else for(On=ti(s.stateNode.containerInfo.firstChild),Xn=s,vt=!0,Jr=null,Ri=!0,l=X0(s,null,_,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Hu(),_===c){s=ms(i,s,l);break e}In(i,s,_,l)}s=s.child}return s;case 26:return tc(i,s),i===null?(l=ab(s.type,null,s.pendingProps,null))?s.memoizedState=l:vt||(l=s.type,i=s.pendingProps,c=Kf(Jt.current).createElement(l),c[Se]=s,c[ke]=i,Dn(c,l,i),bt(c),s.stateNode=c):s.memoizedState=ab(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ja(s),i===null&&vt&&(c=s.stateNode=rb(s.type,s.pendingProps,Jt.current),Xn=s,Ri=!0,On=ti(c.firstChild)),c=s.pendingProps.children,i!==null||vt?In(i,s,c,l):s.child=vo(s,null,c,l),tc(i,s),s.child;case 5:return i===null&&vt&&((p=c=On)&&(c=X4(c,s.type,s.pendingProps,Ri),c!==null?(s.stateNode=c,Xn=s,On=ti(c.firstChild),Ri=!1,p=!0):p=!1),p||go(s)),Ja(s),p=s.type,_=s.pendingProps,b=i!==null?i.memoizedProps:null,c=_.children,ng(p,_)?c=null:b!==null&&ng(p,b)&&(s.flags|=32),s.memoizedState!==null&&(p=Hm(i,s,d4,null,null,l),Ec._currentValue=p),tc(i,s),In(i,s,c,l),s.child;case 6:return i===null&&vt&&((i=l=On)&&(l=W4(l,s.pendingProps,Ri),l!==null?(s.stateNode=l,Xn=s,On=null,i=!0):i=!1),i||go(s)),null;case 13:return eE(i,s,l);case 4:return pi(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=vo(s,null,c,l):In(i,s,c,l),s.child;case 11:return G1(i,s,s.type,s.pendingProps,l);case 7:return In(i,s,s.pendingProps,l),s.child;case 8:return In(i,s,s.pendingProps.children,l),s.child;case 12:return In(i,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,ra(s,s.type,c.value),In(i,s,c.children,l),s.child;case 9:return p=s.type._context,c=s.pendingProps.children,Ao(s),p=Vn(p),c=c(p),s.flags|=1,In(i,s,c,l),s.child;case 14:return K1(i,s,s.type,s.pendingProps,l);case 15:return Q1(i,s,s.type,s.pendingProps,l);case 19:return nE(i,s,l);case 22:return Y1(i,s,l);case 24:return Ao(s),c=Vn(fn),i===null?(p=Fm(),p===null&&(p=Pt,_=Bm(),p.pooledCache=_,_.refCount++,_!==null&&(p.pooledCacheLanes|=l),p=_),s.memoizedState={parent:c,cache:p},E_(s),ra(s,fn,p)):((i.lanes&l)!==0&&(b_(i,s),sc(s,null,null,l),ic()),p=i.memoizedState,_=s.memoizedState,p.parent!==c?(p={parent:c,cache:c},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),ra(s,fn,c)):(c=_.cache,ra(s,fn,c),c!==p.cache&&y_(s,[fn],l,!0))),In(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}var g_=ut(null),So=null,_s=null;function ra(i,s,l){rt(g_,s._currentValue),s._currentValue=l}function gs(i){i._currentValue=g_.current,et(g_)}function v_(i,s,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===l)break;i=i.return}}function y_(i,s,l,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var _=p.dependencies;if(_!==null){var b=p.child;_=_.firstContext;e:for(;_!==null;){var A=_;_=p;for(var P=0;P<s.length;P++)if(A.context===s[P]){_.lanes|=l,A=_.alternate,A!==null&&(A.lanes|=l),v_(_.return,l,i),c||(b=null);break e}_=A.next}}else if(p.tag===18){if(b=p.return,b===null)throw Error(r(341));b.lanes|=l,_=b.alternate,_!==null&&(_.lanes|=l),v_(b,l,i),b=null}else b=p.child;if(b!==null)b.return=p;else for(b=p;b!==null;){if(b===i){b=null;break}if(p=b.sibling,p!==null){p.return=b.return,b=p;break}b=b.return}p=b}}function nc(i,s,l,c){i=null;for(var p=s,_=!1;p!==null;){if(!_){if((p.flags&524288)!==0)_=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var b=p.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var A=p.type;ur(p.pendingProps.value,b.value)||(i!==null?i.push(A):i=[A])}}else if(p===di.current){if(b=p.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Ec):i=[Ec])}p=p.return}i!==null&&y_(s,i,l,c),s.flags|=262144}function xf(i){for(i=i.firstContext;i!==null;){if(!ur(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ao(i){So=i,_s=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Vn(i){return iE(So,i)}function Nf(i,s){return So===null&&Ao(i),iE(i,s)}function iE(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},_s===null){if(i===null)throw Error(r(308));_s=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else _s=_s.next=s;return l}var ia=!1;function E_(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function b_(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function sa(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function aa(i,s,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Bt&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,s=ff(i),j0(i,null,l),s}return hf(i,c,s,l),ff(i)}function rc(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194176)!==0)){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,xe(i,l)}}function w_(i,s){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?p=_=b:_=_.next=b,l=l.next}while(l!==null);_===null?p=_=s:_=_.next=s}else p=_=s;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:_,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var T_=!1;function ic(){if(T_){var i=Il;if(i!==null)throw i}}function sc(i,s,l,c){T_=!1;var p=i.updateQueue;ia=!1;var _=p.firstBaseUpdate,b=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var P=A,q=P.next;P.next=null,b===null?_=q:b.next=q,b=P;var re=i.alternate;re!==null&&(re=re.updateQueue,A=re.lastBaseUpdate,A!==b&&(A===null?re.firstBaseUpdate=q:A.next=q,re.lastBaseUpdate=P))}if(_!==null){var ue=p.baseState;b=0,re=q=P=null,A=_;do{var W=A.lane&-536870913,ne=W!==A.lane;if(ne?(ft&W)===W:(c&W)===W){W!==0&&W===Ol&&(T_=!0),re!==null&&(re=re.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var De=i,$e=A;W=s;var Kt=l;switch($e.tag){case 1:if(De=$e.payload,typeof De=="function"){ue=De.call(Kt,ue,W);break e}ue=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=$e.payload,W=typeof De=="function"?De.call(Kt,ue,W):De,W==null)break e;ue=N({},ue,W);break e;case 2:ia=!0}}W=A.callback,W!==null&&(i.flags|=64,ne&&(i.flags|=8192),ne=p.callbacks,ne===null?p.callbacks=[W]:ne.push(W))}else ne={lane:W,tag:A.tag,payload:A.payload,callback:A.callback,next:null},re===null?(q=re=ne,P=ue):re=re.next=ne,b|=W;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;ne=A,A=ne.next,ne.next=null,p.lastBaseUpdate=ne,p.shared.pending=null}}while(!0);re===null&&(P=ue),p.baseState=P,p.firstBaseUpdate=q,p.lastBaseUpdate=re,_===null&&(p.shared.lanes=0),ha|=b,i.lanes=b,i.memoizedState=ue}}function sE(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function aE(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)sE(l[i],s)}function ac(i,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&i)===i){c=void 0;var _=l.create,b=l.inst;c=_(),b.destroy=c}l=l.next}while(l!==p)}}catch(A){It(s,s.return,A)}}function oa(i,s,l){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var _=p.next;c=_;do{if((c.tag&i)===i){var b=c.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,p=s;var P=l;try{A()}catch(q){It(p,P,q)}}}c=c.next}while(c!==_)}}catch(q){It(s,s.return,q)}}function oE(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{aE(s,l)}catch(c){It(i,i.return,c)}}}function lE(i,s,l){l.props=To(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){It(i,s,c)}}function Ro(i,s){try{var l=i.ref;if(l!==null){var c=i.stateNode;switch(i.tag){case 26:case 27:case 5:var p=c;break;default:p=c}typeof l=="function"?i.refCleanup=l(p):l.current=p}}catch(_){It(i,s,_)}}function cr(i,s){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){It(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){It(i,s,p)}else l.current=null}function uE(i){var s=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){It(i,i.return,p)}}function cE(i,s,l){try{var c=i.stateNode;$4(c,i.type,l,s),c[ke]=s}catch(p){It(i,i.return,p)}}function hE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function S_(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||hE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function A_(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Gf));else if(c!==4&&c!==27&&(i=i.child,i!==null))for(A_(i,s,l),i=i.sibling;i!==null;)A_(i,s,l),i=i.sibling}function Pf(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(c!==4&&c!==27&&(i=i.child,i!==null))for(Pf(i,s,l),i=i.sibling;i!==null;)Pf(i,s,l),i=i.sibling}var vs=!1,$t=!1,R_=!1,fE=typeof WeakSet=="function"?WeakSet:Set,wn=null,dE=!1;function b4(i,s){if(i=i.containerInfo,eg=Jf,i=D0(i),Om(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,_=c.focusNode;c=c.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var b=0,A=-1,P=-1,q=0,re=0,ue=i,W=null;t:for(;;){for(var ne;ue!==l||p!==0&&ue.nodeType!==3||(A=b+p),ue!==_||c!==0&&ue.nodeType!==3||(P=b+c),ue.nodeType===3&&(b+=ue.nodeValue.length),(ne=ue.firstChild)!==null;)W=ue,ue=ne;for(;;){if(ue===i)break t;if(W===l&&++q===p&&(A=b),W===_&&++re===c&&(P=b),(ne=ue.nextSibling)!==null)break;ue=W,W=ue.parentNode}ue=ne}l=A===-1||P===-1?null:{start:A,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(tg={focusedElem:i,selectionRange:l},Jf=!1,wn=s;wn!==null;)if(s=wn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,wn=i;else for(;wn!==null;){switch(s=wn,_=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,l=s,p=_.memoizedProps,_=_.memoizedState,c=l.stateNode;try{var De=To(l.type,p,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(De,_),c.__reactInternalSnapshotBeforeUpdate=i}catch($e){It(l,l.return,$e)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)sg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":sg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,wn=i;break}wn=s.return}return De=dE,dE=!1,De}function pE(i,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Es(i,l),c&4&&ac(5,l);break;case 1:if(Es(i,l),c&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(A){It(l,l.return,A)}else{var p=To(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(A){It(l,l.return,A)}}c&64&&oE(l),c&512&&Ro(l,l.return);break;case 3:if(Es(i,l),c&64&&(c=l.updateQueue,c!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{aE(c,i)}catch(A){It(l,l.return,A)}}break;case 26:Es(i,l),c&512&&Ro(l,l.return);break;case 27:case 5:Es(i,l),s===null&&c&4&&uE(l),c&512&&Ro(l,l.return);break;case 12:Es(i,l);break;case 13:Es(i,l),c&4&&gE(i,l);break;case 22:if(p=l.memoizedState!==null||vs,!p){s=s!==null&&s.memoizedState!==null||$t;var _=vs,b=$t;vs=p,($t=s)&&!b?la(i,l,(l.subtreeFlags&8772)!==0):Es(i,l),vs=_,$t=b}c&512&&(l.memoizedProps.mode==="manual"?Ro(l,l.return):cr(l,l.return));break;default:Es(i,l)}}function mE(i){var s=i.alternate;s!==null&&(i.alternate=null,mE(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&lr(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var rn=null,hr=!1;function ys(i,s,l){for(l=l.child;l!==null;)_E(i,s,l),l=l.sibling}function _E(i,s,l){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(Yr,l)}catch{}switch(l.tag){case 26:$t||cr(l,s),ys(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:$t||cr(l,s);var c=rn,p=hr;for(rn=l.stateNode,ys(i,s,l),l=l.stateNode,s=l.attributes;s.length;)l.removeAttributeNode(s[0]);lr(l),rn=c,hr=p;break;case 5:$t||cr(l,s);case 6:p=rn;var _=hr;if(rn=null,ys(i,s,l),rn=p,hr=_,rn!==null)if(hr)try{i=rn,c=l.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)}catch(b){It(l,s,b)}else try{rn.removeChild(l.stateNode)}catch(b){It(l,s,b)}break;case 18:rn!==null&&(hr?(s=rn,l=l.stateNode,s.nodeType===8?ig(s.parentNode,l):s.nodeType===1&&ig(s,l),Sc(s)):ig(rn,l.stateNode));break;case 4:c=rn,p=hr,rn=l.stateNode.containerInfo,hr=!0,ys(i,s,l),rn=c,hr=p;break;case 0:case 11:case 14:case 15:$t||oa(2,l,s),$t||oa(4,l,s),ys(i,s,l);break;case 1:$t||(cr(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&lE(l,s,c)),ys(i,s,l);break;case 21:ys(i,s,l);break;case 22:$t||cr(l,s),$t=(c=$t)||l.memoizedState!==null,ys(i,s,l),$t=c;break;default:ys(i,s,l)}}function gE(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Sc(i)}catch(l){It(s,s.return,l)}}function w4(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new fE),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new fE),s;default:throw Error(r(435,i.tag))}}function C_(i,s){var l=w4(i);s.forEach(function(c){var p=k4.bind(null,i,c);l.has(c)||(l.add(c),c.then(p,p))})}function Lr(i,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],_=i,b=s,A=b;e:for(;A!==null;){switch(A.tag){case 27:case 5:rn=A.stateNode,hr=!1;break e;case 3:rn=A.stateNode.containerInfo,hr=!0;break e;case 4:rn=A.stateNode.containerInfo,hr=!0;break e}A=A.return}if(rn===null)throw Error(r(160));_E(_,b,p),rn=null,hr=!1,_=p.alternate,_!==null&&(_.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)vE(s,i),s=s.sibling}var ei=null;function vE(i,s){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Lr(s,i),Vr(i),c&4&&(oa(3,i,i.return),ac(3,i),oa(5,i,i.return));break;case 1:Lr(s,i),Vr(i),c&512&&($t||l===null||cr(l,l.return)),c&64&&vs&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=ei;if(Lr(s,i),Vr(i),c&512&&($t||l===null||cr(l,l.return)),c&4){var _=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":_=p.getElementsByTagName("title")[0],(!_||_[Kn]||_[Se]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=p.createElement(c),p.head.insertBefore(_,p.querySelector("head > title"))),Dn(_,c,l),_[Se]=i,bt(_),c=_;break e;case"link":var b=ub("link","href",p).get(c+(l.href||""));if(b){for(var A=0;A<b.length;A++)if(_=b[A],_.getAttribute("href")===(l.href==null?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(A,1);break t}}_=p.createElement(c),Dn(_,c,l),p.head.appendChild(_);break;case"meta":if(b=ub("meta","content",p).get(c+(l.content||""))){for(A=0;A<b.length;A++)if(_=b[A],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(A,1);break t}}_=p.createElement(c),Dn(_,c,l),p.head.appendChild(_);break;default:throw Error(r(468,c))}_[Se]=i,bt(_),c=_}i.stateNode=c}else cb(p,i.type,i.stateNode);else i.stateNode=lb(p,c,i.memoizedProps);else _!==c?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,c===null?cb(p,i.type,i.stateNode):lb(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&cE(i,i.memoizedProps,l.memoizedProps)}break;case 27:if(c&4&&i.alternate===null){p=i.stateNode,_=i.memoizedProps;try{for(var P=p.firstChild;P;){var q=P.nextSibling,re=P.nodeName;P[Kn]||re==="HEAD"||re==="BODY"||re==="SCRIPT"||re==="STYLE"||re==="LINK"&&P.rel.toLowerCase()==="stylesheet"||p.removeChild(P),P=q}for(var ue=i.type,W=p.attributes;W.length;)p.removeAttributeNode(W[0]);Dn(p,ue,_),p[Se]=i,p[ke]=_}catch(De){It(i,i.return,De)}}case 5:if(Lr(s,i),Vr(i),c&512&&($t||l===null||cr(l,l.return)),i.flags&32){p=i.stateNode;try{Cr(p,"")}catch(De){It(i,i.return,De)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,cE(i,p,l!==null?l.memoizedProps:p)),c&1024&&(R_=!0);break;case 6:if(Lr(s,i),Vr(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(De){It(i,i.return,De)}}break;case 3:if(Xf=null,p=ei,ei=Qf(s.containerInfo),Lr(s,i),ei=p,Vr(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Sc(s.containerInfo)}catch(De){It(i,i.return,De)}R_&&(R_=!1,yE(i));break;case 4:c=ei,ei=Qf(i.stateNode.containerInfo),Lr(s,i),Vr(i),ei=c;break;case 12:Lr(s,i),Vr(i);break;case 13:Lr(s,i),Vr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(L_=mn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,C_(i,c)));break;case 22:if(c&512&&($t||l===null||cr(l,l.return)),P=i.memoizedState!==null,q=l!==null&&l.memoizedState!==null,re=vs,ue=$t,vs=re||P,$t=ue||q,Lr(s,i),$t=ue,vs=re,Vr(i),s=i.stateNode,s._current=i,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,c&8192&&(s._visibility=P?s._visibility&-2:s._visibility|1,P&&(s=vs||$t,l===null||q||s||Pl(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(l=null,s=i;;){if(s.tag===5||s.tag===26||s.tag===27){if(l===null){q=l=s;try{if(p=q.stateNode,P)_=p.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=q.stateNode,A=q.memoizedProps.style;var ne=A!=null&&A.hasOwnProperty("display")?A.display:null;b.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(De){It(q,q.return,De)}}}else if(s.tag===6){if(l===null){q=s;try{q.stateNode.nodeValue=P?"":q.memoizedProps}catch(De){It(q,q.return,De)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,C_(i,l))));break;case 19:Lr(s,i),Vr(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,C_(i,c)));break;case 21:break;default:Lr(s,i),Vr(i)}}function Vr(i){var s=i.flags;if(s&2){try{if(i.tag!==27){e:{for(var l=i.return;l!==null;){if(hE(l)){var c=l;break e}l=l.return}throw Error(r(160))}switch(c.tag){case 27:var p=c.stateNode,_=S_(i);Pf(i,_,p);break;case 5:var b=c.stateNode;c.flags&32&&(Cr(b,""),c.flags&=-33);var A=S_(i);Pf(i,A,b);break;case 3:case 4:var P=c.stateNode.containerInfo,q=S_(i);A_(i,q,P);break;default:throw Error(r(161))}}}catch(re){It(i,i.return,re)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function yE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;yE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Es(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)pE(i,s.alternate,s),s=s.sibling}function Pl(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:oa(4,s,s.return),Pl(s);break;case 1:cr(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&lE(s,s.return,l),Pl(s);break;case 26:case 27:case 5:cr(s,s.return),Pl(s);break;case 22:cr(s,s.return),s.memoizedState===null&&Pl(s);break;default:Pl(s)}i=i.sibling}}function la(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,p=i,_=s,b=_.flags;switch(_.tag){case 0:case 11:case 15:la(p,_,l),ac(4,_);break;case 1:if(la(p,_,l),c=_,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(q){It(c,c.return,q)}if(c=_,p=c.updateQueue,p!==null){var A=c.stateNode;try{var P=p.shared.hiddenCallbacks;if(P!==null)for(p.shared.hiddenCallbacks=null,p=0;p<P.length;p++)sE(P[p],A)}catch(q){It(c,c.return,q)}}l&&b&64&&oE(_),Ro(_,_.return);break;case 26:case 27:case 5:la(p,_,l),l&&c===null&&b&4&&uE(_),Ro(_,_.return);break;case 12:la(p,_,l);break;case 13:la(p,_,l),l&&b&4&&gE(p,_);break;case 22:_.memoizedState===null&&la(p,_,l),Ro(_,_.return);break;default:la(p,_,l)}s=s.sibling}}function O_(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Xu(l))}function I_(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Xu(i))}function ua(i,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)EE(i,s,l,c),s=s.sibling}function EE(i,s,l,c){var p=s.flags;switch(s.tag){case 0:case 11:case 15:ua(i,s,l,c),p&2048&&ac(9,s);break;case 3:ua(i,s,l,c),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Xu(i)));break;case 12:if(p&2048){ua(i,s,l,c),i=s.stateNode;try{var _=s.memoizedProps,b=_.id,A=_.onPostCommit;typeof A=="function"&&A(b,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){It(s,s.return,P)}}else ua(i,s,l,c);break;case 23:break;case 22:_=s.stateNode,s.memoizedState!==null?_._visibility&4?ua(i,s,l,c):oc(i,s):_._visibility&4?ua(i,s,l,c):(_._visibility|=4,Ml(i,s,l,c,(s.subtreeFlags&10256)!==0)),p&2048&&O_(s.alternate,s);break;case 24:ua(i,s,l,c),p&2048&&I_(s.alternate,s);break;default:ua(i,s,l,c)}}function Ml(i,s,l,c,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var _=i,b=s,A=l,P=c,q=b.flags;switch(b.tag){case 0:case 11:case 15:Ml(_,b,A,P,p),ac(8,b);break;case 23:break;case 22:var re=b.stateNode;b.memoizedState!==null?re._visibility&4?Ml(_,b,A,P,p):oc(_,b):(re._visibility|=4,Ml(_,b,A,P,p)),p&&q&2048&&O_(b.alternate,b);break;case 24:Ml(_,b,A,P,p),p&&q&2048&&I_(b.alternate,b);break;default:Ml(_,b,A,P,p)}s=s.sibling}}function oc(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,c=s,p=c.flags;switch(c.tag){case 22:oc(l,c),p&2048&&O_(c.alternate,c);break;case 24:oc(l,c),p&2048&&I_(c.alternate,c);break;default:oc(l,c)}s=s.sibling}}var lc=8192;function kl(i){if(i.subtreeFlags&lc)for(i=i.child;i!==null;)bE(i),i=i.sibling}function bE(i){switch(i.tag){case 26:kl(i),i.flags&lc&&i.memoizedState!==null&&cO(ei,i.memoizedState,i.memoizedProps);break;case 5:kl(i);break;case 3:case 4:var s=ei;ei=Qf(i.stateNode.containerInfo),kl(i),ei=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=lc,lc=16777216,kl(i),lc=s):kl(i));break;default:kl(i)}}function wE(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function uc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];wn=c,SE(c,i)}wE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)TE(i),i=i.sibling}function TE(i){switch(i.tag){case 0:case 11:case 15:uc(i),i.flags&2048&&oa(9,i,i.return);break;case 3:uc(i);break;case 12:uc(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&4&&(i.return===null||i.return.tag!==13)?(s._visibility&=-5,Mf(i)):uc(i);break;default:uc(i)}}function Mf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];wn=c,SE(c,i)}wE(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:oa(8,s,s.return),Mf(s);break;case 22:l=s.stateNode,l._visibility&4&&(l._visibility&=-5,Mf(s));break;default:Mf(s)}i=i.sibling}}function SE(i,s){for(;wn!==null;){var l=wn;switch(l.tag){case 0:case 11:case 15:oa(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Xu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,wn=c;else e:for(l=i;wn!==null;){c=wn;var p=c.sibling,_=c.return;if(mE(c),c===l){wn=null;break e}if(p!==null){p.return=_,wn=p;break e}wn=_}}}function T4(i,s,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(i,s,l,c){return new T4(i,s,l,c)}function D_(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ca(i,s){var l=i.alternate;return l===null?(l=Ur(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&31457280,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function AE(i,s){i.flags&=31457282;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function kf(i,s,l,c,p,_){var b=0;if(c=i,typeof i=="function")D_(i)&&(b=1);else if(typeof i=="string")b=lO(i,l,pn.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case d:return Co(l.children,p,_,s);case m:b=8,p|=24;break;case g:return i=Ur(12,l,s,p|2),i.elementType=g,i.lanes=_,i;case M:return i=Ur(13,l,s,p),i.elementType=M,i.lanes=_,i;case I:return i=Ur(19,l,s,p),i.elementType=I,i.lanes=_,i;case X:return RE(l,p,_,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case y:case T:b=10;break e;case w:b=9;break e;case S:b=11;break e;case U:b=14;break e;case H:b=16,c=null;break e}b=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=Ur(b,l,s,p),s.elementType=i,s.type=c,s.lanes=_,s}function Co(i,s,l,c){return i=Ur(7,i,c,s),i.lanes=l,i}function RE(i,s,l,c){i=Ur(22,i,c,s),i.elementType=X,i.lanes=l;var p={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var _=p._current;if(_===null)throw Error(r(456));if((p._pendingVisibility&2)===0){var b=Zs(_,2);b!==null&&(p._pendingVisibility|=2,Wn(b,_,2))}},attach:function(){var _=p._current;if(_===null)throw Error(r(456));if((p._pendingVisibility&2)!==0){var b=Zs(_,2);b!==null&&(p._pendingVisibility&=-3,Wn(b,_,2))}}};return i.stateNode=p,i}function x_(i,s,l){return i=Ur(6,i,null,s),i.lanes=l,i}function N_(i,s,l){return s=Ur(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function bs(i){i.flags|=4}function CE(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!hb(s)){if(s=kr.current,s!==null&&((ft&4194176)===ft?Ci!==null:(ft&62914560)!==ft&&(ft&536870912)===0||s!==Ci))throw Ku=Vm,H0;i.flags|=8192}}function Lf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?G():536870912,i.lanes|=s,Vl|=s)}function cc(i,s){if(!vt)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function jt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&31457280,c|=p.flags&31457280,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=l,s}function S4(i,s,l){var c=s.pendingProps;switch(km(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(s),null;case 1:return jt(s),null;case 3:return l=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),gs(fn),wr(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(qu(s)?bs(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Jr!==null&&(B_(Jr),Jr=null))),jt(s),null;case 26:return l=s.memoizedState,i===null?(bs(s),l!==null?(jt(s),CE(s,l)):(jt(s),s.flags&=-16777217)):l?l!==i.memoizedState?(bs(s),jt(s),CE(s,l)):(jt(s),s.flags&=-16777217):(i.memoizedProps!==c&&bs(s),jt(s),s.flags&=-16777217),null;case 27:qs(s),l=Jt.current;var p=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==c&&bs(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return jt(s),null}i=pn.current,qu(s)?F0(s):(i=rb(p,c,l),s.stateNode=i,bs(s))}return jt(s),null;case 5:if(qs(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&bs(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return jt(s),null}if(i=pn.current,qu(s))F0(s);else{switch(p=Kf(Jt.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?p.createElement(l,{is:c.is}):p.createElement(l)}}i[Se]=s,i[ke]=c;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=i;e:switch(Dn(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&bs(s)}}return jt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&bs(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=Jt.current,qu(s)){if(i=s.stateNode,l=s.memoizedProps,c=null,p=Xn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[Se]=s,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||WE(i.nodeValue,l)),i||go(s)}else i=Kf(i).createTextNode(c),i[Se]=s,s.stateNode=i}return jt(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=qu(s),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Se]=s}else Hu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;jt(s),p=!1}else Jr!==null&&(B_(Jr),Jr=null),p=!0;if(!p)return s.flags&256?(ds(s),s):(ds(s),null)}if(ds(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=s.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var _=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(_=c.memoizedState.cachePool.pool),_!==p&&(c.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),Lf(s,s.updateQueue),jt(s),null;case 4:return wr(),i===null&&W_(s.stateNode.containerInfo),jt(s),null;case 10:return gs(s.type),jt(s),null;case 19:if(et(hn),p=s.memoizedState,p===null)return jt(s),null;if(c=(s.flags&128)!==0,_=p.rendering,_===null)if(c)cc(p,!1);else{if(Gt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(_=yf(i),_!==null){for(s.flags|=128,cc(p,!1),i=_.updateQueue,s.updateQueue=i,Lf(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)AE(l,i),l=l.sibling;return rt(hn,hn.current&1|2),s.child}i=i.sibling}p.tail!==null&&mn()>Vf&&(s.flags|=128,c=!0,cc(p,!1),s.lanes=4194304)}else{if(!c)if(i=yf(_),i!==null){if(s.flags|=128,c=!0,i=i.updateQueue,s.updateQueue=i,Lf(s,i),cc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!vt)return jt(s),null}else 2*mn()-p.renderingStartTime>Vf&&l!==536870912&&(s.flags|=128,c=!0,cc(p,!1),s.lanes=4194304);p.isBackwards?(_.sibling=s.child,s.child=_):(i=p.last,i!==null?i.sibling=_:s.child=_,p.last=_)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=mn(),s.sibling=null,i=hn.current,rt(hn,c?i&1|2:i&1),s):(jt(s),null);case 22:case 23:return ds(s),jm(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(jt(s),s.subtreeFlags&6&&(s.flags|=8192)):jt(s),l=s.updateQueue,l!==null&&Lf(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),i!==null&&et(yo),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),gs(fn),jt(s),null;case 25:return null}throw Error(r(156,s.tag))}function A4(i,s){switch(km(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return gs(fn),wr(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return qs(s),null;case 13:if(ds(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Hu()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return et(hn),null;case 4:return wr(),null;case 10:return gs(s.type),null;case 22:case 23:return ds(s),jm(),i!==null&&et(yo),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return gs(fn),null;case 25:return null;default:return null}}function OE(i,s){switch(km(s),s.tag){case 3:gs(fn),wr();break;case 26:case 27:case 5:qs(s);break;case 4:wr();break;case 13:ds(s);break;case 19:et(hn);break;case 10:gs(s.type);break;case 22:case 23:ds(s),jm(),i!==null&&et(yo);break;case 24:gs(fn)}}var R4={getCacheForType:function(i){var s=Vn(fn),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},C4=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Pt=null,nt=null,ft=0,Mt=0,fr=null,ws=!1,Ll=!1,P_=!1,Ts=0,Gt=0,ha=0,Oo=0,M_=0,jr=0,Vl=0,hc=null,Ii=null,k_=!1,L_=0,Vf=1/0,Uf=null,fa=null,jf=!1,Io=null,fc=0,V_=0,U_=null,dc=0,j_=null;function dr(){if((Bt&2)!==0&&ft!==0)return ft&-ft;if(C.T!==null){var i=Ol;return i!==0?i:K_()}return Ie()}function IE(){jr===0&&(jr=(ft&536870912)===0||vt?V():536870912);var i=kr.current;return i!==null&&(i.flags|=32),jr}function Wn(i,s,l){(i===Pt&&Mt===2||i.cancelPendingCommit!==null)&&(Ul(i,0),Ss(i,ft,jr,!1)),ae(i,l),((Bt&2)===0||i!==Pt)&&(i===Pt&&((Bt&2)===0&&(Oo|=l),Gt===4&&Ss(i,ft,jr,!1)),Di(i))}function DE(i,s,l){if((Bt&6)!==0)throw Error(r(327));var c=!l&&(s&60)===0&&(s&i.expiredLanes)===0||_i(i,s),p=c?D4(i,s):q_(i,s,!0),_=c;do{if(p===0){Ll&&!c&&Ss(i,s,0,!1);break}else if(p===6)Ss(i,s,0,!ws);else{if(l=i.current.alternate,_&&!O4(l)){p=q_(i,s,!1),_=!1;continue}if(p===2){if(_=s,i.errorRecoveryDisabledLanes&_)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var A=i;p=hc;var P=A.current.memoizedState.isDehydrated;if(P&&(Ul(A,b).flags|=256),b=q_(A,b,!1),b!==2){if(P_&&!P){A.errorRecoveryDisabledLanes|=_,Oo|=_,p=4;break e}_=Ii,Ii=p,_!==null&&B_(_)}p=b}if(_=!1,p!==2)continue}}if(p===1){Ul(i,0),Ss(i,s,0,!0);break}e:{switch(c=i,p){case 0:case 1:throw Error(r(345));case 4:if((s&4194176)===s){Ss(c,s,jr,!ws);break e}break;case 2:Ii=null;break;case 3:case 5:break;default:throw Error(r(329))}if(c.finishedWork=l,c.finishedLanes=s,(s&62914560)===s&&(_=L_+300-mn(),10<_)){if(Ss(c,s,jr,!ws),Rn(c,0)!==0)break e;c.timeoutHandle=eb(xE.bind(null,c,l,Ii,Uf,k_,s,jr,Oo,Vl,ws,2,-0,0),_);break e}xE(c,l,Ii,Uf,k_,s,jr,Oo,Vl,ws,0,-0,0)}}break}while(!0);Di(i)}function B_(i){Ii===null?Ii=i:Ii.push.apply(Ii,i)}function xE(i,s,l,c,p,_,b,A,P,q,re,ue,W){var ne=s.subtreeFlags;if((ne&8192||(ne&16785408)===16785408)&&(yc={stylesheets:null,count:0,unsuspend:uO},bE(s),s=hO(),s!==null)){i.cancelPendingCommit=s(UE.bind(null,i,l,c,p,b,A,P,1,ue,W)),Ss(i,_,b,!q);return}UE(i,l,c,p,b,A,P,re,ue,W)}function O4(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],_=p.getSnapshot;p=p.value;try{if(!ur(_(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ss(i,s,l,c){s&=~M_,s&=~Oo,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var p=s;0<p;){var _=31-gn(p),b=1<<_;c[_]=-1,p&=~b}l!==0&&Ne(i,l,s)}function Bf(){return(Bt&6)===0?(pc(0),!1):!0}function z_(){if(nt!==null){if(Mt===0)var i=nt.return;else i=nt,_s=So=null,Km(i),Rl=null,Qu=0,i=nt;for(;i!==null;)OE(i.alternate,i),i=i.return;nt=null}}function Ul(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,K4(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),z_(),Pt=i,nt=l=ca(i.current,null),ft=s,Mt=0,fr=null,ws=!1,Ll=_i(i,s),P_=!1,Vl=jr=M_=Oo=ha=Gt=0,Ii=hc=null,k_=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var p=31-gn(c),_=1<<p;s|=i[p],c&=~_}return Ts=s,cf(),l}function NE(i,s){Ze=null,C.H=Oi,s===Gu?(s=K0(),Mt=3):s===H0?(s=K0(),Mt=4):Mt=s===$1?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,fr=s,nt===null&&(Gt=1,Df(i,Nr(s,i.current)))}function PE(){var i=C.H;return C.H=Oi,i===null?Oi:i}function ME(){var i=C.A;return C.A=R4,i}function F_(){Gt=4,ws||(ft&4194176)!==ft&&kr.current!==null||(Ll=!0),(ha&134217727)===0&&(Oo&134217727)===0||Pt===null||Ss(Pt,ft,jr,!1)}function q_(i,s,l){var c=Bt;Bt|=2;var p=PE(),_=ME();(Pt!==i||ft!==s)&&(Uf=null,Ul(i,s)),s=!1;var b=Gt;e:do try{if(Mt!==0&&nt!==null){var A=nt,P=fr;switch(Mt){case 8:z_(),b=6;break e;case 3:case 2:case 6:kr.current===null&&(s=!0);var q=Mt;if(Mt=0,fr=null,jl(i,A,P,q),l&&Ll){b=0;break e}break;default:q=Mt,Mt=0,fr=null,jl(i,A,P,q)}}I4(),b=Gt;break}catch(re){NE(i,re)}while(!0);return s&&i.shellSuspendCounter++,_s=So=null,Bt=c,C.H=p,C.A=_,nt===null&&(Pt=null,ft=0,cf()),b}function I4(){for(;nt!==null;)kE(nt)}function D4(i,s){var l=Bt;Bt|=2;var c=PE(),p=ME();Pt!==i||ft!==s?(Uf=null,Vf=mn()+500,Ul(i,s)):Ll=_i(i,s);e:do try{if(Mt!==0&&nt!==null){s=nt;var _=fr;t:switch(Mt){case 1:Mt=0,fr=null,jl(i,s,_,1);break;case 2:if($0(_)){Mt=0,fr=null,LE(s);break}s=function(){Mt===2&&Pt===i&&(Mt=7),Di(i)},_.then(s,s);break e;case 3:Mt=7;break e;case 4:Mt=5;break e;case 7:$0(_)?(Mt=0,fr=null,LE(s)):(Mt=0,fr=null,jl(i,s,_,7));break;case 5:var b=null;switch(nt.tag){case 26:b=nt.memoizedState;case 5:case 27:var A=nt;if(!b||hb(b)){Mt=0,fr=null;var P=A.sibling;if(P!==null)nt=P;else{var q=A.return;q!==null?(nt=q,zf(q)):nt=null}break t}}Mt=0,fr=null,jl(i,s,_,5);break;case 6:Mt=0,fr=null,jl(i,s,_,6);break;case 8:z_(),Gt=6;break e;default:throw Error(r(462))}}x4();break}catch(re){NE(i,re)}while(!0);return _s=So=null,C.H=c,C.A=p,Bt=l,nt!==null?0:(Pt=null,ft=0,cf(),Gt)}function x4(){for(;nt!==null&&!ts();)kE(nt)}function kE(i){var s=rE(i.alternate,i,Ts);i.memoizedProps=i.pendingProps,s===null?zf(i):nt=s}function LE(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=W1(l,s,s.pendingProps,s.type,void 0,ft);break;case 11:s=W1(l,s,s.pendingProps,s.type.render,s.ref,ft);break;case 5:Km(s);default:OE(l,s),s=nt=AE(s,Ts),s=rE(l,s,Ts)}i.memoizedProps=i.pendingProps,s===null?zf(i):nt=s}function jl(i,s,l,c){_s=So=null,Km(s),Rl=null,Qu=0;var p=s.return;try{if(y4(i,p,s,l,ft)){Gt=1,Df(i,Nr(l,i.current)),nt=null;return}}catch(_){if(p!==null)throw nt=p,_;Gt=1,Df(i,Nr(l,i.current)),nt=null;return}s.flags&32768?(vt||c===1?i=!0:Ll||(ft&536870912)!==0?i=!1:(ws=i=!0,(c===2||c===3||c===6)&&(c=kr.current,c!==null&&c.tag===13&&(c.flags|=16384))),VE(s,i)):zf(s)}function zf(i){var s=i;do{if((s.flags&32768)!==0){VE(s,ws);return}i=s.return;var l=S4(s.alternate,s,Ts);if(l!==null){nt=l;return}if(s=s.sibling,s!==null){nt=s;return}nt=s=i}while(s!==null);Gt===0&&(Gt=5)}function VE(i,s){do{var l=A4(i.alternate,i);if(l!==null){l.flags&=32767,nt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){nt=i;return}nt=i=l}while(i!==null);Gt=6,nt=null}function UE(i,s,l,c,p,_,b,A,P,q){var re=C.T,ue=Ee.p;try{Ee.p=2,C.T=null,N4(i,s,l,c,ue,p,_,b,A,P,q)}finally{C.T=re,Ee.p=ue}}function N4(i,s,l,c,p,_,b,A){do Bl();while(Io!==null);if((Bt&6)!==0)throw Error(r(327));var P=i.finishedWork;if(c=i.finishedLanes,P===null)return null;if(i.finishedWork=null,i.finishedLanes=0,P===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var q=P.lanes|P.childLanes;if(q|=Nm,_e(i,c,q,_,b,A),i===Pt&&(nt=Pt=null,ft=0),(P.subtreeFlags&10256)===0&&(P.flags&10256)===0||jf||(jf=!0,V_=q,U_=l,L4(or,function(){return Bl(),null})),l=(P.flags&15990)!==0,(P.subtreeFlags&15990)!==0||l?(l=C.T,C.T=null,_=Ee.p,Ee.p=2,b=Bt,Bt|=4,b4(i,P),vE(P,i),n4(tg,i.containerInfo),Jf=!!eg,tg=eg=null,i.current=P,pE(i,P.alternate,P),$s(),Bt=b,Ee.p=_,C.T=l):i.current=P,jf?(jf=!1,Io=i,fc=c):jE(i,q),q=i.pendingLanes,q===0&&(fa=null),Gs(P.stateNode),Di(i),s!==null)for(p=i.onRecoverableError,P=0;P<s.length;P++)q=s[P],p(q.value,{componentStack:q.stack});return(fc&3)!==0&&Bl(),q=i.pendingLanes,(c&4194218)!==0&&(q&42)!==0?i===j_?dc++:(dc=0,j_=i):dc=0,pc(0),null}function jE(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Xu(s)))}function Bl(){if(Io!==null){var i=Io,s=V_;V_=0;var l=Ce(fc),c=C.T,p=Ee.p;try{if(Ee.p=32>l?32:l,C.T=null,Io===null)var _=!1;else{l=U_,U_=null;var b=Io,A=fc;if(Io=null,fc=0,(Bt&6)!==0)throw Error(r(331));var P=Bt;if(Bt|=4,TE(b.current),EE(b,b.current,A,l),Bt=P,pc(0,!1),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(Yr,b)}catch{}_=!0}return _}finally{Ee.p=p,C.T=c,jE(i,s)}}return!1}function BE(i,s,l){s=Nr(l,s),s=o_(i.stateNode,s,2),i=aa(i,s,2),i!==null&&(ae(i,2),Di(i))}function It(i,s,l){if(i.tag===3)BE(i,i,l);else for(;s!==null;){if(s.tag===3){BE(s,i,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(fa===null||!fa.has(c))){i=Nr(l,i),l=q1(2),c=aa(s,l,2),c!==null&&(H1(l,c,s,i),ae(c,2),Di(c));break}}s=s.return}}function H_(i,s,l){var c=i.pingCache;if(c===null){c=i.pingCache=new C4;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(l)||(P_=!0,p.add(l),i=P4.bind(null,i,s,l),s.then(i,i))}function P4(i,s,l){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Pt===i&&(ft&l)===l&&(Gt===4||Gt===3&&(ft&62914560)===ft&&300>mn()-L_?(Bt&2)===0&&Ul(i,0):M_|=l,Vl===ft&&(Vl=0)),Di(i)}function zE(i,s){s===0&&(s=G()),i=Zs(i,s),i!==null&&(ae(i,s),Di(i))}function M4(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),zE(i,l)}function k4(i,s){var l=0;switch(i.tag){case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),zE(i,l)}function L4(i,s){return es(i,s)}var Ff=null,zl=null,$_=!1,qf=!1,G_=!1,Do=0;function Di(i){i!==zl&&i.next===null&&(zl===null?Ff=zl=i:zl=zl.next=i),qf=!0,$_||($_=!0,U4(V4))}function pc(i,s){if(!G_&&qf){G_=!0;do for(var l=!1,c=Ff;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var _=0;else{var b=c.suspendedLanes,A=c.pingedLanes;_=(1<<31-gn(42|i)+1)-1,_&=p&~(b&~A),_=_&201326677?_&201326677|1:_?_|2:0}_!==0&&(l=!0,HE(c,_))}else _=ft,_=Rn(c,c===Pt?_:0),(_&3)===0||_i(c,_)||(l=!0,HE(c,_));c=c.next}while(l);G_=!1}}function V4(){qf=$_=!1;var i=0;Do!==0&&(G4()&&(i=Do),Do=0);for(var s=mn(),l=null,c=Ff;c!==null;){var p=c.next,_=FE(c,s);_===0?(c.next=null,l===null?Ff=p:l.next=p,p===null&&(zl=l)):(l=c,(i!==0||(_&3)!==0)&&(qf=!0)),c=p}pc(i)}function FE(i,s){for(var l=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var b=31-gn(_),A=1<<b,P=p[b];P===-1?((A&l)===0||(A&c)!==0)&&(p[b]=Ks(A,s)):P<=s&&(i.expiredLanes|=A),_&=~A}if(s=Pt,l=ft,l=Rn(i,i===s?l:0),c=i.callbackNode,l===0||i===s&&Mt===2||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Jn(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||_i(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(c!==null&&Jn(c),Ce(l)){case 2:case 8:l=Yt;break;case 32:l=or;break;case 268435456:l=er;break;default:l=or}return c=qE.bind(null,i),l=es(l,c),i.callbackPriority=s,i.callbackNode=l,s}return c!==null&&c!==null&&Jn(c),i.callbackPriority=2,i.callbackNode=null,2}function qE(i,s){var l=i.callbackNode;if(Bl()&&i.callbackNode!==l)return null;var c=ft;return c=Rn(i,i===Pt?c:0),c===0?null:(DE(i,c,s),FE(i,mn()),i.callbackNode!=null&&i.callbackNode===l?qE.bind(null,i):null)}function HE(i,s){if(Bl())return null;DE(i,s,!0)}function U4(i){Q4(function(){(Bt&6)!==0?es(At,i):i()})}function K_(){return Do===0&&(Do=V()),Do}function $E(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:yi(""+i)}function GE(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function j4(i,s,l,c,p){if(s==="submit"&&l&&l.stateNode===p){var _=$E((p[ke]||null).action),b=c.submitter;b&&(s=(s=b[ke]||null)?$E(s.formAction):b.getAttribute("formAction"),s!==null&&(_=s,b=null));var A=new fl("action","action",null,c,p);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Do!==0){var P=b?GE(p,b):new FormData(p);n_(l,{pending:!0,data:P,method:p.method,action:_},null,P)}}else typeof _=="function"&&(A.preventDefault(),P=b?GE(p,b):new FormData(p),n_(l,{pending:!0,data:P,method:p.method,action:_},_,P))},currentTarget:p}]})}}for(var Q_=0;Q_<U0.length;Q_++){var Y_=U0[Q_],B4=Y_.toLowerCase(),z4=Y_[0].toUpperCase()+Y_.slice(1);Zr(B4,"on"+z4)}Zr(P0,"onAnimationEnd"),Zr(M0,"onAnimationIteration"),Zr(k0,"onAnimationStart"),Zr("dblclick","onDoubleClick"),Zr("focusin","onFocus"),Zr("focusout","onBlur"),Zr(i4,"onTransitionRun"),Zr(s4,"onTransitionStart"),Zr(a4,"onTransitionCancel"),Zr(L0,"onTransitionEnd"),wt("onMouseEnter",["mouseout","mouseover"]),wt("onMouseLeave",["mouseout","mouseover"]),wt("onPointerEnter",["pointerout","pointerover"]),wt("onPointerLeave",["pointerout","pointerover"]),We("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),We("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),We("onBeforeInput",["compositionend","keypress","textInput","paste"]),We("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mc));function KE(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],p=c.event;c=c.listeners;e:{var _=void 0;if(s)for(var b=c.length-1;0<=b;b--){var A=c[b],P=A.instance,q=A.currentTarget;if(A=A.listener,P!==_&&p.isPropagationStopped())break e;_=A,p.currentTarget=q;try{_(p)}catch(re){If(re)}p.currentTarget=null,_=P}else for(b=0;b<c.length;b++){if(A=c[b],P=A.instance,q=A.currentTarget,A=A.listener,P!==_&&p.isPropagationStopped())break e;_=A,p.currentTarget=q;try{_(p)}catch(re){If(re)}p.currentTarget=null,_=P}}}}function ot(i,s){var l=s[Ut];l===void 0&&(l=s[Ut]=new Set);var c=i+"__bubble";l.has(c)||(QE(s,i,2,!1),l.add(c))}function X_(i,s,l){var c=0;s&&(c|=4),QE(l,i,c,s)}var Hf="_reactListening"+Math.random().toString(36).slice(2);function W_(i){if(!i[Hf]){i[Hf]=!0,gi.forEach(function(l){l!=="selectionchange"&&(F4.has(l)||X_(l,!1,i),X_(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Hf]||(s[Hf]=!0,X_("selectionchange",!1,s))}}function QE(i,s,l,c){switch(gb(s)){case 2:var p=pO;break;case 8:p=mO;break;default:p=cg}l=p.bind(null,s,l,i),p=void 0,!Ir||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function Z_(i,s,l,c,p){var _=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var A=c.stateNode.containerInfo;if(A===p||A.nodeType===8&&A.parentNode===p)break;if(b===4)for(b=c.return;b!==null;){var P=b.tag;if((P===3||P===4)&&(P=b.stateNode.containerInfo,P===p||P.nodeType===8&&P.parentNode===p))return;b=b.return}for(;A!==null;){if(b=Xt(A),b===null)return;if(P=b.tag,P===5||P===6||P===26||P===27){c=_=b;continue e}A=A.parentNode}}c=c.return}Qh(function(){var q=_,re=hl(l),ue=[];e:{var W=V0.get(i);if(W!==void 0){var ne=fl,De=i;switch(i){case"keypress":if(bi(l)===0)break e;case"keydown":case"keyup":ne=vl;break;case"focusin":De="focus",ne=ml;break;case"focusout":De="blur",ne=ml;break;case"beforeblur":case"afterblur":ne=ml;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Dr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Sm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=nf;break;case P0:case M0:case k0:ne=_l;break;case L0:ne=sf;break;case"scroll":case"scrollend":ne=Yh;break;case"wheel":ne=yl;break;case"copy":case"cut":case"paste":ne=gl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=ju;break;case"toggle":case"beforetoggle":ne=of}var $e=(s&4)!==0,Kt=!$e&&(i==="scroll"||i==="scrollend"),K=$e?W!==null?W+"Capture":null:W;$e=[];for(var z=q,Y;z!==null;){var oe=z;if(Y=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Y===null||K===null||(oe=so(z,K),oe!=null&&$e.push(_c(z,oe,Y))),Kt)break;z=z.return}0<$e.length&&(W=new ne(W,De,null,l,re),ue.push({event:W,listeners:$e}))}}if((s&7)===0){e:{if(W=i==="mouseover"||i==="pointerover",ne=i==="mouseout"||i==="pointerout",W&&l!==Or&&(De=l.relatedTarget||l.fromElement)&&(Xt(De)||De[_t]))break e;if((ne||W)&&(W=re.window===re?re:(W=re.ownerDocument)?W.defaultView||W.parentWindow:window,ne?(De=l.relatedTarget||l.toElement,ne=q,De=De?Xt(De):null,De!==null&&(Kt=Re(De),$e=De.tag,De!==Kt||$e!==5&&$e!==27&&$e!==6)&&(De=null)):(ne=null,De=q),ne!==De)){if($e=Dr,oe="onMouseLeave",K="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&($e=ju,oe="onPointerLeave",K="onPointerEnter",z="pointer"),Kt=ne==null?W:Sr(ne),Y=De==null?W:Sr(De),W=new $e(oe,z+"leave",ne,l,re),W.target=Kt,W.relatedTarget=Y,oe=null,Xt(re)===q&&($e=new $e(K,z+"enter",De,l,re),$e.target=Y,$e.relatedTarget=Kt,oe=$e),Kt=oe,ne&&De)t:{for($e=ne,K=De,z=0,Y=$e;Y;Y=Fl(Y))z++;for(Y=0,oe=K;oe;oe=Fl(oe))Y++;for(;0<z-Y;)$e=Fl($e),z--;for(;0<Y-z;)K=Fl(K),Y--;for(;z--;){if($e===K||K!==null&&$e===K.alternate)break t;$e=Fl($e),K=Fl(K)}$e=null}else $e=null;ne!==null&&YE(ue,W,ne,$e,!1),De!==null&&Kt!==null&&YE(ue,Kt,De,$e,!0)}}e:{if(W=q?Sr(q):window,ne=W.nodeName&&W.nodeName.toLowerCase(),ne==="select"||ne==="input"&&W.type==="file")var Ae=w0;else if(cn(W))if(T0)Ae=e4;else{Ae=ZC;var tt=WC}else ne=W.nodeName,!ne||ne.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?q&&Nu(q.elementType)&&(Ae=w0):Ae=JC;if(Ae&&(Ae=Ae(i,q))){cs(ue,Ae,l,re);break e}tt&&tt(i,W,q),i==="focusout"&&q&&W.type==="number"&&q.memoizedProps.value!=null&&cl(W,"number",W.value)}switch(tt=q?Sr(q):window,i){case"focusin":(cn(tt)||tt.contentEditable==="true")&&(El=tt,Im=q,Fu=null);break;case"focusout":Fu=Im=El=null;break;case"mousedown":Dm=!0;break;case"contextmenu":case"mouseup":case"dragend":Dm=!1,x0(ue,l,re);break;case"selectionchange":if(r4)break;case"keydown":case"keyup":x0(ue,l,re)}var Pe;if(Si)e:{switch(i){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else ct?J(i,l)&&(Le="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Le="onCompositionStart");Le&&(E&&l.locale!=="ko"&&(ct||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&ct&&(Pe=Mu()):(Ei=re,Ws="value"in Ei?Ei.value:Ei.textContent,ct=!0)),tt=$f(q,Le),0<tt.length&&(Le=new Vu(Le,i,null,l,re),ue.push({event:Le,listeners:tt}),Pe?Le.data=Pe:(Pe=he(l),Pe!==null&&(Le.data=Pe)))),(Pe=v?un(i,l):ht(i,l))&&(Le=$f(q,"onBeforeInput"),0<Le.length&&(tt=new Vu("onBeforeInput","beforeinput",null,l,re),ue.push({event:tt,listeners:Le}),tt.data=Pe)),j4(ue,i,q,l,re)}KE(ue,s)})}function _c(i,s,l){return{instance:i,listener:s,currentTarget:l}}function $f(i,s){for(var l=s+"Capture",c=[];i!==null;){var p=i,_=p.stateNode;p=p.tag,p!==5&&p!==26&&p!==27||_===null||(p=so(i,l),p!=null&&c.unshift(_c(i,p,_)),p=so(i,s),p!=null&&c.push(_c(i,p,_))),i=i.return}return c}function Fl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function YE(i,s,l,c,p){for(var _=s._reactName,b=[];l!==null&&l!==c;){var A=l,P=A.alternate,q=A.stateNode;if(A=A.tag,P!==null&&P===c)break;A!==5&&A!==26&&A!==27||q===null||(P=q,p?(q=so(l,_),q!=null&&b.unshift(_c(l,q,P))):p||(q=so(l,_),q!=null&&b.push(_c(l,q,P)))),l=l.return}b.length!==0&&i.push({event:s,listeners:b})}var q4=/\r\n?/g,H4=/\u0000|\uFFFD/g;function XE(i){return(typeof i=="string"?i:""+i).replace(q4,`
`).replace(H4,"")}function WE(i,s){return s=XE(s),XE(i)===s}function Gf(){}function Ct(i,s,l,c,p,_){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Cr(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Cr(i,""+c);break;case"className":Qs(i,"class",c);break;case"tabIndex":Qs(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Qs(i,l,c);break;case"style":Kh(i,c,_);break;case"data":if(s!=="object"){Qs(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=yi(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(s!=="input"&&Ct(i,s,"name",p.name,p,null),Ct(i,s,"formEncType",p.formEncType,p,null),Ct(i,s,"formMethod",p.formMethod,p,null),Ct(i,s,"formTarget",p.formTarget,p,null)):(Ct(i,s,"encType",p.encType,p,null),Ct(i,s,"method",p.method,p,null),Ct(i,s,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=yi(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=Gf);break;case"onScroll":c!=null&&ot("scroll",i);break;case"onScrollEnd":c!=null&&ot("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=yi(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":ot("beforetoggle",i),ot("toggle",i),vi(i,"popover",c);break;case"xlinkActuate":Rr(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Rr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Rr(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Rr(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Rr(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Rr(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Rr(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Rr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Rr(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":vi(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=wm.get(l)||l,vi(i,l,c))}}function J_(i,s,l,c,p,_){switch(l){case"style":Kh(i,c,_);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?Cr(i,c):(typeof c=="number"||typeof c=="bigint")&&Cr(i,""+c);break;case"onScroll":c!=null&&ot("scroll",i);break;case"onScrollEnd":c!=null&&ot("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Gf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),_=i[ke]||null,_=_!=null?_[l]:null,typeof _=="function"&&i.removeEventListener(s,_,p),typeof c=="function")){typeof _!="function"&&_!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,c,p);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):vi(i,l,c)}}}function Dn(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",i),ot("load",i);var c=!1,p=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var b=l[_];if(b!=null)switch(_){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ct(i,s,_,b,l,null)}}p&&Ct(i,s,"srcSet",l.srcSet,l,null),c&&Ct(i,s,"src",l.src,l,null);return;case"input":ot("invalid",i);var A=_=b=p=null,P=null,q=null;for(c in l)if(l.hasOwnProperty(c)){var re=l[c];if(re!=null)switch(c){case"name":p=re;break;case"type":b=re;break;case"checked":P=re;break;case"defaultChecked":q=re;break;case"value":_=re;break;case"defaultValue":A=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:Ct(i,s,c,re,l,null)}}ro(i,_,A,P,q,b,p,!1),no(i);return;case"select":ot("invalid",i),c=b=_=null;for(p in l)if(l.hasOwnProperty(p)&&(A=l[p],A!=null))switch(p){case"value":_=A;break;case"defaultValue":b=A;break;case"multiple":c=A;default:Ct(i,s,p,A,l,null)}s=_,l=b,i.multiple=!!c,s!=null?gt(i,!!c,s,!1):l!=null&&gt(i,!!c,l,!0);return;case"textarea":ot("invalid",i),_=p=c=null;for(b in l)if(l.hasOwnProperty(b)&&(A=l[b],A!=null))switch(b){case"value":c=A;break;case"defaultValue":p=A;break;case"children":_=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:Ct(i,s,b,A,l,null)}Xs(i,c,p,_),no(i);return;case"option":for(P in l)if(l.hasOwnProperty(P)&&(c=l[P],c!=null))switch(P){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ct(i,s,P,c,l,null)}return;case"dialog":ot("cancel",i),ot("close",i);break;case"iframe":case"object":ot("load",i);break;case"video":case"audio":for(c=0;c<mc.length;c++)ot(mc[c],i);break;case"image":ot("error",i),ot("load",i);break;case"details":ot("toggle",i);break;case"embed":case"source":case"link":ot("error",i),ot("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in l)if(l.hasOwnProperty(q)&&(c=l[q],c!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ct(i,s,q,c,l,null)}return;default:if(Nu(s)){for(re in l)l.hasOwnProperty(re)&&(c=l[re],c!==void 0&&J_(i,s,re,c,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(c=l[A],c!=null&&Ct(i,s,A,c,l,null))}function $4(i,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,_=null,b=null,A=null,P=null,q=null,re=null;for(ne in l){var ue=l[ne];if(l.hasOwnProperty(ne)&&ue!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":P=ue;default:c.hasOwnProperty(ne)||Ct(i,s,ne,null,c,ue)}}for(var W in c){var ne=c[W];if(ue=l[W],c.hasOwnProperty(W)&&(ne!=null||ue!=null))switch(W){case"type":_=ne;break;case"name":p=ne;break;case"checked":q=ne;break;case"defaultChecked":re=ne;break;case"value":b=ne;break;case"defaultValue":A=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,s));break;default:ne!==ue&&Ct(i,s,W,ne,c,ue)}}Ys(i,b,A,P,q,re,_,p);return;case"select":ne=b=A=W=null;for(_ in l)if(P=l[_],l.hasOwnProperty(_)&&P!=null)switch(_){case"value":break;case"multiple":ne=P;default:c.hasOwnProperty(_)||Ct(i,s,_,null,c,P)}for(p in c)if(_=c[p],P=l[p],c.hasOwnProperty(p)&&(_!=null||P!=null))switch(p){case"value":W=_;break;case"defaultValue":A=_;break;case"multiple":b=_;default:_!==P&&Ct(i,s,p,_,c,P)}s=A,l=b,c=ne,W!=null?gt(i,!!l,W,!1):!!c!=!!l&&(s!=null?gt(i,!!l,s,!0):gt(i,!!l,l?[]:"",!1));return;case"textarea":ne=W=null;for(A in l)if(p=l[A],l.hasOwnProperty(A)&&p!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Ct(i,s,A,null,c,p)}for(b in c)if(p=c[b],_=l[b],c.hasOwnProperty(b)&&(p!=null||_!=null))switch(b){case"value":W=p;break;case"defaultValue":ne=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==_&&Ct(i,s,b,p,c,_)}io(i,W,ne);return;case"option":for(var De in l)if(W=l[De],l.hasOwnProperty(De)&&W!=null&&!c.hasOwnProperty(De))switch(De){case"selected":i.selected=!1;break;default:Ct(i,s,De,null,c,W)}for(P in c)if(W=c[P],ne=l[P],c.hasOwnProperty(P)&&W!==ne&&(W!=null||ne!=null))switch(P){case"selected":i.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:Ct(i,s,P,W,c,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in l)W=l[$e],l.hasOwnProperty($e)&&W!=null&&!c.hasOwnProperty($e)&&Ct(i,s,$e,null,c,W);for(q in c)if(W=c[q],ne=l[q],c.hasOwnProperty(q)&&W!==ne&&(W!=null||ne!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:Ct(i,s,q,W,c,ne)}return;default:if(Nu(s)){for(var Kt in l)W=l[Kt],l.hasOwnProperty(Kt)&&W!==void 0&&!c.hasOwnProperty(Kt)&&J_(i,s,Kt,void 0,c,W);for(re in c)W=c[re],ne=l[re],!c.hasOwnProperty(re)||W===ne||W===void 0&&ne===void 0||J_(i,s,re,W,c,ne);return}}for(var K in l)W=l[K],l.hasOwnProperty(K)&&W!=null&&!c.hasOwnProperty(K)&&Ct(i,s,K,null,c,W);for(ue in c)W=c[ue],ne=l[ue],!c.hasOwnProperty(ue)||W===ne||W==null&&ne==null||Ct(i,s,ue,W,c,ne)}var eg=null,tg=null;function Kf(i){return i.nodeType===9?i:i.ownerDocument}function ZE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function JE(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function ng(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var rg=null;function G4(){var i=window.event;return i&&i.type==="popstate"?i===rg?!1:(rg=i,!0):(rg=null,!1)}var eb=typeof setTimeout=="function"?setTimeout:void 0,K4=typeof clearTimeout=="function"?clearTimeout:void 0,tb=typeof Promise=="function"?Promise:void 0,Q4=typeof queueMicrotask=="function"?queueMicrotask:typeof tb<"u"?function(i){return tb.resolve(null).then(i).catch(Y4)}:eb;function Y4(i){setTimeout(function(){throw i})}function ig(i,s){var l=s,c=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(c===0){i.removeChild(p),Sc(s);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=p}while(l);Sc(s)}function sg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":sg(l),lr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function X4(i,s,l,c){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Kn])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==p.rel||i.getAttribute("href")!==(p.href==null?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var _=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=ti(i.nextSibling),i===null)break}return null}function W4(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=ti(i.nextSibling),i===null))return null;return i}function ti(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}function nb(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function rb(i,s,l){switch(s=Kf(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var Br=new Map,ib=new Set;function Qf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var As=Ee.d;Ee.d={f:Z4,r:J4,D:eO,C:tO,L:nO,m:rO,X:sO,S:iO,M:aO};function Z4(){var i=As.f(),s=Bf();return i||s}function J4(i){var s=en(i);s!==null&&s.tag===5&&s.type==="form"?x1(s):As.r(i)}var ql=typeof document>"u"?null:document;function sb(i,s,l){var c=ql;if(c&&typeof s=="string"&&s){var p=Ht(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),ib.has(p)||(ib.add(p),i={rel:i,crossOrigin:l,href:s},c.querySelector(p)===null&&(s=c.createElement("link"),Dn(s,"link",i),bt(s),c.head.appendChild(s)))}}function eO(i){As.D(i),sb("dns-prefetch",i,null)}function tO(i,s){As.C(i,s),sb("preconnect",i,s)}function nO(i,s,l){As.L(i,s,l);var c=ql;if(c&&i&&s){var p='link[rel="preload"][as="'+Ht(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Ht(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Ht(l.imageSizes)+'"]')):p+='[href="'+Ht(i)+'"]';var _=p;switch(s){case"style":_=Hl(i);break;case"script":_=$l(i)}Br.has(_)||(i=N({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Br.set(_,i),c.querySelector(p)!==null||s==="style"&&c.querySelector(gc(_))||s==="script"&&c.querySelector(vc(_))||(s=c.createElement("link"),Dn(s,"link",i),bt(s),c.head.appendChild(s)))}}function rO(i,s){As.m(i,s);var l=ql;if(l&&i){var c=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Ht(c)+'"][href="'+Ht(i)+'"]',_=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=$l(i)}if(!Br.has(_)&&(i=N({rel:"modulepreload",href:i},s),Br.set(_,i),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(vc(_)))return}c=l.createElement("link"),Dn(c,"link",i),bt(c),l.head.appendChild(c)}}}function iO(i,s,l){As.S(i,s,l);var c=ql;if(c&&i){var p=tr(c).hoistableStyles,_=Hl(i);s=s||"default";var b=p.get(_);if(!b){var A={loading:0,preload:null};if(b=c.querySelector(gc(_)))A.loading=5;else{i=N({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Br.get(_))&&ag(i,l);var P=b=c.createElement("link");bt(P),Dn(P,"link",i),P._p=new Promise(function(q,re){P.onload=q,P.onerror=re}),P.addEventListener("load",function(){A.loading|=1}),P.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Yf(b,s,c)}b={type:"stylesheet",instance:b,count:1,state:A},p.set(_,b)}}}function sO(i,s){As.X(i,s);var l=ql;if(l&&i){var c=tr(l).hoistableScripts,p=$l(i),_=c.get(p);_||(_=l.querySelector(vc(p)),_||(i=N({src:i,async:!0},s),(s=Br.get(p))&&og(i,s),_=l.createElement("script"),bt(_),Dn(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(p,_))}}function aO(i,s){As.M(i,s);var l=ql;if(l&&i){var c=tr(l).hoistableScripts,p=$l(i),_=c.get(p);_||(_=l.querySelector(vc(p)),_||(i=N({src:i,async:!0,type:"module"},s),(s=Br.get(p))&&og(i,s),_=l.createElement("script"),bt(_),Dn(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(p,_))}}function ab(i,s,l,c){var p=(p=Jt.current)?Qf(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Hl(l.href),l=tr(p).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Hl(l.href);var _=tr(p).hoistableStyles,b=_.get(i);if(b||(p=p.ownerDocument||p,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,b),(_=p.querySelector(gc(i)))&&!_._p&&(b.instance=_,b.state.loading=5),Br.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Br.set(i,l),_||oO(p,i,l,b.state))),s&&c===null)throw Error(r(528,""));return b}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=$l(l),l=tr(p).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Hl(i){return'href="'+Ht(i)+'"'}function gc(i){return'link[rel="stylesheet"]['+i+"]"}function ob(i){return N({},i,{"data-precedence":i.precedence,precedence:null})}function oO(i,s,l,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Dn(s,"link",l),bt(s),i.head.appendChild(s))}function $l(i){return'[src="'+Ht(i)+'"]'}function vc(i){return"script[async]"+i}function lb(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+Ht(l.href)+'"]');if(c)return s.instance=c,bt(c),c;var p=N({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),bt(c),Dn(c,"style",p),Yf(c,l.precedence,i),s.instance=c;case"stylesheet":p=Hl(l.href);var _=i.querySelector(gc(p));if(_)return s.state.loading|=4,s.instance=_,bt(_),_;c=ob(l),(p=Br.get(p))&&ag(c,p),_=(i.ownerDocument||i).createElement("link"),bt(_);var b=_;return b._p=new Promise(function(A,P){b.onload=A,b.onerror=P}),Dn(_,"link",c),s.state.loading|=4,Yf(_,l.precedence,i),s.instance=_;case"script":return _=$l(l.src),(p=i.querySelector(vc(_)))?(s.instance=p,bt(p),p):(c=l,(p=Br.get(_))&&(c=N({},l),og(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),bt(p),Dn(p,"link",c),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Yf(c,l.precedence,i));return s.instance}function Yf(i,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,_=p,b=0;b<c.length;b++){var A=c[b];if(A.dataset.precedence===s)_=A;else if(_!==p)break}_?_.parentNode.insertBefore(i,_.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function ag(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function og(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Xf=null;function ub(i,s,l){if(Xf===null){var c=new Map,p=Xf=new Map;p.set(l,c)}else p=Xf,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var _=l[p];if(!(_[Kn]||_[Se]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var b=_.getAttribute(s)||"";b=i+b;var A=c.get(b);A?A.push(_):c.set(b,[_])}}return c}function cb(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function lO(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function hb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var yc=null;function uO(){}function cO(i,s,l){if(yc===null)throw Error(r(475));var c=yc;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=Hl(l.href),_=i.querySelector(gc(p));if(_){i=_._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Wf.bind(c),i.then(c,c)),s.state.loading|=4,s.instance=_,bt(_);return}_=i.ownerDocument||i,l=ob(l),(p=Br.get(p))&&ag(l,p),_=_.createElement("link"),bt(_);var b=_;b._p=new Promise(function(A,P){b.onload=A,b.onerror=P}),Dn(_,"link",l),s.instance=_}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=Wf.bind(c),i.addEventListener("load",s),i.addEventListener("error",s))}}function hO(){if(yc===null)throw Error(r(475));var i=yc;return i.stylesheets&&i.count===0&&lg(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&lg(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Wf(){if(this.count--,this.count===0){if(this.stylesheets)lg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Zf=null;function lg(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Zf=new Map,s.forEach(fO,i),Zf=null,Wf.call(i))}function fO(i,s){if(!(s.state.loading&4)){var l=Zf.get(i);if(l)var c=l.get(null);else{l=new Map,Zf.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<p.length;_++){var b=p[_];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),c=b)}c&&l.set(null,c)}p=s.instance,b=p.getAttribute("data-precedence"),_=l.get(b)||c,_===c&&l.set(null,p),l.set(b,p),this.count++,c=Wf.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),_?_.parentNode.insertBefore(p,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var Ec={$$typeof:T,Provider:null,Consumer:null,_currentValue:Be,_currentValue2:Be,_threadCount:0};function dO(i,s,l,c,p,_,b,A){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Z(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Z(0),this.hiddenUpdates=Z(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=_,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function fb(i,s,l,c,p,_,b,A,P,q,re,ue){return i=new dO(i,s,l,b,A,P,q,ue),s=1,_===!0&&(s|=24),_=Ur(3,null,null,s),i.current=_,_.stateNode=i,s=Bm(),s.refCount++,i.pooledCache=s,s.refCount++,_.memoizedState={element:c,isDehydrated:l,cache:s},E_(_),i}function db(i){return i?(i=Tl,i):Tl}function pb(i,s,l,c,p,_){p=db(p),c.context===null?c.context=p:c.pendingContext=p,c=sa(s),c.payload={element:l},_=_===void 0?null:_,_!==null&&(c.callback=_),l=aa(i,c,s),l!==null&&(Wn(l,i,s),rc(l,i,s))}function mb(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function ug(i,s){mb(i,s),(i=i.alternate)&&mb(i,s)}function _b(i){if(i.tag===13){var s=Zs(i,67108864);s!==null&&Wn(s,i,67108864),ug(i,67108864)}}var Jf=!0;function pO(i,s,l,c){var p=C.T;C.T=null;var _=Ee.p;try{Ee.p=2,cg(i,s,l,c)}finally{Ee.p=_,C.T=p}}function mO(i,s,l,c){var p=C.T;C.T=null;var _=Ee.p;try{Ee.p=8,cg(i,s,l,c)}finally{Ee.p=_,C.T=p}}function cg(i,s,l,c){if(Jf){var p=hg(c);if(p===null)Z_(i,s,c,ed,l),vb(i,c);else if(gO(p,i,s,l,c))c.stopPropagation();else if(vb(i,c),s&4&&-1<_O.indexOf(i)){for(;p!==null;){var _=en(p);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var b=Ln(_.pendingLanes);if(b!==0){var A=_;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var P=1<<31-gn(b);A.entanglements[1]|=P,b&=~P}Di(_),(Bt&6)===0&&(Vf=mn()+500,pc(0))}}break;case 13:A=Zs(_,2),A!==null&&Wn(A,_,2),Bf(),ug(_,2)}if(_=hg(c),_===null&&Z_(i,s,c,ed,l),_===p)break;p=_}p!==null&&c.stopPropagation()}else Z_(i,s,c,null,l)}}function hg(i){return i=hl(i),fg(i)}var ed=null;function fg(i){if(ed=null,i=Xt(i),i!==null){var s=Re(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=Xe(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return ed=i,null}function gb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ar()){case At:return 2;case Yt:return 8;case or:case al:return 32;case er:return 268435456;default:return 32}default:return 32}}var dg=!1,da=null,pa=null,ma=null,bc=new Map,wc=new Map,_a=[],_O="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vb(i,s){switch(i){case"focusin":case"focusout":da=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":bc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(s.pointerId)}}function Tc(i,s,l,c,p,_){return i===null||i.nativeEvent!==_?(i={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:_,targetContainers:[p]},s!==null&&(s=en(s),s!==null&&_b(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function gO(i,s,l,c,p){switch(s){case"focusin":return da=Tc(da,i,s,l,c,p),!0;case"dragenter":return pa=Tc(pa,i,s,l,c,p),!0;case"mouseover":return ma=Tc(ma,i,s,l,c,p),!0;case"pointerover":var _=p.pointerId;return bc.set(_,Tc(bc.get(_)||null,i,s,l,c,p)),!0;case"gotpointercapture":return _=p.pointerId,wc.set(_,Tc(wc.get(_)||null,i,s,l,c,p)),!0}return!1}function yb(i){var s=Xt(i.target);if(s!==null){var l=Re(s);if(l!==null){if(s=l.tag,s===13){if(s=Xe(l),s!==null){i.blockedOn=s,ye(i.priority,function(){if(l.tag===13){var c=dr(),p=Zs(l,c);p!==null&&Wn(p,l,c),ug(l,c)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function td(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=hg(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);Or=c,l.target.dispatchEvent(c),Or=null}else return s=en(l),s!==null&&_b(s),i.blockedOn=l,!1;s.shift()}return!0}function Eb(i,s,l){td(i)&&l.delete(s)}function vO(){dg=!1,da!==null&&td(da)&&(da=null),pa!==null&&td(pa)&&(pa=null),ma!==null&&td(ma)&&(ma=null),bc.forEach(Eb),wc.forEach(Eb)}function nd(i,s){i.blockedOn===s&&(i.blockedOn=null,dg||(dg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,vO)))}var rd=null;function bb(i){rd!==i&&(rd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){rd===i&&(rd=null);for(var s=0;s<i.length;s+=3){var l=i[s],c=i[s+1],p=i[s+2];if(typeof c!="function"){if(fg(c||l)===null)continue;break}var _=en(l);_!==null&&(i.splice(s,3),s-=3,n_(_,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function Sc(i){function s(P){return nd(P,i)}da!==null&&nd(da,i),pa!==null&&nd(pa,i),ma!==null&&nd(ma,i),bc.forEach(s),wc.forEach(s);for(var l=0;l<_a.length;l++){var c=_a[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<_a.length&&(l=_a[0],l.blockedOn===null);)yb(l),l.blockedOn===null&&_a.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],_=l[c+1],b=p[ke]||null;if(typeof _=="function")b||bb(l);else if(b){var A=null;if(_&&_.hasAttribute("formAction")){if(p=_,b=_[ke]||null)A=b.formAction;else if(fg(p)!==null)continue}else A=b.action;typeof A=="function"?l[c+1]=A:(l.splice(c,3),c-=3),bb(l)}}}function pg(i){this._internalRoot=i}id.prototype.render=pg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,c=dr();pb(l,c,i,s,null,null)},id.prototype.unmount=pg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;i.tag===0&&Bl(),pb(i.current,2,null,i,null,null),Bf(),s[_t]=null}};function id(i){this._internalRoot=i}id.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ie();i={blockedOn:null,target:i,priority:s};for(var l=0;l<_a.length&&s!==0&&s<_a[l].priority;l++);_a.splice(l,0,i),l===0&&yb(i)}};var wb=e.version;if(wb!=="19.0.0")throw Error(r(527,wb,"19.0.0"));Ee.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=ce(s),i=i!==null?be(i):null,i=i===null?null:i.stateNode,i};var yO={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:C,findFiberByHostInstance:Xt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{Yr=sd.inject(yO),_n=sd}catch{}}return Rc.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,c="",p=j1,_=B1,b=z1,A=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=fb(i,1,!1,null,null,l,c,p,_,b,A,null),i[_t]=s.current,W_(i.nodeType===8?i.parentNode:i),new pg(s)},Rc.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var c=!1,p="",_=j1,b=B1,A=z1,P=null,q=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(P=l.unstable_transitionCallbacks),l.formState!==void 0&&(q=l.formState)),s=fb(i,1,!0,s,l??null,c,p,_,b,A,P,q),s.context=db(null),l=s.current,c=dr(),p=sa(c),p.callback=null,aa(l,p,c),s.current.lanes=c,ae(s,c),Di(s),i[_t]=s.current,W_(i),new id(s)},Rc.version="19.0.0",Rc}var Kb;function S9(){if(Kb)return Eg.exports;Kb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Eg.exports=T9(),Eg.exports}var A9=S9();const fv="/",qo="/cities",Qb={home:fv,cities:qo};var Cc={},Yb;function R9(){if(Yb)return Cc;Yb=1,Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.parse=u,Cc.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function u(w,T){const S=new o,M=w.length;if(M<2)return S;const I=(T==null?void 0:T.decode)||g;let U=0;do{const H=w.indexOf("=",U);if(H===-1)break;const X=w.indexOf(";",U),ie=X===-1?M:X;if(H>ie){U=w.lastIndexOf(";",H-1)+1;continue}const x=h(w,U,H),te=d(w,H,x),k=w.slice(x,te);if(S[k]===void 0){let O=h(w,H+1,ie),C=d(w,ie,O);const N=I(w.slice(O,C));S[k]=N}U=ie+1}while(U<M);return S}function h(w,T,S){do{const M=w.charCodeAt(T);if(M!==32&&M!==9)return T}while(++T<S);return S}function d(w,T,S){for(;T>S;){const M=w.charCodeAt(--T);if(M!==32&&M!==9)return T+1}return S}function m(w,T,S){const M=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const I=M(T);if(!e.test(I))throw new TypeError(`argument val is invalid: ${T}`);let U=w+"="+I;if(!S)return U;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);U+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);U+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);U+="; Path="+S.path}if(S.expires){if(!y(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);U+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(U+="; HttpOnly"),S.secure&&(U+="; Secure"),S.partitioned&&(U+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return U}function g(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function y(w){return a.call(w)==="[object Date]"}return Cc}R9();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var S2=t=>{throw TypeError(t)},C9=(t,e,n)=>e.has(t)||S2("Cannot "+n),Sg=(t,e,n)=>(C9(t,e,"read from private field"),n?n.call(t):e.get(t)),O9=(t,e,n)=>e.has(t)?S2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Xb="popstate";function I9(t={}){function e(a,o){let{pathname:u="/",search:h="",hash:d=""}=Fs(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),rh("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let u=a.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let d=a.location.href,m=d.indexOf("#");h=m===-1?d:d.slice(0,m)}return h+"#"+(typeof o=="string"?o:ka(o))}function r(a,o){An(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return x9(e,n,r,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function An(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function D9(){return Math.random().toString(36).substring(2,10)}function Wb(t,e){return{usr:t.state,key:t.key,idx:e}}function rh(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Fs(e):e,state:n,key:e&&e.key||r||D9()}}function ka({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Fs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function x9(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,h="POP",d=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function y(){h="POP";let I=g(),U=I==null?null:I-m;m=I,d&&d({action:h,location:M.location,delta:U})}function w(I,U){h="PUSH";let H=rh(M.location,I,U);n&&n(H,I),m=g()+1;let X=Wb(H,m),ie=M.createHref(H);try{u.pushState(X,"",ie)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;a.location.assign(ie)}o&&d&&d({action:h,location:M.location,delta:1})}function T(I,U){h="REPLACE";let H=rh(M.location,I,U);n&&n(H,I),m=g();let X=Wb(H,m),ie=M.createHref(H);u.replaceState(X,"",ie),o&&d&&d({action:h,location:M.location,delta:0})}function S(I){let U=a.location.origin!=="null"?a.location.origin:a.location.href,H=typeof I=="string"?I:ka(I);return H=H.replace(/ $/,"%20"),lt(U,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,U)}let M={get action(){return h},get location(){return t(a,u)},listen(I){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Xb,y),d=I,()=>{a.removeEventListener(Xb,y),d=null}},createHref(I){return e(a,I)},createURL:S,encodeLocation(I){let U=S(I);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:w,replace:T,go(I){return u.go(I)}};return M}var Uc,Zb=class{constructor(t){if(O9(this,Uc,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(Sg(this,Uc).has(t))return Sg(this,Uc).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Sg(this,Uc).set(t,e)}};Uc=new WeakMap;var N9=new Set(["lazy","caseSensitive","path","id","index","children"]);function P9(t){return t.index===!0}function tp(t,e,n=[],r={}){return t.map((a,o)=>{let u=[...n,String(o)],h=typeof a.id=="string"?a.id:u.join("-");if(lt(a.index!==!0||!a.children,"Cannot specify children on an index route"),lt(!r[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),P9(a)){let d={...a,...e(a),id:h};return r[h]=d,d}else{let d={...a,...e(a),id:h,children:void 0};return r[h]=d,a.children&&(d.children=tp(a.children,e,u,r)),d}})}function wa(t,e,n="/"){return Id(t,e,n,!1)}function Id(t,e,n,r){let a=typeof e=="string"?Fs(e):e,o=Kr(a.pathname||"/",n);if(o==null)return null;let u=A2(t);k9(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let m=G9(o);h=H9(u[d],m,r)}return h}function M9(t,e){let{route:n,pathname:r,params:a}=t;return{id:n.id,pathname:r,params:a,data:e[n.id],handle:n.handle}}function A2(t,e=[],n=[],r=""){let a=(o,u,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};d.relativePath.startsWith("/")&&(lt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let m=Ui([r,d.relativePath]),g=n.concat(d);o.children&&o.children.length>0&&(lt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),A2(o.children,e,g,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:F9(m,o.index),routesMeta:g})};return t.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))a(o,u);else for(let d of R2(o.path))a(o,u,d)}),e}function R2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=R2(r.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),a&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function k9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:q9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var L9=/^:[\w-]+$/,V9=3,U9=2,j9=1,B9=10,z9=-2,Jb=t=>t==="*";function F9(t,e){let n=t.split("/"),r=n.length;return n.some(Jb)&&(r+=z9),e&&(r+=U9),n.filter(a=>!Jb(a)).reduce((a,o)=>a+(L9.test(o)?V9:o===""?j9:B9),r)}function q9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function H9(t,e,n=!1){let{routesMeta:r}=t,a={},o="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],m=h===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",y=np({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},g),w=d.route;if(!y&&m&&n&&!r[r.length-1].route.index&&(y=np({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(a,y.params),u.push({params:a,pathname:Ui([o,y.pathname]),pathnameBase:Y9(Ui([o,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(o=Ui([o,y.pathnameBase]))}return u}function np(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$9(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:y},w)=>{if(g==="*"){let S=h[w]||"";u=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const T=h[w];return y&&!T?m[g]=void 0:m[g]=(T||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:t}}function $9(t,e=!1,n=!0){An(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function G9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return An(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Kr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function K9(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Fs(t):t;return{pathname:n?n.startsWith("/")?n:Q9(n,e):e,search:X9(r),hash:W9(a)}}function Q9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ag(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function C2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sy(t){let e=C2(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ay(t,e,n,r=!1){let a;typeof t=="string"?a=Fs(t):(a={...t},lt(!a.pathname||!a.pathname.includes("?"),Ag("?","pathname","search",a)),lt(!a.pathname||!a.pathname.includes("#"),Ag("#","pathname","hash",a)),lt(!a.search||!a.search.includes("#"),Ag("#","search","hash",a)));let o=t===""||a.pathname==="",u=o?"/":a.pathname,h;if(u==null)h=n;else{let y=e.length-1;if(!r&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),y-=1;a.pathname=w.join("/")}h=y>=0?e[y]:"/"}let d=K9(a,h),m=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||g)&&(d.pathname+="/"),d}var Ui=t=>t.join("/").replace(/\/\/+/g,"/"),Y9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),X9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,W9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,rp=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ih(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var O2=["POST","PUT","PATCH","DELETE"],Z9=new Set(O2),J9=["GET",...O2],eD=new Set(J9),tD=new Set([301,302,303,307,308]),nD=new Set([307,308]),Rg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},rD={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Oc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},oy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iD=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),I2="remix-router-transitions",D2=Symbol("ResetLoaderData");function sD(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";lt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.mapRouteProperties||iD,a={},o=tp(t.routes,r,void 0,a),u,h=t.basename||"/",d=t.dataStrategy||cD,m={unstable_middleware:!1,...t.future},g=null,y=new Set,w=null,T=null,S=null,M=t.hydrationData!=null,I=wa(o,t.history.location,h),U=!1,H=null;if(I==null&&!t.patchRoutesOnNavigation){let V=zr(404,{pathname:t.history.location.pathname}),{matches:G,route:Z}=hw(o);I=G,H={[Z.id]:V}}I&&!t.hydrationData&&Ln(I,o,t.history.location.pathname).active&&(I=null);let X;if(I)if(I.some(V=>V.route.lazy))X=!1;else if(!I.some(V=>V.route.loader))X=!0;else{let V=t.hydrationData?t.hydrationData.loaderData:null,G=t.hydrationData?t.hydrationData.errors:null;if(G){let Z=I.findIndex(ae=>G[ae.route.id]!==void 0);X=I.slice(0,Z+1).every(ae=>!pv(ae.route,V,G))}else X=I.every(Z=>!pv(Z.route,V,G))}else{X=!1,I=[];let V=Ln(null,o,t.history.location.pathname);V.active&&V.matches&&(U=!0,I=V.matches)}let ie,x={historyAction:t.history.action,location:t.history.location,matches:I,initialized:X,navigation:Rg,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||H,fetchers:new Map,blockers:new Map},te="POP",k=!1,O,C=!1,N=new Map,B=null,$=!1,L=!1,xt=new Set,je=new Map,de=0,Oe=-1,Re=new Map,Xe=new Set,j=new Map,ce=new Map,be=new Set,ge=new Map,Ee,Be=null;function Ge(){if(g=t.history.listen(({action:V,location:G,delta:Z})=>{if(Ee){Ee(),Ee=void 0;return}An(ge.size===0||Z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ae=gn({currentLocation:x.location,nextLocation:G,historyAction:V});if(ae&&Z!=null){let _e=new Promise(Ne=>{Ee=Ne});t.history.go(Z*-1),Gn(ae,{state:"blocked",location:G,proceed(){Gn(ae,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),_e.then(()=>t.history.go(Z))},reset(){let Ne=new Map(x.blockers);Ne.set(ae,Oc),et({blockers:Ne})}});return}return Jt(V,G)}),n){wD(e,N);let V=()=>TD(e,N);e.addEventListener("pagehide",V),B=()=>e.removeEventListener("pagehide",V)}return x.initialized||Jt("POP",x.location,{initialHydration:!0}),ie}function qt(){g&&g(),B&&B(),y.clear(),O&&O.abort(),x.fetchers.forEach((V,G)=>or(G)),x.blockers.forEach((V,G)=>Gs(G))}function ut(V){return y.add(V),()=>y.delete(V)}function et(V,G={}){x={...x,...V};let Z=[],ae=[];x.fetchers.forEach((_e,Ne)=>{_e.state==="idle"&&(be.has(Ne)?Z.push(Ne):ae.push(Ne))}),be.forEach(_e=>{!x.fetchers.has(_e)&&!je.has(_e)&&Z.push(_e)}),[...y].forEach(_e=>_e(x,{deletedFetchers:Z,viewTransitionOpts:G.viewTransitionOpts,flushSync:G.flushSync===!0})),Z.forEach(_e=>or(_e)),ae.forEach(_e=>x.fetchers.delete(_e))}function rt(V,G,{flushSync:Z}={}){var ye,Te;let ae=x.actionData!=null&&x.navigation.formMethod!=null&&ni(x.navigation.formMethod)&&x.navigation.state==="loading"&&((ye=V.state)==null?void 0:ye._isRedirect)!==!0,_e;G.actionData?Object.keys(G.actionData).length>0?_e=G.actionData:_e=null:ae?_e=x.actionData:_e=null;let Ne=G.loaderData?uw(x.loaderData,G.loaderData,G.matches||[],G.errors):x.loaderData,xe=x.blockers;xe.size>0&&(xe=new Map(xe),xe.forEach((Se,ke)=>xe.set(ke,Oc)));let Ce=k===!0||x.navigation.formMethod!=null&&ni(x.navigation.formMethod)&&((Te=V.state)==null?void 0:Te._isRedirect)!==!0;u&&(o=u,u=void 0),$||te==="POP"||(te==="PUSH"?t.history.push(V,V.state):te==="REPLACE"&&t.history.replace(V,V.state));let Ie;if(te==="POP"){let Se=N.get(x.location.pathname);Se&&Se.has(V.pathname)?Ie={currentLocation:x.location,nextLocation:V}:N.has(V.pathname)&&(Ie={currentLocation:V,nextLocation:x.location})}else if(C){let Se=N.get(x.location.pathname);Se?Se.add(V.pathname):(Se=new Set([V.pathname]),N.set(x.location.pathname,Se)),Ie={currentLocation:x.location,nextLocation:V}}et({...G,actionData:_e,loaderData:Ne,historyAction:te,location:V,initialized:!0,navigation:Rg,revalidation:"idle",restoreScrollPosition:Xr(V,G.matches||x.matches),preventScrollReset:Ce,blockers:xe},{viewTransitionOpts:Ie,flushSync:Z===!0}),te="POP",k=!1,C=!1,$=!1,L=!1,Be==null||Be.resolve(),Be=null}async function pn(V,G){if(typeof V=="number"){t.history.go(V);return}let Z=dv(x.location,x.matches,h,V,G==null?void 0:G.fromRouteId,G==null?void 0:G.relative),{path:ae,submission:_e,error:Ne}=ew(!1,Z,G),xe=x.location,Ce=rh(x.location,ae,G&&G.state);Ce={...Ce,...t.history.encodeLocation(Ce)};let Ie=G&&G.replace!=null?G.replace:void 0,ye="PUSH";Ie===!0?ye="REPLACE":Ie===!1||_e!=null&&ni(_e.formMethod)&&_e.formAction===x.location.pathname+x.location.search&&(ye="REPLACE");let Te=G&&"preventScrollReset"in G?G.preventScrollReset===!0:void 0,Se=(G&&G.flushSync)===!0,ke=gn({currentLocation:xe,nextLocation:Ce,historyAction:ye});if(ke){Gn(ke,{state:"blocked",location:Ce,proceed(){Gn(ke,{state:"proceeding",proceed:void 0,reset:void 0,location:Ce}),pn(V,G)},reset(){let _t=new Map(x.blockers);_t.set(ke,Oc),et({blockers:_t})}});return}await Jt(ye,Ce,{submission:_e,pendingError:Ne,preventScrollReset:Te,replace:G&&G.replace,enableViewTransition:G&&G.viewTransition,flushSync:Se})}function Qr(){Be||(Be=SD()),mn(),et({revalidation:"loading"});let V=Be.promise;return x.navigation.state==="submitting"?V:x.navigation.state==="idle"?(Jt(x.historyAction,x.location,{startUninterruptedRevalidation:!0}),V):(Jt(te||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation,enableViewTransition:C===!0}),V)}async function Jt(V,G,Z){O&&O.abort(),O=null,te=V,$=(Z&&Z.startUninterruptedRevalidation)===!0,Tr(x.location,x.matches),k=(Z&&Z.preventScrollReset)===!0,C=(Z&&Z.enableViewTransition)===!0;let ae=u||o,_e=Z&&Z.overrideNavigation,Ne=Z!=null&&Z.initialHydration&&x.matches&&x.matches.length>0&&!U?x.matches:wa(ae,G,h),xe=(Z&&Z.flushSync)===!0;if(Ne&&x.initialized&&!L&&gD(x.location,G)&&!(Z&&Z.submission&&ni(Z.submission.formMethod))){rt(G,{matches:Ne},{flushSync:xe});return}let Ce=Ln(Ne,ae,G.pathname);if(Ce.active&&Ce.matches&&(Ne=Ce.matches),!Ne){let{error:Ot,notFoundMatches:mt,route:Vt}=ns(G.pathname);rt(G,{matches:mt,loaderData:{},errors:{[Vt.id]:Ot}},{flushSync:xe});return}O=new AbortController;let Ie=Kl(t.history,G,O.signal,Z&&Z.submission),ye=new Zb(t.unstable_getContext?await t.unstable_getContext():void 0),Te;if(Z&&Z.pendingError)Te=[Mo(Ne).route.id,{type:"error",error:Z.pendingError}];else if(Z&&Z.submission&&ni(Z.submission.formMethod)){let Ot=await di(Ie,G,Z.submission,Ne,ye,Ce.active,{replace:Z.replace,flushSync:xe});if(Ot.shortCircuited)return;if(Ot.pendingActionResult){let[mt,Vt]=Ot.pendingActionResult;if(pr(Vt)&&ih(Vt.error)&&Vt.error.status===404){O=null,rt(G,{matches:Ot.matches,loaderData:{},errors:{[mt]:Vt.error}});return}}Ne=Ot.matches||Ne,Te=Ot.pendingActionResult,_e=Cg(G,Z.submission),xe=!1,Ce.active=!1,Ie=Kl(t.history,Ie.url,Ie.signal)}let{shortCircuited:Se,matches:ke,loaderData:_t,errors:Ut}=await pi(Ie,G,Ne,ye,Ce.active,_e,Z&&Z.submission,Z&&Z.fetcherSubmission,Z&&Z.replace,Z&&Z.initialHydration===!0,xe,Te);Se||(O=null,rt(G,{matches:ke||Ne,...cw(Te),loaderData:_t,errors:Ut}))}async function di(V,G,Z,ae,_e,Ne,xe={}){mn();let Ce=ED(G,Z);if(et({navigation:Ce},{flushSync:xe.flushSync===!0}),Ne){let Te=await Rn(ae,G.pathname,V.signal);if(Te.type==="aborted")return{shortCircuited:!0};if(Te.type==="error"){let Se=Mo(Te.partialMatches).route.id;return{matches:Te.partialMatches,pendingActionResult:[Se,{type:"error",error:Te.error}]}}else if(Te.matches)ae=Te.matches;else{let{notFoundMatches:Se,error:ke,route:_t}=ns(G.pathname);return{matches:Se,pendingActionResult:[_t.id,{type:"error",error:ke}]}}}let Ie,ye=jc(ae,G);if(!ye.route.action&&!ye.route.lazy)Ie={type:"error",error:zr(405,{method:V.method,pathname:G.pathname,routeId:ye.route.id})};else{let Te=await ts("action",V,[ye],ae,_e,null);if(Ie=Te[ye.route.id],!Ie){for(let Se of ae)if(Te[Se.route.id]){Ie=Te[Se.route.id];break}}if(V.signal.aborted)return{shortCircuited:!0}}if(ko(Ie)){let Te;return xe&&xe.replace!=null?Te=xe.replace:Te=aw(Ie.response.headers.get("Location"),new URL(V.url),h)===x.location.pathname+x.location.search,await Jn(V,Ie,!0,{submission:Z,replace:Te}),{shortCircuited:!0}}if(pr(Ie)){let Te=Mo(ae,ye.route.id);return(xe&&xe.replace)!==!0&&(te="PUSH"),{matches:ae,pendingActionResult:[Te.route.id,Ie]}}return{matches:ae,pendingActionResult:[ye.route.id,Ie]}}async function pi(V,G,Z,ae,_e,Ne,xe,Ce,Ie,ye,Te,Se){let ke=Ne||Cg(G,xe),_t=xe||Ce||dw(ke),Ut=!$&&!ye;if(_e){if(Ut){let wt=wr(Se);et({navigation:ke,...wt!==void 0?{actionData:wt}:{}},{flushSync:Te})}let We=await Rn(Z,G.pathname,V.signal);if(We.type==="aborted")return{shortCircuited:!0};if(We.type==="error"){let wt=Mo(We.partialMatches).route.id;return{matches:We.partialMatches,loaderData:{},errors:{[wt]:We.error}}}else if(We.matches)Z=We.matches;else{let{error:wt,notFoundMatches:vn,route:rs}=ns(G.pathname);return{matches:vn,loaderData:{},errors:{[rs.id]:wt}}}}let Ot=u||o,[mt,Vt]=nw(t.history,x,Z,_t,G,ye===!0,L,xt,be,j,Xe,Ot,h,Se);if(Oe=++de,mt.length===0&&Vt.length===0){let We=mi();return rt(G,{matches:Z,loaderData:{},errors:Se&&pr(Se[1])?{[Se[0]]:Se[1].error}:null,...cw(Se),...We?{fetchers:new Map(x.fetchers)}:{}},{flushSync:Te}),{shortCircuited:!0}}if(Ut){let We={};if(!_e){We.navigation=ke;let wt=wr(Se);wt!==void 0&&(We.actionData=wt)}Vt.length>0&&(We.fetchers=Ja(Vt)),et(We,{flushSync:Te})}Vt.forEach(We=>{er(We.key),We.controller&&je.set(We.key,We.controller)});let Kn=()=>Vt.forEach(We=>er(We.key));O&&O.signal.addEventListener("abort",Kn);let{loaderResults:lr,fetcherResults:Xt}=await $s(Z,mt,Vt,V,ae);if(V.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",Kn),Vt.forEach(We=>je.delete(We.key));let en=cd(lr);if(en)return await Jn(V,en.result,!0,{replace:Ie}),{shortCircuited:!0};if(en=cd(Xt),en)return Xe.add(en.key),await Jn(V,en.result,!0,{replace:Ie}),{shortCircuited:!0};let{loaderData:Sr,errors:tr}=lw(x,Z,lr,Se,Vt,Xt);ye&&x.errors&&(tr={...x.errors,...tr});let bt=mi(),gi=Yr(Oe),Wr=bt||gi||Vt.length>0;return{matches:Z,loaderData:Sr,errors:tr,...Wr?{fetchers:new Map(x.fetchers)}:{}}}function wr(V){if(V&&!pr(V[1]))return{[V[0]]:V[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function Ja(V){return V.forEach(G=>{let Z=x.fetchers.get(G.key),ae=Ic(void 0,Z?Z.data:void 0);x.fetchers.set(G.key,ae)}),new Map(x.fetchers)}async function qs(V,G,Z,ae){er(V);let _e=(ae&&ae.flushSync)===!0,Ne=u||o,xe=dv(x.location,x.matches,h,Z,G,ae==null?void 0:ae.relative),Ce=wa(Ne,xe,h),Ie=Ln(Ce,Ne,xe);if(Ie.active&&Ie.matches&&(Ce=Ie.matches),!Ce){At(V,G,zr(404,{pathname:xe}),{flushSync:_e});return}let{path:ye,submission:Te,error:Se}=ew(!0,xe,ae);if(Se){At(V,G,Se,{flushSync:_e});return}let ke=jc(Ce,ye),_t=new Zb(t.unstable_getContext?await t.unstable_getContext():void 0),Ut=(ae&&ae.preventScrollReset)===!0;if(Te&&ni(Te.formMethod)){await Hs(V,G,ye,ke,Ce,_t,Ie.active,_e,Ut,Te);return}j.set(V,{routeId:G,path:ye}),await es(V,G,ye,ke,Ce,_t,Ie.active,_e,Ut,Te)}async function Hs(V,G,Z,ae,_e,Ne,xe,Ce,Ie,ye){mn(),j.delete(V);function Te(Nt){if(!Nt.route.action&&!Nt.route.lazy){let Ar=zr(405,{method:ye.formMethod,pathname:Z,routeId:G});return At(V,G,Ar,{flushSync:Ce}),!0}return!1}if(!xe&&Te(ae))return;let Se=x.fetchers.get(V);ar(V,bD(ye,Se),{flushSync:Ce});let ke=new AbortController,_t=Kl(t.history,Z,ke.signal,ye);if(xe){let Nt=await Rn(_e,Z,_t.signal,V);if(Nt.type==="aborted")return;if(Nt.type==="error"){At(V,G,Nt.error,{flushSync:Ce});return}else if(Nt.matches){if(_e=Nt.matches,ae=jc(_e,Z),Te(ae))return}else{At(V,G,zr(404,{pathname:Z}),{flushSync:Ce});return}}je.set(V,ke);let Ut=de,mt=(await ts("action",_t,[ae],_e,Ne,V))[ae.route.id];if(_t.signal.aborted){je.get(V)===ke&&je.delete(V);return}if(be.has(V)){if(ko(mt)||pr(mt)){ar(V,ba(void 0));return}}else{if(ko(mt))if(je.delete(V),Oe>Ut){ar(V,ba(void 0));return}else return Xe.add(V),ar(V,Ic(ye)),Jn(_t,mt,!1,{fetcherSubmission:ye,preventScrollReset:Ie});if(pr(mt)){At(V,G,mt.error);return}}let Vt=x.navigation.location||x.location,Kn=Kl(t.history,Vt,ke.signal),lr=u||o,Xt=x.navigation.state!=="idle"?wa(lr,x.navigation.location,h):x.matches;lt(Xt,"Didn't find any matches after fetcher action");let en=++de;Re.set(V,en);let Sr=Ic(ye,mt.data);x.fetchers.set(V,Sr);let[tr,bt]=nw(t.history,x,Xt,ye,Vt,!1,L,xt,be,j,Xe,lr,h,[ae.route.id,mt]);bt.filter(Nt=>Nt.key!==V).forEach(Nt=>{let Ar=Nt.key,to=x.fetchers.get(Ar),vi=Ic(void 0,to?to.data:void 0);x.fetchers.set(Ar,vi),er(Ar),Nt.controller&&je.set(Ar,Nt.controller)}),et({fetchers:new Map(x.fetchers)});let gi=()=>bt.forEach(Nt=>er(Nt.key));ke.signal.addEventListener("abort",gi);let{loaderResults:Wr,fetcherResults:We}=await $s(Xt,tr,bt,Kn,Ne);if(ke.signal.aborted)return;ke.signal.removeEventListener("abort",gi),Re.delete(V),je.delete(V),bt.forEach(Nt=>je.delete(Nt.key));let wt=cd(Wr);if(wt)return Jn(Kn,wt.result,!1,{preventScrollReset:Ie});if(wt=cd(We),wt)return Xe.add(wt.key),Jn(Kn,wt.result,!1,{preventScrollReset:Ie});let{loaderData:vn,errors:rs}=lw(x,Xt,Wr,void 0,bt,We);if(x.fetchers.has(V)){let Nt=ba(mt.data);x.fetchers.set(V,Nt)}Yr(en),x.navigation.state==="loading"&&en>Oe?(lt(te,"Expected pending action"),O&&O.abort(),rt(x.navigation.location,{matches:Xt,loaderData:vn,errors:rs,fetchers:new Map(x.fetchers)})):(et({errors:rs,loaderData:uw(x.loaderData,vn,Xt,rs),fetchers:new Map(x.fetchers)}),L=!1)}async function es(V,G,Z,ae,_e,Ne,xe,Ce,Ie,ye){let Te=x.fetchers.get(V);ar(V,Ic(ye,Te?Te.data:void 0),{flushSync:Ce});let Se=new AbortController,ke=Kl(t.history,Z,Se.signal);if(xe){let mt=await Rn(_e,Z,ke.signal,V);if(mt.type==="aborted")return;if(mt.type==="error"){At(V,G,mt.error,{flushSync:Ce});return}else if(mt.matches)_e=mt.matches,ae=jc(_e,Z);else{At(V,G,zr(404,{pathname:Z}),{flushSync:Ce});return}}je.set(V,Se);let _t=de,Ot=(await ts("loader",ke,[ae],_e,Ne,V))[ae.route.id];if(je.get(V)===Se&&je.delete(V),!ke.signal.aborted){if(be.has(V)){ar(V,ba(void 0));return}if(ko(Ot))if(Oe>_t){ar(V,ba(void 0));return}else{Xe.add(V),await Jn(ke,Ot,!1,{preventScrollReset:Ie});return}if(pr(Ot)){At(V,G,Ot.error);return}ar(V,ba(Ot.data))}}async function Jn(V,G,Z,{submission:ae,fetcherSubmission:_e,preventScrollReset:Ne,replace:xe}={}){G.response.headers.has("X-Remix-Revalidate")&&(L=!0);let Ce=G.response.headers.get("Location");lt(Ce,"Expected a Location header on the redirect Response"),Ce=aw(Ce,new URL(V.url),h);let Ie=rh(x.location,Ce,{_isRedirect:!0});if(n){let Ut=!1;if(G.response.headers.has("X-Remix-Reload-Document"))Ut=!0;else if(oy.test(Ce)){const Ot=t.history.createURL(Ce);Ut=Ot.origin!==e.location.origin||Kr(Ot.pathname,h)==null}if(Ut){xe?e.location.replace(Ce):e.location.assign(Ce);return}}O=null;let ye=xe===!0||G.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Te,formAction:Se,formEncType:ke}=x.navigation;!ae&&!_e&&Te&&Se&&ke&&(ae=dw(x.navigation));let _t=ae||_e;if(nD.has(G.response.status)&&_t&&ni(_t.formMethod))await Jt(ye,Ie,{submission:{..._t,formAction:Ce},preventScrollReset:Ne||k,enableViewTransition:Z?C:void 0});else{let Ut=Cg(Ie,ae);await Jt(ye,Ie,{overrideNavigation:Ut,fetcherSubmission:_e,preventScrollReset:Ne||k,enableViewTransition:Z?C:void 0})}}async function ts(V,G,Z,ae,_e,Ne){let xe,Ce={};try{xe=await fD(d,V,G,Z,ae,Ne,a,r,_e,m.unstable_middleware)}catch(Ie){return Z.forEach(ye=>{Ce[ye.route.id]={type:"error",error:Ie}}),Ce}for(let[Ie,ye]of Object.entries(xe))if(vD(ye)){let Te=ye.result;Ce[Ie]={type:"redirect",response:mD(Te,G,Ie,ae,h)}}else Ce[Ie]=await pD(ye);return Ce}async function $s(V,G,Z,ae,_e){let Ne=ts("loader",ae,G,V,_e,null),xe=Promise.all(Z.map(async ye=>{if(ye.matches&&ye.match&&ye.controller){let Se=(await ts("loader",Kl(t.history,ye.path,ye.controller.signal),[ye.match],ye.matches,_e,ye.key))[ye.match.route.id];return{[ye.key]:Se}}else return Promise.resolve({[ye.key]:{type:"error",error:zr(404,{pathname:ye.path})}})})),Ce=await Ne,Ie=(await xe).reduce((ye,Te)=>Object.assign(ye,Te),{});return{loaderResults:Ce,fetcherResults:Ie}}function mn(){L=!0,j.forEach((V,G)=>{je.has(G)&&xt.add(G),er(G)})}function ar(V,G,Z={}){x.fetchers.set(V,G),et({fetchers:new Map(x.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function At(V,G,Z,ae={}){let _e=Mo(x.matches,G);or(V),et({errors:{[_e.route.id]:Z},fetchers:new Map(x.fetchers)},{flushSync:(ae&&ae.flushSync)===!0})}function Yt(V){return ce.set(V,(ce.get(V)||0)+1),be.has(V)&&be.delete(V),x.fetchers.get(V)||rD}function or(V){let G=x.fetchers.get(V);je.has(V)&&!(G&&G.state==="loading"&&Re.has(V))&&er(V),j.delete(V),Re.delete(V),Xe.delete(V),be.delete(V),xt.delete(V),x.fetchers.delete(V)}function al(V){let G=(ce.get(V)||0)-1;G<=0?(ce.delete(V),be.add(V)):ce.set(V,G),et({fetchers:new Map(x.fetchers)})}function er(V){let G=je.get(V);G&&(G.abort(),je.delete(V))}function ol(V){for(let G of V){let Z=Yt(G),ae=ba(Z.data);x.fetchers.set(G,ae)}}function mi(){let V=[],G=!1;for(let Z of Xe){let ae=x.fetchers.get(Z);lt(ae,`Expected fetcher: ${Z}`),ae.state==="loading"&&(Xe.delete(Z),V.push(Z),G=!0)}return ol(V),G}function Yr(V){let G=[];for(let[Z,ae]of Re)if(ae<V){let _e=x.fetchers.get(Z);lt(_e,`Expected fetcher: ${Z}`),_e.state==="loading"&&(er(Z),Re.delete(Z),G.push(Z))}return ol(G),G.length>0}function _n(V,G){let Z=x.blockers.get(V)||Oc;return ge.get(V)!==G&&ge.set(V,G),Z}function Gs(V){x.blockers.delete(V),ge.delete(V)}function Gn(V,G){let Z=x.blockers.get(V)||Oc;lt(Z.state==="unblocked"&&G.state==="blocked"||Z.state==="blocked"&&G.state==="blocked"||Z.state==="blocked"&&G.state==="proceeding"||Z.state==="blocked"&&G.state==="unblocked"||Z.state==="proceeding"&&G.state==="unblocked",`Invalid blocker state transition: ${Z.state} -> ${G.state}`);let ae=new Map(x.blockers);ae.set(V,G),et({blockers:ae})}function gn({currentLocation:V,nextLocation:G,historyAction:Z}){if(ge.size===0)return;ge.size>1&&An(!1,"A router only supports one blocker at a time");let ae=Array.from(ge.entries()),[_e,Ne]=ae[ae.length-1],xe=x.blockers.get(_e);if(!(xe&&xe.state==="proceeding")&&Ne({currentLocation:V,nextLocation:G,historyAction:Z}))return _e}function ns(V){let G=zr(404,{pathname:V}),Z=u||o,{matches:ae,route:_e}=hw(Z);return{notFoundMatches:ae,route:_e,error:G}}function ll(V,G,Z){if(w=V,S=G,T=Z||null,!M&&x.navigation===Rg){M=!0;let ae=Xr(x.location,x.matches);ae!=null&&et({restoreScrollPosition:ae})}return()=>{w=null,S=null,T=null}}function eo(V,G){return T&&T(V,G.map(ae=>M9(ae,x.loaderData)))||V.key}function Tr(V,G){if(w&&S){let Z=eo(V,G);w[Z]=S()}}function Xr(V,G){if(w){let Z=eo(V,G),ae=w[Z];if(typeof ae=="number")return ae}return null}function Ln(V,G,Z){if(t.patchRoutesOnNavigation)if(V){if(Object.keys(V[0].params).length>0)return{active:!0,matches:Id(G,Z,h,!0)}}else return{active:!0,matches:Id(G,Z,h,!0)||[]};return{active:!1,matches:null}}async function Rn(V,G,Z,ae){if(!t.patchRoutesOnNavigation)return{type:"success",matches:V};let _e=V;for(;;){let Ne=u==null,xe=u||o,Ce=a;try{await t.patchRoutesOnNavigation({signal:Z,path:G,matches:_e,fetcherKey:ae,patch:(Te,Se)=>{Z.aborted||iw(Te,Se,xe,Ce,r)}})}catch(Te){return{type:"error",error:Te,partialMatches:_e}}finally{Ne&&!Z.aborted&&(o=[...o])}if(Z.aborted)return{type:"aborted"};let Ie=wa(xe,G,h);if(Ie)return{type:"success",matches:Ie};let ye=Id(xe,G,h,!0);if(!ye||_e.length===ye.length&&_e.every((Te,Se)=>Te.route.id===ye[Se].route.id))return{type:"success",matches:null};_e=ye}}function _i(V){a={},u=tp(V,r,void 0,a)}function Ks(V,G){let Z=u==null;iw(V,G,u||o,a,r),Z&&(o=[...o],et({}))}return ie={get basename(){return h},get future(){return m},get state(){return x},get routes(){return o},get window(){return e},initialize:Ge,subscribe:ut,enableScrollRestoration:ll,navigate:pn,fetch:qs,revalidate:Qr,createHref:V=>t.history.createHref(V),encodeLocation:V=>t.history.encodeLocation(V),getFetcher:Yt,deleteFetcher:al,dispose:qt,getBlocker:_n,deleteBlocker:Gs,patchRoutes:Ks,_internalFetchControllers:je,_internalSetRoutes:_i},ie}function aD(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function dv(t,e,n,r,a,o){let u,h;if(a){u=[];for(let m of e)if(u.push(m),m.route.id===a){h=m;break}}else u=e,h=e[e.length-1];let d=ay(r||".",sy(u),Kr(t.pathname,n)||t.pathname,o==="path");if(r==null&&(d.search=t.search,d.hash=t.hash),(r==null||r===""||r===".")&&h){let m=ly(d.search);if(h.route.index&&!m)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&m){let g=new URLSearchParams(d.search),y=g.getAll("index");g.delete("index"),y.filter(T=>T).forEach(T=>g.append("index",T));let w=g.toString();d.search=w?`?${w}`:""}}return n!=="/"&&(d.pathname=d.pathname==="/"?n:Ui([n,d.pathname])),ka(d)}function ew(t,e,n){if(!n||!aD(n))return{path:e};if(n.formMethod&&!yD(n.formMethod))return{path:e,error:zr(405,{method:n.formMethod})};let r=()=>({path:e,error:zr(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),u=P2(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!ni(o))return r();let y=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((w,[T,S])=>`${w}${T}=${S}
`,""):String(n.body);return{path:e,submission:{formMethod:o,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:y}}}else if(n.formEncType==="application/json"){if(!ni(o))return r();try{let y=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:o,formAction:u,formEncType:n.formEncType,formData:void 0,json:y,text:void 0}}}catch{return r()}}}lt(typeof FormData=="function","FormData is not available in this environment");let h,d;if(n.formData)h=mv(n.formData),d=n.formData;else if(n.body instanceof FormData)h=mv(n.body),d=n.body;else if(n.body instanceof URLSearchParams)h=n.body,d=ow(h);else if(n.body==null)h=new URLSearchParams,d=new FormData;else try{h=new URLSearchParams(n.body),d=ow(h)}catch{return r()}let m={formMethod:o,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(ni(m.formMethod))return{path:e,submission:m};let g=Fs(e);return t&&g.search&&ly(g.search)&&h.append("index",""),g.search=`?${h}`,{path:ka(g),submission:m}}function tw(t,e,n=!1){let r=t.findIndex(a=>a.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function nw(t,e,n,r,a,o,u,h,d,m,g,y,w,T){let S=T?pr(T[1])?T[1].error:T[1].data:void 0,M=t.createURL(e.location),I=t.createURL(a),U=n;o&&e.errors?U=tw(n,Object.keys(e.errors)[0],!0):T&&pr(T[1])&&(U=tw(n,T[0]));let H=T?T[1].statusCode:void 0,X=H&&H>=400,ie=U.filter((te,k)=>{let{route:O}=te;if(O.lazy)return!0;if(O.loader==null)return!1;if(o)return pv(O,e.loaderData,e.errors);if(oD(e.loaderData,e.matches[k],te))return!0;let C=e.matches[k],N=te;return rw(te,{currentUrl:M,currentParams:C.params,nextUrl:I,nextParams:N.params,...r,actionResult:S,actionStatus:H,defaultShouldRevalidate:X?!1:u||M.pathname+M.search===I.pathname+I.search||M.search!==I.search||lD(C,N)})}),x=[];return m.forEach((te,k)=>{if(o||!n.some($=>$.route.id===te.routeId)||d.has(k))return;let O=wa(y,te.path,w);if(!O){x.push({key:k,routeId:te.routeId,path:te.path,matches:null,match:null,controller:null});return}let C=e.fetchers.get(k),N=jc(O,te.path),B=!1;g.has(k)?B=!1:h.has(k)?(h.delete(k),B=!0):C&&C.state!=="idle"&&C.data===void 0?B=u:B=rw(N,{currentUrl:M,currentParams:e.matches[e.matches.length-1].params,nextUrl:I,nextParams:n[n.length-1].params,...r,actionResult:S,actionStatus:H,defaultShouldRevalidate:X?!1:u}),B&&x.push({key:k,routeId:te.routeId,path:te.path,matches:O,match:N,controller:new AbortController})}),[ie,x]}function pv(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,a=n!=null&&n[t.id]!==void 0;return!r&&a?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!a}function oD(t,e,n){let r=!e||n.route.id!==e.route.id,a=!t.hasOwnProperty(n.route.id);return r||a}function lD(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function rw(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function iw(t,e,n,r,a){let o;if(t){let d=r[t];lt(d,`No route found to patch children into: routeId = ${t}`),d.children||(d.children=[]),o=d.children}else o=n;let u=e.filter(d=>!o.some(m=>x2(d,m))),h=tp(u,a,[t||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...h)}function x2(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var a;return(a=e.children)==null?void 0:a.some(o=>x2(n,o))}):!1}async function uD(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let a=n[t.id];lt(a,"No route found in manifest");let o={};for(let u in r){let d=a[u]!==void 0&&u!=="hasErrorBoundary";An(!d,`Route "${a.id}" has a static property "${u}" defined but its lazy function is also returning a value for this property. The lazy route property "${u}" will be ignored.`),!d&&!N9.has(u)&&(o[u]=r[u])}Object.assign(a,o),Object.assign(a,{...e(a),lazy:void 0})}async function sw(t){let e=t.matches.filter(a=>a.shouldLoad),n={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,o)=>{n[e[o].route.id]=a}),n}async function cD(t){return t.matches.some(e=>e.route.unstable_middleware)?hD(t,!1,()=>sw(t),(e,n)=>({[n]:{type:"error",result:e}})):sw(t)}async function hD(t,e,n,r){let{matches:a,request:o,params:u,context:h}=t,d={handlerResult:void 0};try{let m=a.flatMap(y=>y.route.unstable_middleware?y.route.unstable_middleware.map(w=>[y.route.id,w]):[]),g=await N2({request:o,params:u,context:h},m,e,d,n);return e?g:d.handlerResult}catch(m){if(!d.middlewareError)throw m;let g=await r(d.middlewareError.error,d.middlewareError.routeId);return d.handlerResult?Object.assign(d.handlerResult,g):g}}async function N2(t,e,n,r,a,o=0){let{request:u}=t;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let h=e[o];if(!h)return r.handlerResult=await a(),r.handlerResult;let[d,m]=h,g=!1,y,w=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");g=!0,await N2(t,e,n,r,a,o+1)};try{let T=await m({request:t.request,params:t.params,context:t.context},w);return g?T===void 0?y:T:w()}catch(T){throw r.middlewareError?r.middlewareError.error!==T&&(r.middlewareError={routeId:d,error:T}):r.middlewareError={routeId:d,error:T},T}}async function fD(t,e,n,r,a,o,u,h,d,m){let g=a.map(T=>T.route.lazy?uD(T.route,h,u):void 0);m&&await Promise.all(g);let y=a.map((T,S)=>{let M=g[S],I=r.some(H=>H.route.id===T.route.id);return{...T,shouldLoad:I,resolve:async H=>(H&&n.method==="GET"&&(T.route.lazy||T.route.loader)&&(I=!0),I?dD(e,n,T,M,H,d):Promise.resolve({type:"data",result:void 0}))}}),w=await t({matches:y,request:n,params:a[0].params,fetcherKey:o,context:d});try{await Promise.all(g)}catch{}return w}async function dD(t,e,n,r,a,o){let u,h,d=m=>{let g,y=new Promise((S,M)=>g=M);h=()=>g(),e.signal.addEventListener("abort",h);let w=S=>typeof m!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${t}" [routeId: ${n.route.id}]`)):m({request:e,params:n.params,context:o},...S!==void 0?[S]:[]),T=(async()=>{try{return{type:"data",result:await(a?a(M=>w(M)):w())}}catch(S){return{type:"error",result:S}}})();return Promise.race([T,y])};try{let m=n.route[t];if(r)if(m){let g,[y]=await Promise.all([d(m).catch(w=>{g=w}),r]);if(g!==void 0)throw g;u=y}else if(await r,m=n.route[t],m)u=await d(m);else if(t==="action"){let g=new URL(e.url),y=g.pathname+g.search;throw zr(405,{method:e.method,pathname:y,routeId:n.route.id})}else return{type:"data",result:void 0};else if(m)u=await d(m);else{let g=new URL(e.url),y=g.pathname+g.search;throw zr(404,{pathname:y})}}catch(m){return{type:"error",result:m}}finally{h&&e.signal.removeEventListener("abort",h)}return u}async function pD(t){var r,a,o,u,h,d;let{result:e,type:n}=t;if(M2(e)){let m;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?m=null:m=await e.json():m=await e.text()}catch(g){return{type:"error",error:g}}return n==="error"?{type:"error",error:new rp(e.status,e.statusText,m),statusCode:e.status,headers:e.headers}:{type:"data",data:m,statusCode:e.status,headers:e.headers}}return n==="error"?fw(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new rp(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:ih(e)?e.status:void 0,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:ih(e)?e.status:void 0}:fw(e)?{type:"data",data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(d=e.init)!=null&&d.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function mD(t,e,n,r,a){let o=t.headers.get("Location");if(lt(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!oy.test(o)){let u=r.slice(0,r.findIndex(h=>h.route.id===n)+1);o=dv(new URL(e.url),u,a,o),t.headers.set("Location",o)}return t}function aw(t,e,n){if(oy.test(t)){let r=t,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=Kr(a.pathname,n)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}return t}function Kl(t,e,n,r){let a=t.createURL(P2(e)).toString(),o={signal:n};if(r&&ni(r.formMethod)){let{formMethod:u,formEncType:h}=r;o.method=u.toUpperCase(),h==="application/json"?(o.headers=new Headers({"Content-Type":h}),o.body=JSON.stringify(r.json)):h==="text/plain"?o.body=r.text:h==="application/x-www-form-urlencoded"&&r.formData?o.body=mv(r.formData):o.body=r.formData}return new Request(a,o)}function mv(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function ow(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function _D(t,e,n,r=!1,a=!1){let o={},u=null,h,d=!1,m={},g=n&&pr(n[1])?n[1].error:void 0;return t.forEach(y=>{if(!(y.route.id in e))return;let w=y.route.id,T=e[w];if(lt(!ko(T),"Cannot handle redirect results in processLoaderData"),pr(T)){let S=T.error;if(g!==void 0&&(S=g,g=void 0),u=u||{},a)u[w]=S;else{let M=Mo(t,w);u[M.route.id]==null&&(u[M.route.id]=S)}r||(o[w]=D2),d||(d=!0,h=ih(T.error)?T.error.status:500),T.headers&&(m[w]=T.headers)}else o[w]=T.data,T.statusCode&&T.statusCode!==200&&!d&&(h=T.statusCode),T.headers&&(m[w]=T.headers)}),g!==void 0&&n&&(u={[n[0]]:g},o[n[0]]=void 0),{loaderData:o,errors:u,statusCode:h||200,loaderHeaders:m}}function lw(t,e,n,r,a,o){let{loaderData:u,errors:h}=_D(e,n,r);return a.forEach(d=>{let{key:m,match:g,controller:y}=d,w=o[m];if(lt(w,"Did not find corresponding fetcher result"),!(y&&y.signal.aborted))if(pr(w)){let T=Mo(t.matches,g==null?void 0:g.route.id);h&&h[T.route.id]||(h={...h,[T.route.id]:w.error}),t.fetchers.delete(m)}else if(ko(w))lt(!1,"Unhandled fetcher revalidation redirect");else{let T=ba(w.data);t.fetchers.set(m,T)}}),{loaderData:u,errors:h}}function uw(t,e,n,r){let a=Object.entries(e).filter(([,o])=>o!==D2).reduce((o,[u,h])=>(o[u]=h,o),{});for(let o of n){let u=o.route.id;if(!e.hasOwnProperty(u)&&t.hasOwnProperty(u)&&o.route.loader&&(a[u]=t[u]),r&&r.hasOwnProperty(u))break}return a}function cw(t){return t?pr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Mo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function hw(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function zr(t,{pathname:e,routeId:n,method:r,type:a,message:o}={}){let u="Unknown Server Error",h="Unknown @remix-run/router error";return t===400?(u="Bad Request",r&&e&&n?h=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(h="Unable to encode submission body")):t===403?(u="Forbidden",h=`Route "${n}" does not match URL "${e}"`):t===404?(u="Not Found",h=`No route matches URL "${e}"`):t===405&&(u="Method Not Allowed",r&&e&&n?h=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(h=`Invalid request method "${r.toUpperCase()}"`)),new rp(t||500,u,new Error(h),!0)}function cd(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,a]=e[n];if(ko(a))return{key:r,result:a}}}function P2(t){let e=typeof t=="string"?Fs(t):t;return ka({...e,hash:""})}function gD(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function vD(t){return M2(t.result)&&tD.has(t.result.status)}function pr(t){return t.type==="error"}function ko(t){return(t&&t.type)==="redirect"}function fw(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function M2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function yD(t){return eD.has(t.toUpperCase())}function ni(t){return Z9.has(t.toUpperCase())}function ly(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function jc(t,e){let n=typeof e=="string"?Fs(e).search:e.search;if(t[t.length-1].route.index&&ly(n||""))return t[t.length-1];let r=C2(t);return r[r.length-1]}function dw(t){let{formMethod:e,formAction:n,formEncType:r,text:a,formData:o,json:u}=t;if(!(!e||!n||!r)){if(a!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:u,text:void 0}}}function Cg(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ED(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ic(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function bD(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ba(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function wD(t,e){try{let n=t.sessionStorage.getItem(I2);if(n){let r=JSON.parse(n);for(let[a,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(a,new Set(o||[]))}}catch{}}function TD(t,e){if(e.size>0){let n={};for(let[r,a]of e)n[r]=[...a];try{t.sessionStorage.setItem(I2,JSON.stringify(n))}catch(r){An(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function SD(){let t,e,n=new Promise((r,a)=>{t=async o=>{r(o);try{await n}catch{}},e=async o=>{a(o);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var el=F.createContext(null);el.displayName="DataRouter";var Oh=F.createContext(null);Oh.displayName="DataRouterState";var uy=F.createContext({isTransitioning:!1});uy.displayName="ViewTransition";var k2=F.createContext(new Map);k2.displayName="Fetchers";var AD=F.createContext(null);AD.displayName="Await";var Xi=F.createContext(null);Xi.displayName="Navigation";var Lp=F.createContext(null);Lp.displayName="Location";var Wi=F.createContext({outlet:null,matches:[],isDataRoute:!1});Wi.displayName="Route";var cy=F.createContext(null);cy.displayName="RouteError";function RD(t,{relative:e}={}){lt(Ih(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=F.useContext(Xi),{hash:a,pathname:o,search:u}=Dh(t,{relative:e}),h=o;return n!=="/"&&(h=o==="/"?n:Ui([n,o])),r.createHref({pathname:h,search:u,hash:a})}function Ih(){return F.useContext(Lp)!=null}function Qa(){return lt(Ih(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Lp).location}var L2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function V2(t){F.useContext(Xi).static||F.useLayoutEffect(t)}function Vp(){let{isDataRoute:t}=F.useContext(Wi);return t?BD():CD()}function CD(){lt(Ih(),"useNavigate() may be used only in the context of a <Router> component.");let t=F.useContext(el),{basename:e,navigator:n}=F.useContext(Xi),{matches:r}=F.useContext(Wi),{pathname:a}=Qa(),o=JSON.stringify(sy(r)),u=F.useRef(!1);return V2(()=>{u.current=!0}),F.useCallback((d,m={})=>{if(An(u.current,L2),!u.current)return;if(typeof d=="number"){n.go(d);return}let g=ay(d,JSON.parse(o),a,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ui([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,o,a,t])}F.createContext(null);function OD(){let{matches:t}=F.useContext(Wi),e=t[t.length-1];return e?e.params:{}}function Dh(t,{relative:e}={}){let{matches:n}=F.useContext(Wi),{pathname:r}=Qa(),a=JSON.stringify(sy(n));return F.useMemo(()=>ay(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function ID(t,e,n,r){lt(Ih(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=F.useContext(Xi),{matches:u}=F.useContext(Wi),h=u[u.length-1],d=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",y=h&&h.route;{let H=y&&y.path||"";U2(m,!y||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let w=Qa(),T;T=w;let S=T.pathname||"/",M=S;if(g!=="/"){let H=g.replace(/^\//,"").split("/");M="/"+S.replace(/^\//,"").split("/").slice(H.length).join("/")}let I=!o&&n&&n.matches&&n.matches.length>0?n.matches:wa(t,{pathname:M});return An(y||I!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),An(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),MD(I&&I.map(H=>Object.assign({},H,{params:Object.assign({},d,H.params),pathname:Ui([g,a.encodeLocation?a.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?g:Ui([g,a.encodeLocation?a.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),u,n,r)}function DD(){let t=jD(),e=ih(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:o},"ErrorBoundary")," or"," ",F.createElement("code",{style:o},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:a},n):null,u)}var xD=F.createElement(DD,null),ND=class extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?F.createElement(Wi.Provider,{value:this.props.routeContext},F.createElement(cy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function PD({routeContext:t,match:e,children:n}){let r=F.useContext(el);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Wi.Provider,{value:t},n)}function MD(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=n==null?void 0:n.errors;if(o!=null){let d=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);lt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,h=-1;if(n)for(let d=0;d<a.length;d++){let m=a[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:g,errors:y}=n,w=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||w){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,m,g)=>{let y,w=!1,T=null,S=null;n&&(y=o&&m.route.id?o[m.route.id]:void 0,T=m.route.errorElement||xD,u&&(h<0&&g===0?(U2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):h===g&&(w=!0,S=m.route.hydrateFallbackElement||null)));let M=e.concat(a.slice(0,g+1)),I=()=>{let U;return y?U=T:w?U=S:m.route.Component?U=F.createElement(m.route.Component,null):m.route.element?U=m.route.element:U=d,F.createElement(PD,{match:m,routeContext:{outlet:d,matches:M,isDataRoute:n!=null},children:U})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?F.createElement(ND,{location:n.location,revalidation:n.revalidation,component:T,error:y,children:I(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):I()},null)}function hy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kD(t){let e=F.useContext(el);return lt(e,hy(t)),e}function LD(t){let e=F.useContext(Oh);return lt(e,hy(t)),e}function VD(t){let e=F.useContext(Wi);return lt(e,hy(t)),e}function fy(t){let e=VD(t),n=e.matches[e.matches.length-1];return lt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function UD(){return fy("useRouteId")}function jD(){var r;let t=F.useContext(cy),e=LD("useRouteError"),n=fy("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function BD(){let{router:t}=kD("useNavigate"),e=fy("useNavigate"),n=F.useRef(!1);return V2(()=>{n.current=!0}),F.useCallback(async(a,o={})=>{An(n.current,L2),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var pw={};function U2(t,e,n){!e&&!pw[t]&&(pw[t]=!0,An(!1,n))}var mw={};function _w(t,e){!t&&!mw[e]&&(mw[e]=!0,console.warn(e))}function zD(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&An(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:F.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&An(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:F.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&An(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:F.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var FD=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function qD({router:t,flushSync:e}){let[n,r]=F.useState(t.state),[a,o]=F.useState(),[u,h]=F.useState({isTransitioning:!1}),[d,m]=F.useState(),[g,y]=F.useState(),[w,T]=F.useState(),S=F.useRef(new Map),M=F.useCallback((X,{deletedFetchers:ie,flushSync:x,viewTransitionOpts:te})=>{X.fetchers.forEach((O,C)=>{O.data!==void 0&&S.current.set(C,O.data)}),ie.forEach(O=>S.current.delete(O)),_w(x===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let k=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(_w(te==null||k,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!te||!k){e&&x?e(()=>r(X)):F.startTransition(()=>r(X));return}if(e&&x){e(()=>{g&&(d&&d.resolve(),g.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:te.currentLocation,nextLocation:te.nextLocation})});let O=t.window.document.startViewTransition(()=>{e(()=>r(X))});O.finished.finally(()=>{e(()=>{m(void 0),y(void 0),o(void 0),h({isTransitioning:!1})})}),e(()=>y(O));return}g?(d&&d.resolve(),g.skipTransition(),T({state:X,currentLocation:te.currentLocation,nextLocation:te.nextLocation})):(o(X),h({isTransitioning:!0,flushSync:!1,currentLocation:te.currentLocation,nextLocation:te.nextLocation}))},[t.window,e,g,d]);F.useLayoutEffect(()=>t.subscribe(M),[t,M]),F.useEffect(()=>{u.isTransitioning&&!u.flushSync&&m(new FD)},[u]),F.useEffect(()=>{if(d&&a&&t.window){let X=a,ie=d.promise,x=t.window.document.startViewTransition(async()=>{F.startTransition(()=>r(X)),await ie});x.finished.finally(()=>{m(void 0),y(void 0),o(void 0),h({isTransitioning:!1})}),y(x)}},[a,d,t.window]),F.useEffect(()=>{d&&a&&n.location.key===a.location.key&&d.resolve()},[d,g,n.location,a]),F.useEffect(()=>{!u.isTransitioning&&w&&(o(w.state),h({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),T(void 0))},[u.isTransitioning,w]);let I=F.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:X=>t.navigate(X),push:(X,ie,x)=>t.navigate(X,{state:ie,preventScrollReset:x==null?void 0:x.preventScrollReset}),replace:(X,ie,x)=>t.navigate(X,{replace:!0,state:ie,preventScrollReset:x==null?void 0:x.preventScrollReset})}),[t]),U=t.basename||"/",H=F.useMemo(()=>({router:t,navigator:I,static:!1,basename:U}),[t,I,U]);return F.createElement(F.Fragment,null,F.createElement(el.Provider,{value:H},F.createElement(Oh.Provider,{value:n},F.createElement(k2.Provider,{value:S.current},F.createElement(uy.Provider,{value:u},F.createElement(GD,{basename:U,location:n.location,navigationType:n.historyAction,navigator:I},F.createElement(HD,{routes:t.routes,future:t.future,state:n})))))),null)}var HD=F.memo($D);function $D({routes:t,future:e,state:n}){return ID(t,void 0,n,e)}function GD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:o=!1}){lt(!Ih(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=F.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof n=="string"&&(n=Fs(n));let{pathname:d="/",search:m="",hash:g="",state:y=null,key:w="default"}=n,T=F.useMemo(()=>{let S=Kr(d,u);return S==null?null:{location:{pathname:S,search:m,hash:g,state:y,key:w},navigationType:r}},[u,d,m,g,y,w,r]);return An(T!=null,`<Router basename="${u}"> is not able to match the URL "${d}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:F.createElement(Xi.Provider,{value:h},F.createElement(Lp.Provider,{children:e,value:T}))}var Dd="get",xd="application/x-www-form-urlencoded";function Up(t){return t!=null&&typeof t.tagName=="string"}function KD(t){return Up(t)&&t.tagName.toLowerCase()==="button"}function QD(t){return Up(t)&&t.tagName.toLowerCase()==="form"}function YD(t){return Up(t)&&t.tagName.toLowerCase()==="input"}function XD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function WD(t,e){return t.button===0&&(!e||e==="_self")&&!XD(t)}var hd=null;function ZD(){if(hd===null)try{new FormData(document.createElement("form"),0),hd=!1}catch{hd=!0}return hd}var JD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Og(t){return t!=null&&!JD.has(t)?(An(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xd}"`),null):t}function e5(t,e){let n,r,a,o,u;if(QD(t)){let h=t.getAttribute("action");r=h?Kr(h,e):null,n=t.getAttribute("method")||Dd,a=Og(t.getAttribute("enctype"))||xd,o=new FormData(t)}else if(KD(t)||YD(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?Kr(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Dd,a=Og(t.getAttribute("formenctype"))||Og(h.getAttribute("enctype"))||xd,o=new FormData(h,t),!ZD()){let{name:m,type:g,value:y}=t;if(g==="image"){let w=m?`${m}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else m&&o.append(m,y)}}else{if(Up(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Dd,r=null,a=xd,u=t}return o&&a==="text/plain"&&(u=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:u}}function dy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function t5(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function n5(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function r5(t,e,n){let r=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await t5(o,n);return u.links?u.links():[]}return[]}));return o5(r.flat(1).filter(n5).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function gw(t,e,n,r,a,o){let u=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,h=(d,m)=>{var g;return n[m].pathname!==d.pathname||((g=n[m].route.path)==null?void 0:g.endsWith("*"))&&n[m].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,m)=>u(d,m)||h(d,m)):o==="data"?e.filter((d,m)=>{var y;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(u(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let w=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function i5(t,e,{includeHydrateFallback:n}={}){return s5(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function s5(t){return[...new Set(t)]}function a5(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function o5(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let o=JSON.stringify(a5(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}function l5(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Kr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function j2(){let t=F.useContext(el);return dy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function u5(){let t=F.useContext(Oh);return dy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var py=F.createContext(void 0);py.displayName="FrameworkContext";function B2(){let t=F.useContext(py);return dy(t,"You must render this element inside a <HydratedRouter> element"),t}function c5(t,e){let n=F.useContext(py),[r,a]=F.useState(!1),[o,u]=F.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:g,onTouchStart:y}=e,w=F.useRef(null);F.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let M=U=>{U.forEach(H=>{u(H.isIntersecting)})},I=new IntersectionObserver(M,{threshold:.5});return w.current&&I.observe(w.current),()=>{I.disconnect()}}},[t]),F.useEffect(()=>{if(r){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[r]);let T=()=>{a(!0)},S=()=>{a(!1),u(!1)};return n?t!=="intent"?[o,w,{}]:[o,w,{onFocus:Dc(h,T),onBlur:Dc(d,S),onMouseEnter:Dc(m,T),onMouseLeave:Dc(g,S),onTouchStart:Dc(y,T)}]:[!1,w,{}]}function Dc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function h5({page:t,...e}){let{router:n}=j2(),r=F.useMemo(()=>wa(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?F.createElement(d5,{page:t,matches:r,...e}):null}function f5(t){let{manifest:e,routeModules:n}=B2(),[r,a]=F.useState([]);return F.useEffect(()=>{let o=!1;return r5(t,e,n).then(u=>{o||a(u)}),()=>{o=!0}},[t,e,n]),r}function d5({page:t,matches:e,...n}){let r=Qa(),{manifest:a,routeModules:o}=B2(),{basename:u}=j2(),{loaderData:h,matches:d}=u5(),m=F.useMemo(()=>gw(t,e,d,a,r,"data"),[t,e,d,a,r]),g=F.useMemo(()=>gw(t,e,d,a,r,"assets"),[t,e,d,a,r]),y=F.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,M=!1;if(e.forEach(U=>{var X;let H=a.routes[U.route.id];!H||!H.hasLoader||(!m.some(ie=>ie.route.id===U.route.id)&&U.route.id in h&&((X=o[U.route.id])!=null&&X.shouldRevalidate)||H.hasClientLoader?M=!0:S.add(U.route.id))}),S.size===0)return[];let I=l5(t,u);return M&&S.size>0&&I.searchParams.set("_routes",e.filter(U=>S.has(U.route.id)).map(U=>U.route.id).join(",")),[I.pathname+I.search]},[u,h,r,a,m,e,t,o]),w=F.useMemo(()=>i5(g,a),[g,a]),T=f5(g);return F.createElement(F.Fragment,null,y.map(S=>F.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),w.map(S=>F.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),T.map(({key:S,link:M})=>F.createElement("link",{key:S,...M})))}function p5(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var z2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{z2&&(window.__reactRouterVersion="7.4.0")}catch{}function m5(t,e){return sD({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:I9({window:e==null?void 0:e.window}),hydrationData:_5(),routes:t,mapRouteProperties:zD,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function _5(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:g5(t.errors)}),t}function g5(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")n[r]=new rp(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let u=new o(a.message);u.stack="",n[r]=u}catch{}}if(n[r]==null){let o=new Error(a.message);o.stack="",n[r]=o}}else n[r]=a;return n}var F2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,my=F.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:u,state:h,target:d,to:m,preventScrollReset:g,viewTransition:y,...w},T){let{basename:S}=F.useContext(Xi),M=typeof m=="string"&&F2.test(m),I,U=!1;if(typeof m=="string"&&M&&(I=m,z2))try{let C=new URL(window.location.href),N=m.startsWith("//")?new URL(C.protocol+m):new URL(m),B=Kr(N.pathname,S);N.origin===C.origin&&B!=null?m=B+N.search+N.hash:U=!0}catch{An(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=RD(m,{relative:a}),[X,ie,x]=c5(r,w),te=E5(m,{replace:u,state:h,target:d,preventScrollReset:g,relative:a,viewTransition:y});function k(C){e&&e(C),C.defaultPrevented||te(C)}let O=F.createElement("a",{...w,...x,href:I||H,onClick:U||o?e:k,ref:p5(T,ie),target:d,"data-discover":!M&&n==="render"?"true":void 0});return X&&!M?F.createElement(F.Fragment,null,O,F.createElement(h5,{page:H})):O});my.displayName="Link";var q2=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:h,children:d,...m},g){let y=Dh(u,{relative:m.relative}),w=Qa(),T=F.useContext(Oh),{navigator:S,basename:M}=F.useContext(Xi),I=T!=null&&A5(y)&&h===!0,U=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,H=w.pathname,X=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(H=H.toLowerCase(),X=X?X.toLowerCase():null,U=U.toLowerCase()),X&&M&&(X=Kr(X,M)||X);const ie=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let x=H===U||!a&&H.startsWith(U)&&H.charAt(ie)==="/",te=X!=null&&(X===U||!a&&X.startsWith(U)&&X.charAt(U.length)==="/"),k={isActive:x,isPending:te,isTransitioning:I},O=x?e:void 0,C;typeof r=="function"?C=r(k):C=[r,x?"active":null,te?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(k):o;return F.createElement(my,{...m,"aria-current":O,className:C,ref:g,style:N,to:u,viewTransition:h},typeof d=="function"?d(k):d)});q2.displayName="NavLink";var v5=F.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:o,method:u=Dd,action:h,onSubmit:d,relative:m,preventScrollReset:g,viewTransition:y,...w},T)=>{let S=T5(),M=S5(h,{relative:m}),I=u.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&F2.test(h),H=X=>{if(d&&d(X),X.defaultPrevented)return;X.preventDefault();let ie=X.nativeEvent.submitter,x=(ie==null?void 0:ie.getAttribute("formmethod"))||u;S(ie||X.currentTarget,{fetcherKey:e,method:x,navigate:n,replace:a,state:o,relative:m,preventScrollReset:g,viewTransition:y})};return F.createElement("form",{ref:T,method:I,action:M,onSubmit:r?d:H,...w,"data-discover":!U&&t==="render"?"true":void 0})});v5.displayName="Form";function y5(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H2(t){let e=F.useContext(el);return lt(e,y5(t)),e}function E5(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:u}={}){let h=Vp(),d=Qa(),m=Dh(t,{relative:o});return F.useCallback(g=>{if(WD(g,e)){g.preventDefault();let y=n!==void 0?n:ka(d)===ka(m);h(t,{replace:y,state:r,preventScrollReset:a,relative:o,viewTransition:u})}},[d,h,m,n,r,e,t,a,o,u])}var b5=0,w5=()=>`__${String(++b5)}__`;function T5(){let{router:t}=H2("useSubmit"),{basename:e}=F.useContext(Xi),n=UD();return F.useCallback(async(r,a={})=>{let{action:o,method:u,encType:h,formData:d,body:m}=e5(r,e);if(a.navigate===!1){let g=a.fetcherKey||w5();await t.fetch(g,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function S5(t,{relative:e}={}){let{basename:n}=F.useContext(Xi),r=F.useContext(Wi);lt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Dh(t||".",{relative:e})},u=Qa();if(t==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(y=>y).forEach(y=>h.append("index",y));let g=h.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ui([n,o.pathname])),ka(o)}function A5(t,e={}){let n=F.useContext(uy);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=H2("useViewTransitionState"),a=Dh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Kr(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Kr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return np(a.pathname,u)!=null||np(a.pathname,o)!=null}new TextEncoder;var $2=T2();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function R5(t){return F.createElement(qD,{flushSync:$2.flushSync,...t})}const C5="_text_16crs_17",O5="_text_title_16crs_25",I5="_text_button_16crs_29",D5="_text_primary_16crs_49",x5="_text_secondary_16crs_52",N5="_text_accent_16crs_55",P5="_text__preparation_16crs_58",M5="_pulse_16crs_1",k5="_loader_16crs_1",xc={text:C5,text_title:O5,text_button:I5,"text_p-20":"_text_p-20_16crs_33","text_p-18":"_text_p-18_16crs_37","text_p-16":"_text_p-16_16crs_41","text_p-14":"_text_p-14_16crs_45",text_primary:D5,text_secondary:x5,text_accent:N5,text__preparation:P5,pulse:M5,loader:k5};var Ig={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var vw;function L5(){return vw||(vw=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(o=a(o,r(h)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var u="";for(var h in o)e.call(o,h)&&o[h]&&(u=a(u,h));return u}function a(o,u){return u?o?o+" "+u:o+u:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(Ig)),Ig.exports}var V5=L5();const at=DS(V5),Ke=({className:t,view:e,tag:n,weight:r,children:a,color:o,maxLines:u,isLoading:h=!1,...d})=>{const m=n??"p",g={...u&&{WebkitLineClamp:u},...r&&{fontWeight:r}};return h?D.jsx("span",{className:xc.text__preparation}):D.jsx(m,{className:at(xc.text,xc[`text_${e??"p-20"}`],xc[`text_${o??"primary"}`],h&&xc.text_skeleton,t),style:g,...d,children:a})},U5="_link_1iurp_1",j5="_link__container_1iurp_6",B5="_link__container_after_1iurp_12",z5="_link__container_active_1iurp_21",fd={link:U5,link__container:j5,link__container_after:B5,link__container_active:z5},yw=({path:t,label:e,icon:n,className:r,onClose:a})=>D.jsx(q2,{to:t,end:!0,className:fd.link,children:({isActive:o})=>D.jsxs("div",{className:at(fd.link__container,!(e&&n)&&fd.link__container_after,e&&o&&fd.link__container_active,r),onClick:a,children:[n,e&&D.jsx(Ke,{tag:"p",view:"p-18",color:!n&&o?"accent":"primary",children:e})]})}),F5="_header_1xht8_1",q5="_header__navigation_1xht8_23",H5="_header__navigation_burger_1xht8_41",$5="_header__links_1xht8_44",G5="_header__link_1xht8_44",K5="_header__menu_1xht8_72",Q5="_header__burger_1xht8_89",Rs={header:F5,header__navigation:q5,header__navigation_burger:H5,header__links:$5,header__link:G5,header__menu:K5,"header__menu-item":"_header__menu-item_1xht8_81",header__burger:Q5},Y5="_button_jik1v_1",X5={button:Y5},W5=({icon:t,onClick:e,onClose:n})=>D.jsx("button",{className:X5.button,onClick:()=>{e(),n()},children:t}),Z5="_icon_primary_1cnuq_1",J5="_icon_secondary_1cnuq_4",e3="_icon_accent_1cnuq_7",Ew={icon_primary:Z5,icon_secondary:J5,icon_accent:e3},br=({className:t,color:e="primary",width:n=24,height:r=24,children:a,...o})=>D.jsx("svg",{width:n,height:r,className:at(Ew.icon,Ew[`icon_${e}`],t),...o,children:a}),t3=t=>D.jsx(br,{viewBox:"0 0 18 12",...t,children:D.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 1C0 0.447715 0.447716 0 1 0L17 0C17.5523 0 18 0.447715 18 1C18 1.55228 17.5523 2 17 2L1 2C0.447715 2 0 1.55228 0 1ZM0 6C0 6.55228 0.447715 7 1 7L17 7C17.5523 7 18 6.55228 18 6C18 5.44772 17.5523 5 17 5L1 5C0.447716 5 0 5.44772 0 6ZM0 11C0 11.5523 0.447715 12 1 12L17 12C17.5523 12 18 11.5523 18 11C18 10.4477 17.5523 10 17 10L1 10C0.447716 10 0 10.4477 0 11Z",fill:"currentColor"})}),n3=({logoIcon:t,homePath:e,links:n,menuItems:r,className:a})=>{const[o,u]=F.useState(!1),h=()=>{u(!1)};return D.jsxs("header",{className:at(Rs.header,a),children:[D.jsx("div",{className:Rs.header__logo,children:D.jsx(yw,{icon:t,path:e})}),D.jsxs("nav",{className:at(Rs.header__navigation,o&&Rs.header__navigation_burger),role:"navigation",children:[D.jsx("ul",{className:Rs.header__links,children:n.map(d=>D.jsx("li",{children:D.jsx(yw,{onClose:h,className:Rs.header__link,...d})},d.label))}),D.jsx("ul",{className:Rs.header__menu,children:r.map((d,m)=>D.jsx("li",{className:Rs["header__menu-item"],children:D.jsx(W5,{onClose:h,...d})},m))})]}),D.jsx("div",{className:Rs.header__burger,onClick:()=>u(!o),children:D.jsx(t3,{width:18,height:12,color:"secondary"})})]})},r3=({...t})=>D.jsx(br,{...t,width:144,height:32,viewBox:"0 0 144 32",color:"accent",children:D.jsx("path",{d:"M42.71 17.79H45.127C45.0625 18.6455 44.8252 19.4043 44.415 20.0664C44.0049 20.7227 43.4336 21.2383 42.7012 21.6133C41.9688 21.9883 41.0811 22.1758 40.0381 22.1758C39.2354 22.1758 38.5117 22.0352 37.8672 21.7539C37.2285 21.4668 36.6807 21.0596 36.2236 20.5322C35.7725 19.999 35.4268 19.3604 35.1865 18.6162C34.9463 17.8662 34.8262 17.0254 34.8262 16.0938V15.1182C34.8262 14.1865 34.9492 13.3457 35.1953 12.5957C35.4414 11.8457 35.793 11.207 36.25 10.6797C36.7129 10.1465 37.2666 9.73633 37.9111 9.44922C38.5615 9.16211 39.2881 9.01855 40.0908 9.01855C41.1338 9.01855 42.0156 9.21191 42.7363 9.59863C43.457 9.97949 44.0166 10.5039 44.415 11.1719C44.8135 11.8398 45.0537 12.6074 45.1357 13.4746H42.7188C42.6719 12.9355 42.5547 12.4785 42.3672 12.1035C42.1855 11.7285 41.9102 11.4443 41.541 11.251C41.1777 11.0518 40.6943 10.9521 40.0908 10.9521C39.6221 10.9521 39.209 11.04 38.8516 11.2158C38.5 11.3916 38.207 11.6553 37.9727 12.0068C37.7383 12.3525 37.5625 12.7861 37.4453 13.3076C37.3281 13.8232 37.2695 14.4209 37.2695 15.1006V16.0938C37.2695 16.7441 37.3223 17.3271 37.4277 17.8428C37.5332 18.3584 37.6973 18.7949 37.9199 19.1523C38.1426 19.5098 38.4297 19.7822 38.7812 19.9697C39.1328 20.1572 39.5518 20.251 40.0381 20.251C40.6299 20.251 41.1104 20.1572 41.4795 19.9697C41.8545 19.7822 42.1387 19.5068 42.332 19.1436C42.5312 18.7803 42.6572 18.3291 42.71 17.79ZM49.2842 12.4902V22H46.9551V12.4902H49.2842ZM46.7969 10.0029C46.7969 9.65723 46.9141 9.37012 47.1484 9.1416C47.3887 8.91309 47.7109 8.79883 48.1152 8.79883C48.5195 8.79883 48.8389 8.91309 49.0732 9.1416C49.3135 9.37012 49.4336 9.65723 49.4336 10.0029C49.4336 10.3428 49.3135 10.627 49.0732 10.8555C48.8389 11.084 48.5195 11.1982 48.1152 11.1982C47.7109 11.1982 47.3887 11.084 47.1484 10.8555C46.9141 10.627 46.7969 10.3428 46.7969 10.0029ZM55.999 12.4902V14.1602H50.5498V12.4902H55.999ZM52.0088 10.1523H54.3379V19.2578C54.3379 19.5391 54.376 19.7559 54.4521 19.9082C54.5283 20.0605 54.6426 20.1631 54.7949 20.2158C54.9473 20.2686 55.1289 20.2949 55.3398 20.2949C55.4922 20.2949 55.6328 20.2861 55.7617 20.2686C55.8906 20.251 55.999 20.2334 56.0869 20.2158L56.0957 21.9561C55.9023 22.0205 55.6826 22.0732 55.4365 22.1143C55.1963 22.1553 54.9238 22.1758 54.6191 22.1758C54.0977 22.1758 53.6406 22.0879 53.248 21.9121C52.8555 21.7305 52.5508 21.4404 52.334 21.042C52.1172 20.6377 52.0088 20.1045 52.0088 19.4424V10.1523ZM60.332 20.9453L62.8809 12.4902H65.3682L61.5537 23.4414C61.4658 23.6758 61.3516 23.9307 61.2109 24.2061C61.0762 24.4814 60.8945 24.7422 60.666 24.9883C60.4375 25.2402 60.1504 25.4453 59.8047 25.6035C59.4648 25.7617 59.0518 25.8408 58.5654 25.8408C58.3545 25.8408 58.167 25.8262 58.0029 25.7969C57.8389 25.7676 57.666 25.7295 57.4844 25.6826V23.9424C57.543 23.9482 57.6104 23.9512 57.6865 23.9512C57.7686 23.957 57.8389 23.96 57.8975 23.96C58.2373 23.96 58.5186 23.9189 58.7412 23.8369C58.9639 23.7607 59.1426 23.6348 59.2773 23.459C59.418 23.2891 59.5352 23.0664 59.6289 22.791L60.332 20.9453ZM59.0752 12.4902L61.2285 19.4951L61.6064 21.9473L60.0068 22.2373L56.5703 12.4902H59.0752ZM68.8135 14.3184V25.6562H66.4844V12.4902H68.6377L68.8135 14.3184ZM74.9219 17.1484V17.333C74.9219 18.0244 74.8398 18.666 74.6758 19.2578C74.5176 19.8438 74.2832 20.3564 73.9727 20.7959C73.6621 21.2295 73.2754 21.5693 72.8125 21.8154C72.3555 22.0557 71.8281 22.1758 71.2305 22.1758C70.6445 22.1758 70.1348 22.0645 69.7012 21.8418C69.2676 21.6133 68.9014 21.291 68.6025 20.875C68.3037 20.459 68.0635 19.9756 67.8818 19.4248C67.7061 18.8682 67.5742 18.2617 67.4863 17.6055V17.0166C67.5742 16.3193 67.7061 15.6865 67.8818 15.1182C68.0635 14.5439 68.3037 14.0488 68.6025 13.6328C68.9014 13.2109 69.2646 12.8857 69.6924 12.6572C70.126 12.4287 70.6328 12.3145 71.2129 12.3145C71.8164 12.3145 72.3467 12.4287 72.8037 12.6572C73.2666 12.8857 73.6562 13.2139 73.9727 13.6416C74.2891 14.0693 74.5264 14.5791 74.6846 15.1709C74.8428 15.7627 74.9219 16.4219 74.9219 17.1484ZM72.5928 17.333V17.1484C72.5928 16.7266 72.5547 16.3369 72.4785 15.9795C72.4023 15.6162 72.2852 15.2998 72.127 15.0303C71.9688 14.7549 71.7637 14.541 71.5117 14.3887C71.2598 14.2363 70.9551 14.1602 70.5977 14.1602C70.2402 14.1602 69.9326 14.2188 69.6748 14.3359C69.417 14.4531 69.2061 14.6201 69.042 14.8369C68.8779 15.0537 68.749 15.3115 68.6553 15.6104C68.5674 15.9033 68.5088 16.2285 68.4795 16.5859V18.0449C68.5322 18.4785 68.6348 18.8682 68.7871 19.2139C68.9395 19.5596 69.1621 19.835 69.4551 20.04C69.7539 20.2451 70.1406 20.3477 70.6152 20.3477C70.9727 20.3477 71.2773 20.2686 71.5293 20.1104C71.7812 19.9521 71.9863 19.7354 72.1445 19.46C72.3027 19.1787 72.417 18.8564 72.4873 18.4932C72.5576 18.1299 72.5928 17.7432 72.5928 17.333ZM80.8896 22.1758C80.1689 22.1758 79.5215 22.0586 78.9473 21.8242C78.373 21.5898 77.8838 21.2646 77.4795 20.8486C77.0811 20.4268 76.7734 19.9375 76.5566 19.3809C76.3457 18.8184 76.2402 18.2148 76.2402 17.5703V17.2188C76.2402 16.4863 76.3457 15.8213 76.5566 15.2236C76.7676 14.6201 77.0664 14.1016 77.4531 13.668C77.8398 13.2344 78.3027 12.9004 78.8418 12.666C79.3809 12.4316 79.9756 12.3145 80.626 12.3145C81.2998 12.3145 81.8945 12.4287 82.4102 12.6572C82.9258 12.8799 83.3564 13.1963 83.7021 13.6064C84.0479 14.0166 84.3086 14.5088 84.4844 15.083C84.6602 15.6514 84.748 16.2812 84.748 16.9727V17.9482H77.2949V16.3486H82.4629V16.1729C82.4512 15.8037 82.3809 15.4668 82.252 15.1621C82.123 14.8516 81.9238 14.6055 81.6543 14.4238C81.3848 14.2363 81.0361 14.1426 80.6084 14.1426C80.2627 14.1426 79.9609 14.2188 79.7031 14.3711C79.4512 14.5176 79.2402 14.7285 79.0703 15.0039C78.9062 15.2734 78.7832 15.5957 78.7012 15.9707C78.6191 16.3457 78.5781 16.7617 78.5781 17.2188V17.5703C78.5781 17.9688 78.6309 18.3379 78.7363 18.6777C78.8477 19.0176 79.0088 19.3135 79.2197 19.5654C79.4365 19.8115 79.6943 20.0049 79.9932 20.1455C80.2979 20.2803 80.6436 20.3477 81.0303 20.3477C81.5166 20.3477 81.9561 20.2539 82.3486 20.0664C82.7471 19.873 83.0928 19.5889 83.3857 19.2139L84.5547 20.4268C84.3555 20.7197 84.0859 21.001 83.7461 21.2705C83.4121 21.54 83.0078 21.7598 82.5332 21.9297C82.0586 22.0938 81.5107 22.1758 80.8896 22.1758ZM92.0078 19.9785V8.5H94.3457V22H92.2363L92.0078 19.9785ZM85.8994 17.3594V17.1748C85.8994 16.4482 85.9814 15.7891 86.1455 15.1973C86.3154 14.5996 86.5615 14.0869 86.8838 13.6592C87.2061 13.2314 87.5957 12.9004 88.0527 12.666C88.5156 12.4316 89.04 12.3145 89.626 12.3145C90.1943 12.3145 90.6895 12.4287 91.1113 12.6572C91.5391 12.8857 91.9023 13.2109 92.2012 13.6328C92.5059 14.0547 92.749 14.5557 92.9307 15.1357C93.1123 15.71 93.2441 16.3428 93.3262 17.0342V17.5352C93.2441 18.209 93.1123 18.8271 92.9307 19.3896C92.749 19.9521 92.5059 20.4443 92.2012 20.8662C91.9023 21.2822 91.5391 21.6045 91.1113 21.833C90.6836 22.0615 90.1826 22.1758 89.6084 22.1758C89.0283 22.1758 88.5068 22.0557 88.0439 21.8154C87.5869 21.5752 87.1973 21.2383 86.875 20.8047C86.5586 20.3711 86.3154 19.8613 86.1455 19.2754C85.9814 18.6895 85.8994 18.0508 85.8994 17.3594ZM88.2285 17.1748V17.3594C88.2285 17.7695 88.2637 18.1533 88.334 18.5107C88.4043 18.8682 88.5186 19.1846 88.6768 19.46C88.835 19.7295 89.0371 19.9404 89.2832 20.0928C89.5352 20.2451 89.8398 20.3213 90.1973 20.3213C90.6543 20.3213 91.0293 20.2217 91.3223 20.0225C91.6211 19.8174 91.8525 19.5391 92.0166 19.1875C92.1807 18.8301 92.2861 18.4287 92.333 17.9834V16.6035C92.3096 16.252 92.248 15.9268 92.1484 15.6279C92.0547 15.3291 91.9199 15.0713 91.7441 14.8545C91.5742 14.6377 91.3633 14.4678 91.1113 14.3447C90.8594 14.2217 90.5605 14.1602 90.2148 14.1602C89.8574 14.1602 89.5527 14.2393 89.3008 14.3975C89.0488 14.5498 88.8438 14.7637 88.6855 15.0391C88.5273 15.3145 88.4102 15.6338 88.334 15.9971C88.2637 16.3604 88.2285 16.7529 88.2285 17.1748ZM98.9072 12.4902V22H96.5781V12.4902H98.9072ZM96.4199 10.0029C96.4199 9.65723 96.5371 9.37012 96.7715 9.1416C97.0117 8.91309 97.334 8.79883 97.7383 8.79883C98.1426 8.79883 98.4619 8.91309 98.6963 9.1416C98.9365 9.37012 99.0566 9.65723 99.0566 10.0029C99.0566 10.3428 98.9365 10.627 98.6963 10.8555C98.4619 11.084 98.1426 11.1982 97.7383 11.1982C97.334 11.1982 97.0117 11.084 96.7715 10.8555C96.5371 10.627 96.4199 10.3428 96.4199 10.0029ZM106.36 19.9785V15.5928C106.36 15.2705 106.305 14.9922 106.193 14.7578C106.082 14.5234 105.912 14.3418 105.684 14.2129C105.455 14.084 105.165 14.0195 104.813 14.0195C104.503 14.0195 104.23 14.0723 103.996 14.1777C103.768 14.2832 103.592 14.4326 103.469 14.626C103.346 14.8135 103.284 15.0303 103.284 15.2764H100.955C100.955 14.8838 101.049 14.5117 101.236 14.1602C101.424 13.8027 101.69 13.4863 102.036 13.2109C102.388 12.9297 102.807 12.71 103.293 12.5518C103.785 12.3936 104.336 12.3145 104.945 12.3145C105.666 12.3145 106.308 12.4375 106.87 12.6836C107.438 12.9238 107.884 13.2871 108.206 13.7734C108.534 14.2598 108.698 14.8721 108.698 15.6104V19.7588C108.698 20.2334 108.728 20.6406 108.786 20.9805C108.851 21.3145 108.944 21.6045 109.067 21.8506V22H106.703C106.592 21.7598 106.507 21.4551 106.448 21.0859C106.39 20.7109 106.36 20.3418 106.36 19.9785ZM106.686 16.208L106.703 17.5879H105.235C104.872 17.5879 104.553 17.626 104.277 17.7021C104.002 17.7725 103.776 17.8779 103.601 18.0186C103.425 18.1533 103.293 18.3174 103.205 18.5107C103.117 18.6982 103.073 18.9121 103.073 19.1523C103.073 19.3867 103.126 19.5977 103.231 19.7852C103.343 19.9727 103.501 20.1221 103.706 20.2334C103.917 20.3389 104.163 20.3916 104.444 20.3916C104.854 20.3916 105.212 20.3096 105.517 20.1455C105.821 19.9756 106.059 19.7705 106.229 19.5303C106.398 19.29 106.489 19.0615 106.501 18.8447L107.169 19.8467C107.087 20.0869 106.964 20.3418 106.8 20.6113C106.636 20.8809 106.425 21.1328 106.167 21.3672C105.909 21.6016 105.599 21.7949 105.235 21.9473C104.872 22.0996 104.45 22.1758 103.97 22.1758C103.354 22.1758 102.804 22.0527 102.317 21.8066C101.831 21.5605 101.447 21.2236 101.166 20.7959C100.885 20.3682 100.744 19.8818 100.744 19.3369C100.744 18.833 100.838 18.3877 101.025 18.001C101.213 17.6143 101.491 17.2891 101.86 17.0254C102.229 16.7559 102.687 16.5537 103.231 16.4189C103.782 16.2783 104.412 16.208 105.121 16.208H106.686Z",fill:"currentColor"})}),i3=({...t})=>D.jsxs(br,{...t,width:30,height:30,viewBox:"0 0 30 30",fill:"none",color:"primary",children:[D.jsx("path",{d:"M15 15C18.4518 15 21.25 12.2018 21.25 8.75C21.25 5.29822 18.4518 2.5 15 2.5C11.5482 2.5 8.75 5.29822 8.75 8.75C8.75 12.2018 11.5482 15 15 15Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),D.jsx("path",{d:"M25.7374 27.5C25.7374 22.6625 20.9249 18.75 14.9999 18.75C9.07495 18.75 4.26245 22.6625 4.26245 27.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),s3=t=>D.jsx(br,{viewBox:"0 0 18 18",...t,children:D.jsx("path",{d:"M9 0C8.28992 0 7.71429 0.575634 7.71429 1.28571V7.71429H1.28572C0.575634 7.71429 0 8.28992 0 9C0 9.71008 0.575634 10.2857 1.28572 10.2857H7.71429V16.7143C7.71429 17.4244 8.28992 18 9 18C9.71008 18 10.2857 17.4244 10.2857 16.7143V10.2857H16.7143C17.4244 10.2857 18 9.71008 18 9C18 8.28992 17.4244 7.71429 16.7143 7.71429H10.2857V1.28571C10.2857 0.575634 9.71008 0 9 0Z",fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor"})}),a3="_error_12lr6_1",o3="_error__title_12lr6_5",l3="_error__description_12lr6_9",u3="_loading_12lr6_14",dd={error:a3,error__title:o3,error__description:l3,loading:u3},c3=({...t})=>D.jsx(br,{...t,children:D.jsx("path",{d:"M13.3497 17.8462C10.1209 18.5916 6.89917 16.5785 6.15374 13.3497C5.40832 10.1209 7.42148 6.89919 10.6503 6.15377C13.879 5.40835 17.1008 7.42151 17.8462 10.6503L19.7949 10.2004C18.801 5.89534 14.5054 3.21113 10.2004 4.20503C5.89532 5.19893 3.21111 9.49456 4.205 13.7996C5.1989 18.1046 9.49454 20.7888 13.7996 19.795L13.3497 17.8462Z",fill:"currentColor"})}),h3="_loader_4zkgf_6",f3={loader:h3},G2=({size:t,className:e,color:n,...r})=>{const a={s:24,m:48,l:60}[t??"l"];return D.jsx(c3,{width:a,height:a,viewBox:"0 0 24 24",className:at(f3.loader,e),color:n??"accent",...r})},d3=({header:t=!1,isAppReady:e,requestError:n,mostLikedCityId:r,openModal:a,pathname:o,user:u,children:h})=>{if(F.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[o]),n)return D.jsxs("div",{className:dd.error,children:[D.jsx(Ke,{view:"title",tag:"p",weight:"bold",className:dd.error__title,children:"Request Error"}),D.jsx(Ke,{view:"p-20",tag:"p",weight:"bold",color:"secondary",className:dd.error__description,children:"Please try again later"})]});const d=u===null?"sign-in":"log-out";return e?D.jsxs(D.Fragment,{children:[t&&D.jsx(n3,{logoIcon:D.jsx(r3,{}),homePath:fv,links:[{label:"Home",path:fv},{label:"Cities",path:qo},{label:"Good Choice",path:`${qo}/${r}`}],menuItems:[{icon:D.jsx(i3,{}),onClick:()=>a(d)},{icon:D.jsx(s3,{height:24,width:24,color:"primary"}),onClick:()=>a(u?"add-city":"sign-in")}]}),h]}):D.jsx("div",{className:dd.loading,children:D.jsx(G2,{size:"l"})})},p3=()=>{const[t,e]=F.useState(window.innerWidth);return F.useEffect(()=>{const n=()=>e(window.innerWidth);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t},jp=t=>{const e=t.reduce((w,T)=>({...w,[T.name]:T.value}),{}),[n,r]=F.useState(e),[a,o]=F.useState({}),[u,h]=F.useState(!1);return{formState:n,handleCheckboxChange:w=>T=>{r(S=>({...S,[w]:T}))},handleTextChange:w=>T=>{r(S=>({...S,[w]:T}))},handleClearForm:()=>{r(e)},validate:()=>{const w={};return t.forEach(({name:T,...S})=>{const M=n[T];w[T]=S.validate?S.validate(M):null}),o(w),Object.values(w).every(T=>T===null)},errors:a,isSubmitting:u,setIsSubmitting:h}},xh=()=>{const[t,e]=F.useState(null),n=F.useCallback(a=>e(a),[]),r=F.useCallback(()=>e(null),[]);return{requestError:t,setRequestError:n,clearError:r}},K2=F.createContext({}),Mn=()=>{const t=F.useContext(K2);if(!t)throw new Error("RootStoreContext must be used within RootStoreProvider");return t};if(!F.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!Yi)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function m3(t){t()}function _3(t){t||(t=m3),h2({reactionScheduler:t})}function g3(t){return QI(t)}var v3=1e4,y3=1e4,E3=function(){function t(e){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=v3),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var a=Date.now();n.registrations.forEach(function(o,u){a-o.registeredAt>=r&&(n.finalize(o.value),n.registrations.delete(u))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(t.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,y3))}}),t}(),b3=typeof FinalizationRegistry<"u"?FinalizationRegistry:E3,_v=new b3(function(t){var e;(e=t.reaction)===null||e===void 0||e.dispose(),t.reaction=null}),Dg={exports:{}},xg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw;function w3(){if(bw)return xg;bw=1;var t=kp();function e(y,w){return y===w&&(y!==0||1/y===1/w)||y!==y&&w!==w}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,o=t.useLayoutEffect,u=t.useDebugValue;function h(y,w){var T=w(),S=r({inst:{value:T,getSnapshot:w}}),M=S[0].inst,I=S[1];return o(function(){M.value=T,M.getSnapshot=w,d(M)&&I({inst:M})},[y,T,w]),a(function(){return d(M)&&I({inst:M}),y(function(){d(M)&&I({inst:M})})},[y]),u(T),T}function d(y){var w=y.getSnapshot;y=y.value;try{var T=w();return!n(y,T)}catch{return!0}}function m(y,w){return w()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:h;return xg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,xg}var ww;function T3(){return ww||(ww=1,Dg.exports=w3()),Dg.exports}var S3=T3();function Tw(t){t.reaction=new Gi("observer".concat(t.name),function(){var e;t.stateVersion=Symbol(),(e=t.onStoreChange)===null||e===void 0||e.call(t)})}function A3(t,e){e===void 0&&(e="observed");var n=ep.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(h){return _v.unregister(r),r.onStoreChange=h,r.reaction||(Tw(r),r.stateVersion=Symbol()),function(){var d;r.onStoreChange=null,(d=r.reaction)===null||d===void 0||d.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var a=n.current;a.reaction||(Tw(a),_v.register(n,a,a)),ep.useDebugValue(a.reaction,g3),S3.useSyncExternalStore(a.subscribe,a.getSnapshot,a.getSnapshot);var o,u;if(a.reaction.track(function(){try{o=t()}catch(h){u=h}}),u)throw u;return o}var Ng,Pg,Q2=typeof Symbol=="function"&&Symbol.for,R3=(Pg=(Ng=Object.getOwnPropertyDescriptor(function(){},"name"))===null||Ng===void 0?void 0:Ng.configurable)!==null&&Pg!==void 0?Pg:!1,Sw=Q2?Symbol.for("react.forward_ref"):typeof F.forwardRef=="function"&&F.forwardRef(function(t){return null}).$$typeof,Aw=Q2?Symbol.for("react.memo"):typeof F.memo=="function"&&F.memo(function(t){return null}).$$typeof;function kn(t,e){var n;if(Aw&&t.$$typeof===Aw)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(n=void 0)!==null&&n!==void 0?n:!1,a=t,o=t.displayName||t.name;if(Sw&&t.$$typeof===Sw&&(r=!0,a=t.render,typeof a!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var u=function(h,d){return A3(function(){return a(h,d)},o)};return u.displayName=t.displayName,R3&&Object.defineProperty(u,"name",{value:t.name,writable:!0,configurable:!0}),t.contextTypes&&(u.contextTypes=t.contextTypes),r&&(u=F.forwardRef(u)),u=F.memo(u),O3(t,u),u}var C3={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function O3(t,e){Object.keys(t).forEach(function(n){C3[n]||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}var Mg;_3($2.unstable_batchedUpdates);Mg=_v.finalizeAllImmediately;const kg=kn(({children:t,header:e})=>{var S;const n=Vp(),{search:r,pathname:a}=Qa(),o=Mn(),{setNavigate:u,dispose:h}=o,{openModal:d}=o.modalStore,m=o.isAppReady,g=o.citiesStore.requestError,y=(S=o.citiesDataStore.mostLikedCity)==null?void 0:S.id,w=o.userStore.user,T=o.routerStore;return F.useEffect(()=>(u(n),T.setLocation(a,r),()=>{zt(()=>h())}),[n,a,r,u,h,T]),D.jsx(d3,{isAppReady:m,requestError:g,mostLikedCityId:y,header:e,openModal:d,pathname:a,user:w,children:t})}),I3="_page_1t4t7_1",D3="_page__description_1t4t7_13",x3="_page__features_1t4t7_22",N3="_page__related_1t4t7_34",P3="_page__suggest_1t4t7_40",xi={page:I3,page__description:D3,page__features:x3,"page__features-container":"_page__features-container_1t4t7_28",page__related:N3,page__suggest:P3,"page__button-container":"_page__button-container_1t4t7_49"},M3="_button_adho6_17",k3="_button__text_adho6_27",L3="_button__loader_adho6_32",V3="_button_loading_adho6_42",U3="_button_disabled_adho6_45",j3="_button__skeleton_adho6_48",B3="_button_second_adho6_55",xo={button:M3,button__text:k3,button__loader:L3,button_loading:V3,button_disabled:U3,button__skeleton:j3,button_second:B3},qn=({loading:t,disabled:e,children:n,className:r,isSecond:a,isLoading:o,...u})=>o?D.jsx("div",{className:at(xo.button__skeleton,r)}):D.jsxs("button",{className:at(xo.button,t&&xo.button_loading,e&&xo.button_disabled,a&&xo.button_second,r),disabled:t||e,...u,children:[t&&D.jsx(G2,{className:xo.button__loader,size:"s"}),D.jsx(Ke,{className:xo.button__text,view:"button",tag:"p",children:n})]}),z3="_card_1er9j_1",F3="_card__body_1er9j_6",q3="_card__info_1er9j_25",H3="_card__price_1er9j_30",$3="_card__actions_1er9j_33",G3="_card_single_1er9j_41",va={card:z3,card__body:F3,"card__body-top":"_card__body-top_1er9j_14","card__body-bottom":"_card__body-bottom_1er9j_19",card__info:q3,card__price:H3,card__actions:$3,card_single:G3},sh="cities",K3=1e3,ru="...",Y2=t=>typeof t=="string"?t:ep.isValidElement(t)?Y2(t.props.children):"",Ho=t=>{var e,n;(e=t.preventDefault)==null||e.call(t),(n=t.stopPropagation)==null||n.call(t)},Q3=(t,e)=>Array.from({length:e-t+1},(n,r)=>t+r),Y3=t=>t.length===0?"":t[0].toUpperCase()+t.slice(1).toLowerCase(),X3=t=>t.reduce((e,n)=>{var r,a;return(((r=n.likes)==null?void 0:r.length)||0)>(((a=e.likes)==null?void 0:a.length)||0)?n:e},t[0]),W3=t=>{const e=new Date().getTime()+new Date().getTimezoneOffset()*6e4;return new Date(e+t*1e3).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})},Z3=(t,e)=>t<=4?Q3(1,t):e<=3?[1,2,3,4,ru,t]:e>=t-2?[1,ru,t-3,t-2,t-1,t]:[1,ru,e-1,e,e+1,ru,t],J3="_image_1fvdj_17",ex="_image_single_1fvdj_22",tx="_image__preparation_1fvdj_31",nx="_image__preparation_single_1fvdj_39",pd={image:J3,image_single:ex,image__preparation:tx,image__preparation_single:nx},rx=({isLoading:t=!1,className:e,variant:n,...r})=>t?D.jsx("div",{className:at(pd.image__preparation,n==="single"&&pd.image__preparation_single,e)}):D.jsx("img",{...r,className:at(pd.image,n==="single"&&pd.image_single)}),ix="_like_1jiil_1",sx={like:ix},ax=({liked:t,...e})=>{const n=t?"M20.2991 1.68186C22.567 3.90213 22.567 7.54338 20.2991 9.78586L10.9804 19L1.6841 9.80806C0.606277 8.72013 0 7.27695 0 5.74496C0 4.21297 0.583823 2.76979 1.6841 1.68186C3.92957 -0.560619 7.61215 -0.560619 9.88007 1.70406L10.9804 2.792L12.0806 1.68186C14.3486 -0.560619 18.0311 -0.560619 20.2991 1.68186Z":"M20.2991 9.78586C22.567 7.54338 22.567 3.90213 20.2991 1.68186C18.0311 -0.560619 14.3486 -0.560619 12.0806 1.68186L10.9804 2.792L9.88007 1.70406C7.61215 -0.560619 3.92957 -0.560619 1.6841 1.68186C0.583822 2.76979 0 4.21297 0 5.74496C0 7.27695 0.606277 8.72013 1.6841 9.80806L10.9804 19L20.2991 9.78586ZM1.4371 5.74496C1.4371 4.59042 1.8862 3.52469 2.71702 2.72539C3.5703 1.88168 4.67058 1.45983 5.77086 1.45983C6.87114 1.45983 7.97142 1.88168 8.8247 2.72539L10.9804 4.83465L13.136 2.70318C14.8201 1.03798 17.582 1.03798 19.2437 2.70318C20.0521 3.50248 20.5236 4.56821 20.5236 5.72276C20.5236 6.8773 20.0745 7.94303 19.2437 8.74233L10.9804 16.9351L2.71702 8.76453C1.90865 7.94303 1.4371 6.8773 1.4371 5.74496Z";return D.jsx(br,{viewBox:"0 0 22 19",...e,children:D.jsx("path",{d:n,fill:"currentColor"})})},ox=({likesCount:t,liked:e,isLoggedIn:n,handleToggleLike:r,isLikeLoading:a})=>D.jsxs("button",{onClick:r,className:sx.like,disabled:a,children:[D.jsx(ax,{height:19,width:22,color:n?e?"accent":"primary":"secondary",liked:e}),D.jsx(Ke,{tag:"p",view:"p-20",weight:"bold",color:n?e?"accent":"primary":"secondary",children:t})]}),lx=t=>D.jsx(br,{viewBox:"0 0 121.86 122.88",...t,children:D.jsx("path",{d:"M30.28,110.09,49.37,91.78A3.84,3.84,0,0,1,52,90.72h60a2.15,2.15,0,0,0,2.16-2.16V9.82a2.16,2.16,0,0,0-.64-1.52A2.19,2.19,0,0,0,112,7.66H9.82A2.24,2.24,0,0,0,7.65,9.82V88.55a2.19,2.19,0,0,0,2.17,2.16H26.46a3.83,3.83,0,0,1,3.82,3.83v15.55ZM28.45,63.56a3.83,3.83,0,1,1,0-7.66h53a3.83,3.83,0,0,1,0,7.66Zm0-24.86a3.83,3.83,0,1,1,0-7.65h65a3.83,3.83,0,0,1,0,7.65ZM53.54,98.36,29.27,121.64a3.82,3.82,0,0,1-6.64-2.59V98.36H9.82A9.87,9.87,0,0,1,0,88.55V9.82A9.9,9.9,0,0,1,9.82,0H112a9.87,9.87,0,0,1,9.82,9.82V88.55A9.85,9.85,0,0,1,112,98.36Z",fill:"currentColor"})}),ux="_comment_1f2tv_1",cx={comment:ux},hx=({commentsCount:t,commented:e,handleOpenChat:n,isLoggedIn:r})=>D.jsxs("button",{onClick:n,className:cx.comment,children:[D.jsx(lx,{height:24,width:24,color:r?e?"accent":"primary":"secondary"}),D.jsx(Ke,{tag:"p",view:"p-20",weight:"bold",color:r?e?"accent":"primary":"secondary",children:t})]}),X2=kn(({className:t,variant:e="preview",cityId:n,image:r,captionSlot:a,title:o,subtitle:u,contentSlot:h,onClick:d,actionSlot:m,isLoading:g=!1,temp:y,localTime:w})=>{const T=Mn(),{modalStore:{openModal:S},citiesStore:{toggleLike:M},toastStore:{showToast:I}}=T,U=T.userStore.user,H=T.citiesDataStore.citiesLikes,X=T.citiesDataStore.citiesComments,ie=T.citiesStore.isLikeLoading,x=!!U,te=H[n]??[],k=te.length,O=x?te.includes(U.uid):!1,C=async Oe=>{if(Ho(Oe),!x){S("sign-in");return}await M(n,U.uid),I(`Successfully ${O?"unLiked":"Liked"}!`,"success")},N=X[n],B=N?Object.values(N).flat():[],$=B.length,L=x?B.some(Oe=>Oe.owner===U.uid):!1,xt=Y2(o),je=e==="preview",de=Oe=>{if(Ho(Oe),!x){S("sign-in");return}S("comments")};return D.jsxs("div",{onClick:d,className:at(va.card,{[va.card_single]:!je},t),children:[D.jsx(rx,{isLoading:g,src:g?void 0:r,alt:xt,variant:e}),D.jsxs("div",{className:va.card__body,children:[D.jsxs("div",{className:va["card__body-top"],children:[g||je&&D.jsx(Ke,{isLoading:g,view:"p-14",color:"secondary",children:a}),D.jsx(Ke,{isLoading:g,view:je?"p-20":"title",weight:"bold",maxLines:2,children:o}),D.jsx(Ke,{isLoading:g,view:je?"p-16":"p-20",color:"secondary",maxLines:3,children:u}),D.jsx(ox,{likesCount:k,liked:O,handleToggleLike:C,isLoggedIn:x,isLikeLoading:ie}),!je&&D.jsx(hx,{commentsCount:$,commented:L,handleOpenChat:de,isLoggedIn:x}),(y||w)&&D.jsxs("div",{className:va.card__info,children:[y&&D.jsx(Ke,{isLoading:g,view:"p-18",weight:"bold",children:y}),w&&D.jsx(Ke,{isLoading:g,view:"p-18",weight:"bold",children:w})]})]}),D.jsxs("div",{className:va["card__body-bottom"],children:[je&&D.jsx(Ke,{isLoading:g,view:je?"p-18":"title",weight:"bold",className:va.card__price,children:h}),D.jsxs("div",{className:va.card__actions,children:[m,!je&&D.jsx(qn,{isSecond:!0,isLoading:g,children:"More info"})]})]})]})]})}),fx="_city_uc2dz_1",dx="_city__link_uc2dz_4",Rw={city:fx,city__link:dx},Cw=({city:t,action:e,className:n,isLoading:r=!1,...a})=>{const o=r||!t;return D.jsx("li",{className:at(Rw.city,n),children:D.jsx(my,{to:`${qo}/${(t==null?void 0:t.id)??""}`,className:Rw.city__link,children:D.jsx(X2,{cityId:(t==null?void 0:t.id)??"",image:t==null?void 0:t.image,title:t==null?void 0:t.name,captionSlot:(t==null?void 0:t.country)&&`Country: ${t.country}`,subtitle:(t==null?void 0:t.population)&&`Population: ${t.population}`,contentSlot:(t==null?void 0:t.is_capital)&&"Capital",actionSlot:e,isLoading:o,...a})})})},px="_gallery_1bmx7_1",mx="_gallery_resize_1bmx7_12",Ow={gallery:px,gallery_resize:mx},_y=({loadingItems:t,items:e,isSecond:n,isLoading:r})=>{const a=p3();return D.jsx("ul",{className:at(Ow.gallery,a<=1440&&Ow.gallery_resize),children:r?Array(t).fill(null).map((o,u)=>D.jsx(Cw,{action:D.jsx(qn,{isLoading:r,children:"Find ticket"})},u)):e.map(o=>D.jsx(Cw,{city:o?{id:o.id,image:o.image,name:o.name,country:o.country,population:o.population,is_capital:o.is_capital,likes:o.likes}:void 0,action:D.jsx(qn,{isSecond:n,children:n?"More info":"Find ticket"})},o.id))})},_x="_feature_1ramu_1",gx="_feature__text_1ramu_8",Iw={feature:_x,feature__text:gx},vx=({text:t,className:e})=>D.jsx("div",{className:at(Iw.feature,e),children:D.jsx(Ke,{tag:"p",view:"p-16",color:"accent",className:Iw.feature__text,children:t})}),Dw=3,yx=kn(()=>{const t=Vp(),e=F.useRef(!1),n=Mn(),{fetchRelated:r,clearRelated:a}=n.citiesStore,o=n.citiesStore.isLoading,u=n.citiesDataStore.relatedCities,h=n.citiesDataStore.mostLikedCity;F.useEffect(()=>{if(!e.current)return e.current=!0,(async()=>await r(Dw))(),()=>a()},[e,r,a]);const d=()=>{t({pathname:qo})},m=()=>{t({pathname:`${qo}/${h==null?void 0:h.id}`})},g=["Find places you've never seen before","Unique facts about each city","Find available tickets in one click","See which city people like most"];return D.jsxs("div",{className:xi.page,children:[D.jsxs("section",{className:xi.page__description,children:[D.jsx(Ke,{tag:"h1",view:"title",color:"primary",children:"Explore the World with Citypedia"}),D.jsxs("div",{children:[D.jsx(Ke,{tag:"p",view:"p-20",color:"secondary",children:"Find your next destination and pack your suitcases."}),D.jsx(Ke,{tag:"p",view:"p-20",color:"secondary",children:"Here is where the journey begins."})]}),D.jsx("div",{className:xi["page__button-container"],children:D.jsx(qn,{onClick:d,children:"Choose city"})})]}),D.jsxs("div",{className:xi.page__features,children:[D.jsx(Ke,{tag:"h2",view:"title",color:"primary",children:"How can Citypedia help you?"}),D.jsx("div",{className:xi["page__features-container"],children:g.map((y,w)=>D.jsx(vx,{text:y},w))}),D.jsx("div",{className:xi["page__button-container"],children:D.jsx(qn,{onClick:d,children:"Explore"})})]}),D.jsxs("section",{className:xi.page__related,children:[D.jsx(Ke,{tag:"p",view:"title",color:"primary",children:"Let your journey begin!"}),D.jsx(_y,{loadingItems:Dw,isLoading:o,isSecond:!0,items:u}),D.jsx("div",{className:xi["page__button-container"],children:D.jsx(qn,{onClick:d,children:"More cities"})})]}),D.jsxs("div",{className:xi.page__suggest,children:[D.jsx(Ke,{tag:"p",view:"title",color:"primary",children:"Not sure where to go?"}),D.jsx(Ke,{tag:"p",view:"p-20",color:"primary",children:"Let Citypedia choose for you!"}),D.jsx("div",{className:xi["page__button-container"],children:D.jsx(qn,{onClick:m,children:"Choose for me"})})]})]})}),Ex="_pagination_1frob_1",bx="_pagination__arrow_1frob_6",wx="_pagination__arrow_right_1frob_12",Tx="_pagination__item_1frob_18",Sx="_pagination__item_active_1frob_32",Ax="_pagination__item_dots_1frob_35",No={pagination:Ex,pagination__arrow:bx,pagination__arrow_right:wx,pagination__item:Tx,pagination__item_active:Sx,pagination__item_dots:Ax},gv=t=>D.jsx(br,{viewBox:"0 0 35 35",...t,children:D.jsx("path",{d:"M22.0062 5.95005L12.4979 15.4584C11.375 16.5813 11.375 18.4188 12.4979 19.5417L22.0062 29.05",stroke:"currentColor",strokeOpacity:"0.3",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round",fill:"transparent"})}),Rx=kn(({className:t})=>{const e=Mn(),{setCurrentPage:n}=e.paginationStore,r=e.citiesStore.isLoading,a=e.paginationStore.totalPaginatedCities,o=e.paginationStore.viewPerPage,u=e.paginationStore.currentPage,h=Math.ceil(a/o),d=Z3(h,u),m=h===0||u===1||r,g=h===0||u===h||r;return D.jsxs("div",{className:at(No.pagination,t),children:[D.jsx("button",{disabled:m,className:No.pagination__arrow,onClick:()=>n(u-1),children:D.jsx(gv,{width:35,height:35,color:m?"secondary":"primary"})}),d.map((y,w)=>D.jsx("button",{className:at(No.pagination__item,{[No.pagination__item_active]:y===u,[No.pagination__item_dots]:y===ru}),onClick:()=>n(Number(y)),disabled:y===ru||r,children:D.jsx(Ke,{tag:"p",view:"p-18",color:y===u?"secondary":"primary",children:y})},w)),D.jsx("button",{disabled:g,className:at(No.pagination__arrow,No.pagination__arrow_right),onClick:()=>n(u+1),children:D.jsx(gv,{width:35,height:35,color:g?"secondary":"primary"})})]})}),Cx="_page_13p39_1",Ox="_page__pagination_13p39_12",xw={page:Cx,page__pagination:Ox},Ix="_description_1hjjx_1",Dx={description:Ix},xx=()=>D.jsxs("section",{className:Dx.description,children:[D.jsx(Ke,{tag:"h2",view:"title",color:"primary",children:"Citypedia"}),D.jsx(Ke,{tag:"p",view:"p-20",color:"secondary",children:"Explore major cities around the world and discover key information about each one. Find out their population, capital status, and the country they belong to — all in one place."})]}),Nx="_input_qpz5p_1",Px="_input_focus_qpz5p_8",Mx="_input__field_qpz5p_11",kx="_input__icon_qpz5p_28",Nc={input:Nx,input_focus:Px,input__field:Mx,input__icon:kx},gy=ep.forwardRef(({onChange:t,afterSlot:e,className:n,disabled:r,...a},o)=>{const u=F.useRef(null),[h,d]=F.useState(!1),m=g=>{t(g.target.value)};return D.jsxs("div",{className:at(Nc.input,h&&Nc.input_focus,n),onFocus:()=>d(!0),onBlur:()=>d(!1),tabIndex:1,children:[D.jsx("input",{onChange:m,className:at(Nc.input__field,r&&Nc.input_disabled),disabled:r,ref:o??u,...a}),e&&D.jsx("div",{className:Nc.input__icon,children:e})]})}),Lx="_search_m742h_1",Vx="_search__input_m742h_12",Ux="_search__button_m742h_15",Pc={search:Lx,search__input:Vx,"search__button-second":"_search__button-second_m742h_15",search__button:Ux},jx=kn(({onSearchFilter:t,actionName:e,placeholder:n,className:r,...a})=>{const[o,u]=F.useState(""),h=Mn(),{setSearchQuery:d}=h.filterStore,m=h.filterStore.searchQuery,g=()=>{t==null||t(""),d(""),u("")},y=()=>{zt(()=>{d(o)}),t==null||t(o)};return F.useEffect(()=>{u(m)},[m]),D.jsxs("div",{className:at(Pc.search,r),children:[D.jsx(gy,{value:o,onChange:u,onKeyDown:w=>w.key==="Enter"&&y(),placeholder:n,className:Pc.search__input,...a}),D.jsx(qn,{className:Pc.search__button,onClick:()=>y(),children:e}),D.jsx(qn,{className:at(Pc.search__button,Pc["search__button-second"]),onClick:g,children:"Clear Search"})]})}),Bx=t=>D.jsx(br,{...t,children:D.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.33563 8.74741L3.66436 7.25259L12 14.662L20.3356 7.25259L21.6644 8.74741L12 17.338L2.33563 8.74741Z",fill:"currentColor"})}),zx="_dropdown_1erzg_1",Fx="_dropdown__field_1erzg_5",qx="_dropdown__list_1erzg_12",Hx="_dropdown__list_opened_1erzg_26",$x="_dropdown__item_1erzg_29",Ql={dropdown:zx,dropdown__field:Fx,dropdown__list:qx,dropdown__list_opened:Hx,dropdown__item:$x},Gx=kn(({disabled:t,className:e})=>{const[n,r]=F.useState(""),[a,o]=F.useState(null),[u,h]=F.useState(!1),d=F.useRef(null),m=F.useRef(null),g=Mn(),{setDropdownValue:y}=g.filterStore,w=g.filterStore.dropdownOptions,T=g.filterStore.dropdownTitle,S=g.filterStore.dropdownValue,M=Array.from(new Map(w.filter(x=>x.value.toLowerCase().includes(n.toLowerCase())).map(x=>[x.value.toLowerCase(),x])).values()),I=x=>S.some(te=>te.key===x.key),U=(x,te,k)=>{if(x){const O=S.filter(C=>C.key!==te);y([...O])}else y([...S,{key:te,value:k}])},H=x=>{d.current&&!d.current.contains(x.target)&&h(!1)},X=()=>{var x;(x=m.current)==null||x.focus(),h(!0)};F.useEffect(()=>(document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)),[]),F.useEffect(()=>{u||r("")},[u]);const ie=u||n!==""?n:S.length>0?T:"";return D.jsxs("div",{className:at(Ql.dropdown,e),ref:d,onClick:X,children:[D.jsx(gy,{value:ie,placeholder:T,onChange:x=>{r(x)},afterSlot:D.jsx(Bx,{color:"secondary",className:Ql.dropdown__icon}),className:Ql.dropdown__field,ref:m}),!t&&w.length>0&&u&&D.jsx("ul",{className:at(Ql.dropdown__list,Ql.dropdown__list_opened),children:M.map(x=>{const{key:te,value:k}=x,O=I(x),C=a===x.key,N=O?"accent":C?"secondary":"primary";return D.jsx("li",{className:Ql.dropdown__item,onClick:()=>U(O,te,k),onMouseEnter:()=>{Yd(()=>{o(te)})},onMouseLeave:()=>{Yd(()=>{o(null)})},children:D.jsx(Ke,{view:"p-16",tag:"p",color:N,children:k})},te)})})]})}),Kx="_slider_1w6ap_1",Qx="_slider__range_1w6ap_7",Yx="_slider__track_1w6ap_16",Xx="_slider__marks_1w6ap_21",Wx="_slider__fill_1w6ap_36",Zx="_slider__fill_disabled_1w6ap_41",Jx="_slider__thumb_1w6ap_44",e6="_slider__thumb_disabled_1w6ap_51",Cs={slider:Kx,slider__range:Qx,slider__track:Yx,slider__marks:Xx,"slider__marks-item":"_slider__marks-item_1w6ap_29",slider__fill:Wx,slider__fill_disabled:Zx,slider__thumb:Jx,slider__thumb_disabled:e6},t6=1,n6=8,r6=kn(({min:t=3,max:e=10,className:n,...r})=>{const a=Mn(),{setViewPerPage:o}=a.paginationStore,u=a.paginationStore.viewPerPage,h=a.citiesDataStore.paginatedCities,d=[];for(let w=t;w<=e;w+=t6)d.push(w);const m=w=>(w-t)/(e-t)*100,g=m(u<=e?u:e),y=F.useMemo(()=>h.length<t||h.length>e,[e,t,h]);return D.jsxs("div",{className:at(Cs.slider,n),children:[D.jsx("input",{type:"range",min:t,max:e,onChange:w=>o(Number(w.target.value)),className:Cs.slider__range,disabled:y,...r}),D.jsxs("div",{className:Cs.slider__track,children:[D.jsx("div",{className:Cs.slider__marks,children:d.map(w=>{const T=m(w);return D.jsx("div",{className:Cs["slider__marks-item"],style:{left:`${T}%`}},w)})}),D.jsx("div",{className:at(Cs.slider__fill,y&&Cs.slider__fill_disabled),style:{width:`calc(${g}% + ${n6}px)`}}),D.jsx("div",{className:at(Cs.slider__thumb,y&&Cs.slider__thumb_disabled),style:{left:`${g}%`}})]})]})}),i6="_toolbar_1s8a0_1",s6="_dropdown_1s8a0_13",a6="_counter_1s8a0_18",md={toolbar:i6,"toolbar-container":"_toolbar-container_1s8a0_7",dropdown:s6,counter:a6},o6=kn(()=>{const t=Mn(),e=t.citiesStore.isLoading,n=t.paginationStore.totalPaginatedCities,r=t.citiesDataStore.paginatedCities;return D.jsxs("div",{className:md.toolbar,children:[D.jsxs("div",{className:md["toolbar-container"],children:[D.jsx(jx,{actionName:"Find now",placeholder:"Search City",disabled:e}),D.jsx(Gx,{className:md.dropdown}),D.jsx(r6,{min:3,max:Math.min(n,10)})]}),D.jsxs("div",{className:md.counter,children:[D.jsx(Ke,{tag:"p",view:"title",color:"primary",children:"Total Cities"}),r.length>0&&D.jsx(Ke,{tag:"p",view:"p-20",color:"accent",weight:"bold",children:r.length})]})]})}),l6=kn(()=>{const t=Mn(),e=t.citiesStore.isLoading,n=t.citiesDataStore.paginatedCities,r=t.paginationStore.viewPerPage;return D.jsx(_y,{loadingItems:r,isLoading:e,items:n})}),u6=()=>D.jsxs("div",{className:xw.page,children:[D.jsx(xx,{}),D.jsx(o6,{}),D.jsx(l6,{}),D.jsx(Rx,{className:xw.page__pagination})]}),c6="_page_1mx7c_1",h6="_page__back_1mx7c_12",f6="_page__city_1mx7c_16",d6="_page__related_1mx7c_19",_d={page:c6,page__back:h6,page__city:f6,page__related:d6},p6="_button_2spog_1",m6={button:p6},_6=({children:t,className:e,...n})=>{const r=Vp();return D.jsxs("button",{className:at(m6.button,e),onClick:()=>r(-1),...n,children:[D.jsx(gv,{width:35,height:35,color:"primary"}),D.jsx(Ke,{tag:"p",view:"p-18",children:t})]})},g6=({city:t,action:e,variant:n,isLoading:r=!1,...a})=>{const o=r||!t;return D.jsx(X2,{cityId:(t==null?void 0:t.id)??"",image:t==null?void 0:t.image,title:t==null?void 0:t.name,subtitle:(t==null?void 0:t.population)&&`Population: ${t==null?void 0:t.population}`,captionSlot:(t==null?void 0:t.country)&&`Country: ${t==null?void 0:t.country}`,contentSlot:(t==null?void 0:t.is_capital)&&"Capital",temp:(t==null?void 0:t.temp)&&`Temperature: ${t==null?void 0:t.temp} °C`,localTime:(t==null?void 0:t.localTime)&&`Time now: ${t==null?void 0:t.localTime}`,actionSlot:e,variant:n,isLoading:o,...a})},Nw=6,v6=kn(()=>{const{id:t}=OD(),e=Mn(),{citiesStore:{fetchRelated:n,clearRelated:r,fetchCurrent:a},citiesDataStore:{updateCurrentCity:o}}=e,u=e.citiesStore.isLoading,h=e.citiesDataStore.relatedCities,d=e.citiesDataStore.currentCity;return F.useEffect(()=>(t&&((async()=>await a(t))(),(async()=>await n(Nw,t))()),()=>{r(),zt(()=>{o(null)})}),[t,a,n,r,o]),D.jsxs("div",{className:_d.page,children:[D.jsx(_6,{className:_d.page__back,children:"Back"}),D.jsx(g6,{city:d?{id:d.id,image:d.image,name:d.name,country:d.country,population:d.population,is_capital:d.is_capital,likes:d.likes,temp:d.temp,localTime:d.localTime}:void 0,action:D.jsx(qn,{isLoading:u,children:"Find ticket"}),className:_d.page__city,variant:"single",isLoading:u}),D.jsxs("section",{className:_d.page__related,children:[D.jsx(Ke,{tag:"p",view:"title",color:"primary",children:"Related Cities"}),D.jsx(_y,{loadingItems:Nw,isLoading:u,items:h})]})]})}),y6="_page_1jjpx_1",E6="_page__title_1jjpx_5",b6="_page__description_1jjpx_9",Lg={page:y6,page__title:E6,page__description:b6},w6=()=>D.jsxs("div",{className:Lg.page,children:[D.jsx(Ke,{view:"title",tag:"p",weight:"bold",className:Lg.page__title,children:"404"}),D.jsx(Ke,{view:"p-20",tag:"p",weight:"bold",color:"secondary",className:Lg.page__description,children:"Page Not Found"})]}),T6=m5([{path:Qb.home,element:D.jsx(kg,{header:!0,children:D.jsx(yx,{})})},{path:Qb.cities,element:D.jsx(kg,{header:!0,children:D.jsx(u6,{})})},{path:"/cities/:id",element:D.jsx(kg,{header:!0,children:D.jsx(v6,{})})},{path:"*",element:D.jsx(w6,{})}]),S6=()=>D.jsx(R5,{router:T6}),A6="_modal_4iwlg_1",R6="_modal__close_4iwlg_21",Vg={modal:A6,"modal-overlay":"_modal-overlay_4iwlg_8",modal__close:R6},W2=t=>D.jsx(br,{viewBox:"0 0 18 18",...t,children:D.jsx("path",{d:"M7 9L1 3C0.447715 2.44771 0.447715 1.55228 1 1C1.55228 0.447715 2.44772 0.447715 3 1L9 7L15 1C15.5523 0.447715 16.4477 0.447715 17 1C17.5523 1.55228 17.5523 2.44772 17 3L11 9L17 15C17.5523 15.5523 17.5523 16.4477 17 17C16.4477 17.5523 15.5523 17.5523 15 17L9 11L3 17C2.44771 17.5523 1.55228 17.5523 1 17C0.447715 16.4477 0.447715 15.5523 1 15L7 9Z",fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor"})}),C6=({onClose:t,children:e,className:n})=>{const r=F.useRef(null),a=F.useCallback(h=>{h.key==="Escape"&&(t==null||t())},[t]),o=h=>{r.current=h.target},u=h=>{h.target===h.currentTarget&&r.current===h.currentTarget&&(t==null||t())};return F.useEffect(()=>(window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)),[a]),D.jsx("div",{className:Vg["modal-overlay"],onClick:u,onMouseDown:o,children:D.jsxs("div",{className:at(Vg.modal,n),onClick:h=>h.stopPropagation(),children:[D.jsx("div",{className:Vg.modal__close,onClick:t,children:D.jsx(W2,{height:18,width:18,color:"secondary"})}),e]})})},O6="_modal_r19k1_1",I6={modal:O6},D6="_field_fp6qr_1",x6="_field__error_fp6qr_6",Pw={field:D6,field__error:x6},N6=t=>D.jsx(br,{viewBox:"0 0 24 24",...t,children:D.jsx("path",{d:"M4 11.6129L9.87755 18L20 7",stroke:"currentColor",strokeWidth:"2",fill:"transparent"})}),P6="_checkbox_1a180_1",M6="_checkbox__input_1a180_7",k6="_checkbox__box_1a180_13",L6="_checkbox__box_disabled_1a180_23",V6="_checkbox__icon_1a180_30",U6="_checkbox__icon_disabled_1a180_33",Yl={checkbox:P6,checkbox__input:M6,checkbox__box:k6,checkbox__box_disabled:L6,checkbox__icon:V6,checkbox__icon_disabled:U6},j6=({checked:t,onChange:e,disabled:n,className:r,...a})=>D.jsxs("label",{className:at(Yl.checkbox,r),children:[D.jsx("input",{type:"checkbox",checked:t,disabled:n,onChange:o=>e(o.target.checked),className:Yl.checkbox__input,...a}),D.jsx("span",{className:at(Yl.checkbox__box,n&&Yl.checkbox__box_disabled),children:t&&D.jsx(N6,{width:40,height:40,color:"accent",className:at(Yl.checkbox__icon,n&&Yl.checkbox__icon_disabled)})})]}),Mw=({label:t,type:e,value:n,onChange:r,errors:a,name:o})=>{const u={name:o,[e==="checkbox"?"checked":"value"]:n,...e==="checkbox"?{}:{type:e}};return D.jsxs("div",{className:Pw.field,children:[D.jsx(Ke,{view:"p-14",children:t}),e==="checkbox"?D.jsx(j6,{type:e,checked:n,onChange:r,...u}):D.jsxs(D.Fragment,{children:[D.jsx(gy,{type:e,value:n,onChange:r,...u}),a[o]&&D.jsx(Ke,{view:"p-14",className:Pw.field__error,children:a[o]})]})]})},B6="_form_1aetw_1",z6="_form__action_1aetw_6",F6="_form__error_1aetw_10",Ug={form:B6,form__action:z6,form__error:F6},Bp=({formState:t,handleCheckboxChange:e,handleTextChange:n,fields:r,actionButton:a,errors:o,requestError:u})=>D.jsxs("form",{className:Ug.form,onSubmit:h=>h.preventDefault(),children:[r.map(({name:h,type:d,...m})=>d==="checkbox"?D.jsx(Mw,{name:h,...m,value:t[h],type:"checkbox",onChange:e(h),errors:o},h):D.jsx(Mw,{name:h,...m,value:t[h],type:d,onChange:n(h),errors:o},h)),u&&D.jsx(Ke,{view:"p-20",className:Ug.form__error,children:u}),D.jsx("div",{className:Ug.form__action,children:a})]}),q6=kn(()=>{const t=Mn(),{modalStore:{closeModal:e},userStore:{register:n},toastStore:{showToast:r}}=t,{requestError:a,setRequestError:o,clearError:u}=xh(),h=F.useMemo(()=>[{name:"email",label:"Enter Email",type:"email",value:"",onChange:()=>{},validate:H=>H?H.includes("@")?null:"Email must be valid":"Email is required"},{name:"password",label:"Enter Password",type:"password",value:"",onChange:()=>{},validate:H=>H?H.length<6?"Password must be at least 6 characters":null:"Password is required"}],[]),{formState:d,handleCheckboxChange:m,handleTextChange:g,validate:y,errors:w,isSubmitting:T,setIsSubmitting:S}=jp(h),M=F.useCallback(async()=>{if(!y())return;S(!0);const H=d.email,X=d.password,ie=await n(H,X);if(typeof ie=="string"){S(!1),o(ie);return}S(!1),u(),r("Successfully Register!","success"),e()},[d.email,d.password,e,y,u,o,S,n,r]),I=H=>{Ho(H),M()},U=F.useCallback(H=>{H.key!=="Enter"||T||M()},[M,T]);return F.useEffect(()=>(window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)),[U]),D.jsxs("div",{className:I6.modal,children:[D.jsx(Ke,{view:"title",weight:"bold",tag:"p",children:"Sign Up"}),D.jsx(Bp,{fields:h,formState:d,handleTextChange:g,handleCheckboxChange:m,actionButton:D.jsx(qn,{disabled:T,onClick:I,children:T?"Signing up...":"Sign Up"}),errors:w,requestError:a})]})}),H6="_modal_da0qp_1",$6="_modal__field_da0qp_6",jg={modal:H6,modal__field:$6},G6=kn(()=>{const t=Mn(),{modalStore:{openModal:e,closeModal:n},userStore:{login:r},toastStore:{showToast:a}}=t,{requestError:o,setRequestError:u,clearError:h}=xh(),d=F.useMemo(()=>[{name:"email",label:"Enter Email",type:"email",value:"",onChange:()=>{},validate:X=>X?X.includes("@")?null:"Email must be valid":"Email is required"},{name:"password",label:"Enter Password",type:"password",value:"",onChange:()=>{},validate:X=>X?X.length<6?"Password must be at least 6 characters":null:"Password is required"}],[]),{formState:m,handleCheckboxChange:g,handleTextChange:y,validate:w,errors:T,isSubmitting:S,setIsSubmitting:M}=jp(d),I=F.useCallback(async()=>{if(!w())return;M(!0);const X=m.email,ie=m.password,x=await r(X,ie);if(typeof x=="string"){u(x),M(!1);return}M(!1),h(),a("Successfully Login!","success"),n()},[m.email,m.password,n,w,h,u,M,r,a]),U=X=>{Ho(X),I()},H=F.useCallback(X=>{X.key!=="Enter"||S||I()},[I,S]);return F.useEffect(()=>(window.addEventListener("keydown",H),()=>window.removeEventListener("keydown",H)),[H]),D.jsxs("div",{className:jg.modal,children:[D.jsx(Ke,{view:"title",weight:"bold",tag:"p",children:"Sign In"}),D.jsxs("div",{className:jg.modal__field,children:[D.jsx(Ke,{view:"p-14",tag:"p",children:"Don't have an account yet?"}),D.jsx("div",{className:jg.modal__action,children:D.jsx(qn,{onClick:()=>e("sign-up"),children:"Yes"})})]}),D.jsx(Bp,{fields:d,formState:m,handleTextChange:y,handleCheckboxChange:g,actionButton:D.jsx(qn,{disabled:S,onClick:U,children:S?"Signing in...":"Sign In"}),errors:T,requestError:o})]})}),K6="_modal_r19k1_1",Q6={modal:K6},Y6=()=>{};var kw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},X6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],u=t[n++],h=t[n++],d=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},J2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],u=a+1<t.length,h=u?t[a+1]:0,d=a+2<t.length,m=d?t[a+2]:0,g=o>>2,y=(o&3)<<4|h>>4;let w=(h&15)<<2|m>>6,T=m&63;d||(T=64,u||(w=64)),r.push(n[g],n[y],n[w],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Z2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):X6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const y=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||h==null||m==null||y==null)throw new W6;const w=o<<2|h>>4;if(r.push(w),m!==64){const T=h<<4&240|m>>2;if(r.push(T),y!==64){const S=m<<6&192|y;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class W6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Z6=function(t){const e=Z2(t);return J2.encodeByteArray(e,!0)},ip=function(t){return Z6(t).replace(/\./g,"")},eA=function(t){try{return J2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=()=>J6().__FIREBASE_DEFAULTS__,tN=()=>{if(typeof process>"u"||typeof kw>"u")return;const t=kw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eA(t[1]);return e&&JSON.parse(e)},zp=()=>{try{return Y6()||eN()||tN()||nN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tA=t=>{var e,n;return(n=(e=zp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nA=t=>{const e=tA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rA=()=>{var t;return(t=zp())===null||t===void 0?void 0:t.config},iA=t=>{var e;return(e=zp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ip(JSON.stringify(n)),ip(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function sN(){var t;const e=(t=zp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uN(){const t=Hn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cN(){return!sN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hN(){try{return typeof indexedDB=="object"}catch{return!1}}function fN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="FirebaseError";class $n extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dN,Object.setPrototypeOf(this,$n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nh.prototype.create)}}class Nh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?pN(o,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new $n(a,h,r)}}function pN(t,e){return t.replace(mN,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const mN=/\{\$([^}]+)}/g;function _N(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $o(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],u=e[a];if(Lw(o)&&Lw(u)){if(!$o(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function Lw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function zc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function gN(t,e){const n=new vN(t,e);return n.subscribe.bind(n)}class vN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");yN(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Bg),a.error===void 0&&(a.error=Bg),a.complete===void 0&&(a.complete=Bg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Bg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t){return t&&t._delegate?t._delegate:t}class La{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wN(e))try{this.getOrInitializeService({instanceIdentifier:Po})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Po){return this.instances.has(e)}getOptions(e=Po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(a)}return a}onInit(e,n){var r;const a=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Po){return this.component?this.component.multipleInstances?e:Po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bN(t){return t===Po?void 0:t}function wN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new EN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const SN={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},AN=it.INFO,RN={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},CN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=RN[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vy{constructor(e){this.name=e,this._logLevel=AN,this._logHandler=CN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const ON=(t,e)=>e.some(n=>t instanceof n);let Vw,Uw;function IN(){return Vw||(Vw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DN(){return Uw||(Uw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aA=new WeakMap,vv=new WeakMap,oA=new WeakMap,zg=new WeakMap,yy=new WeakMap;function xN(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(xa(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&aA.set(n,t)}).catch(()=>{}),yy.set(e,t),e}function NN(t){if(vv.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});vv.set(t,e)}let yv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PN(t){yv=t(yv)}function MN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fg(this),e,...n);return oA.set(r,e.sort?e.sort():[e]),xa(r)}:DN().includes(t)?function(...e){return t.apply(Fg(this),e),xa(aA.get(this))}:function(...e){return xa(t.apply(Fg(this),e))}}function kN(t){return typeof t=="function"?MN(t):(t instanceof IDBTransaction&&NN(t),ON(t,IN())?new Proxy(t,yv):t)}function xa(t){if(t instanceof IDBRequest)return xN(t);if(zg.has(t))return zg.get(t);const e=kN(t);return e!==t&&(zg.set(t,e),yy.set(e,t)),e}const Fg=t=>yy.get(t);function LN(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(t,e),h=xa(u);return r&&u.addEventListener("upgradeneeded",d=>{r(xa(u.result),d.oldVersion,d.newVersion,xa(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const VN=["get","getKey","getAll","getAllKeys","count"],UN=["put","add","delete","clear"],qg=new Map;function jw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qg.get(e))return qg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=UN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||VN.includes(n)))return;const o=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let m=d.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),a&&d.done]))[0]};return qg.set(e,o),o}PN(t=>({...t,get:(e,n,r)=>jw(e,n)||t.get(e,n,r),has:(e,n)=>!!jw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function BN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ev="@firebase/app",Bw="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new vy("@firebase/app"),zN="@firebase/app-compat",FN="@firebase/analytics-compat",qN="@firebase/analytics",HN="@firebase/app-check-compat",$N="@firebase/app-check",GN="@firebase/auth",KN="@firebase/auth-compat",QN="@firebase/database",YN="@firebase/data-connect",XN="@firebase/database-compat",WN="@firebase/functions",ZN="@firebase/functions-compat",JN="@firebase/installations",e8="@firebase/installations-compat",t8="@firebase/messaging",n8="@firebase/messaging-compat",r8="@firebase/performance",i8="@firebase/performance-compat",s8="@firebase/remote-config",a8="@firebase/remote-config-compat",o8="@firebase/storage",l8="@firebase/storage-compat",u8="@firebase/firestore",c8="@firebase/vertexai",h8="@firebase/firestore-compat",f8="firebase",d8="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="[DEFAULT]",p8={[Ev]:"fire-core",[zN]:"fire-core-compat",[qN]:"fire-analytics",[FN]:"fire-analytics-compat",[$N]:"fire-app-check",[HN]:"fire-app-check-compat",[GN]:"fire-auth",[KN]:"fire-auth-compat",[QN]:"fire-rtdb",[YN]:"fire-data-connect",[XN]:"fire-rtdb-compat",[WN]:"fire-fn",[ZN]:"fire-fn-compat",[JN]:"fire-iid",[e8]:"fire-iid-compat",[t8]:"fire-fcm",[n8]:"fire-fcm-compat",[r8]:"fire-perf",[i8]:"fire-perf-compat",[s8]:"fire-rc",[a8]:"fire-rc-compat",[o8]:"fire-gcs",[l8]:"fire-gcs-compat",[u8]:"fire-fst",[h8]:"fire-fst-compat",[c8]:"fire-vertex","fire-js":"fire-js",[f8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=new Map,m8=new Map,wv=new Map;function zw(t,e){try{t.container.addComponent(e)}catch(n){Us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Go(t){const e=t.name;if(wv.has(e))return Us.debug(`There were multiple attempts to register component ${e}.`),!1;wv.set(e,t);for(const n of sp.values())zw(n,t);for(const n of m8.values())zw(n,t);return!0}function Fp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Na=new Nh("app","Firebase",_8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new La("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=d8;function lA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:bv,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw Na.create("bad-app-name",{appName:String(a)});if(n||(n=rA()),!n)throw Na.create("no-options");const o=sp.get(a);if(o){if($o(n,o.options)&&$o(r,o.config))return o;throw Na.create("duplicate-app",{appName:a})}const u=new TN(a);for(const d of wv.values())u.addComponent(d);const h=new g8(n,r,u);return sp.set(a,h),h}function Ey(t=bv){const e=sp.get(t);if(!e&&t===bv&&rA())return lA();if(!e)throw Na.create("no-app",{appName:t});return e}function ji(t,e,n){var r;let a=(r=p8[t])!==null&&r!==void 0?r:t;n&&(a+=`-${n}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${a}" with version "${e}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Us.warn(h.join(" "));return}Go(new La(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8="firebase-heartbeat-database",y8=1,ah="firebase-heartbeat-store";let Hg=null;function uA(){return Hg||(Hg=LN(v8,y8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ah)}catch(n){console.warn(n)}}}}).catch(t=>{throw Na.create("idb-open",{originalErrorMessage:t.message})})),Hg}async function E8(t){try{const n=(await uA()).transaction(ah),r=await n.objectStore(ah).get(cA(t));return await n.done,r}catch(e){if(e instanceof $n)Us.warn(e.message);else{const n=Na.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Us.warn(n.message)}}}async function Fw(t,e){try{const r=(await uA()).transaction(ah,"readwrite");await r.objectStore(ah).put(e,cA(t)),await r.done}catch(n){if(n instanceof $n)Us.warn(n.message);else{const r=Na.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Us.warn(r.message)}}}function cA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8=1024,w8=30;class T8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new A8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=qw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>w8){const u=R8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Us.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=qw(),{heartbeatsToSend:r,unsentEntries:a}=S8(this._heartbeatsCache.heartbeats),o=ip(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Us.warn(n),""}}}function qw(){return new Date().toISOString().substring(0,10)}function S8(t,e=b8){const n=[];let r=t.slice();for(const a of t){const o=n.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),Hw(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Hw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class A8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hN()?fN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await E8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Fw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Fw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Hw(t){return ip(JSON.stringify({version:2,heartbeats:t})).length}function R8(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C8(t){Go(new La("platform-logger",e=>new jN(e),"PRIVATE")),Go(new La("heartbeat",e=>new T8(e),"PRIVATE")),ji(Ev,Bw,t),ji(Ev,Bw,"esm2017"),ji("fire-js","")}C8("");var O8="firebase",I8="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ji(O8,I8,"app");var $w=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pa,hA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,O){function C(){}C.prototype=O.prototype,k.D=O.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(N,B,$){for(var L=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)L[xt-2]=arguments[xt];return O.prototype[B].apply(N,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,O,C){C||(C=0);var N=Array(16);if(typeof O=="string")for(var B=0;16>B;++B)N[B]=O.charCodeAt(C++)|O.charCodeAt(C++)<<8|O.charCodeAt(C++)<<16|O.charCodeAt(C++)<<24;else for(B=0;16>B;++B)N[B]=O[C++]|O[C++]<<8|O[C++]<<16|O[C++]<<24;O=k.g[0],C=k.g[1],B=k.g[2];var $=k.g[3],L=O+($^C&(B^$))+N[0]+3614090360&4294967295;O=C+(L<<7&4294967295|L>>>25),L=$+(B^O&(C^B))+N[1]+3905402710&4294967295,$=O+(L<<12&4294967295|L>>>20),L=B+(C^$&(O^C))+N[2]+606105819&4294967295,B=$+(L<<17&4294967295|L>>>15),L=C+(O^B&($^O))+N[3]+3250441966&4294967295,C=B+(L<<22&4294967295|L>>>10),L=O+($^C&(B^$))+N[4]+4118548399&4294967295,O=C+(L<<7&4294967295|L>>>25),L=$+(B^O&(C^B))+N[5]+1200080426&4294967295,$=O+(L<<12&4294967295|L>>>20),L=B+(C^$&(O^C))+N[6]+2821735955&4294967295,B=$+(L<<17&4294967295|L>>>15),L=C+(O^B&($^O))+N[7]+4249261313&4294967295,C=B+(L<<22&4294967295|L>>>10),L=O+($^C&(B^$))+N[8]+1770035416&4294967295,O=C+(L<<7&4294967295|L>>>25),L=$+(B^O&(C^B))+N[9]+2336552879&4294967295,$=O+(L<<12&4294967295|L>>>20),L=B+(C^$&(O^C))+N[10]+4294925233&4294967295,B=$+(L<<17&4294967295|L>>>15),L=C+(O^B&($^O))+N[11]+2304563134&4294967295,C=B+(L<<22&4294967295|L>>>10),L=O+($^C&(B^$))+N[12]+1804603682&4294967295,O=C+(L<<7&4294967295|L>>>25),L=$+(B^O&(C^B))+N[13]+4254626195&4294967295,$=O+(L<<12&4294967295|L>>>20),L=B+(C^$&(O^C))+N[14]+2792965006&4294967295,B=$+(L<<17&4294967295|L>>>15),L=C+(O^B&($^O))+N[15]+1236535329&4294967295,C=B+(L<<22&4294967295|L>>>10),L=O+(B^$&(C^B))+N[1]+4129170786&4294967295,O=C+(L<<5&4294967295|L>>>27),L=$+(C^B&(O^C))+N[6]+3225465664&4294967295,$=O+(L<<9&4294967295|L>>>23),L=B+(O^C&($^O))+N[11]+643717713&4294967295,B=$+(L<<14&4294967295|L>>>18),L=C+($^O&(B^$))+N[0]+3921069994&4294967295,C=B+(L<<20&4294967295|L>>>12),L=O+(B^$&(C^B))+N[5]+3593408605&4294967295,O=C+(L<<5&4294967295|L>>>27),L=$+(C^B&(O^C))+N[10]+38016083&4294967295,$=O+(L<<9&4294967295|L>>>23),L=B+(O^C&($^O))+N[15]+3634488961&4294967295,B=$+(L<<14&4294967295|L>>>18),L=C+($^O&(B^$))+N[4]+3889429448&4294967295,C=B+(L<<20&4294967295|L>>>12),L=O+(B^$&(C^B))+N[9]+568446438&4294967295,O=C+(L<<5&4294967295|L>>>27),L=$+(C^B&(O^C))+N[14]+3275163606&4294967295,$=O+(L<<9&4294967295|L>>>23),L=B+(O^C&($^O))+N[3]+4107603335&4294967295,B=$+(L<<14&4294967295|L>>>18),L=C+($^O&(B^$))+N[8]+1163531501&4294967295,C=B+(L<<20&4294967295|L>>>12),L=O+(B^$&(C^B))+N[13]+2850285829&4294967295,O=C+(L<<5&4294967295|L>>>27),L=$+(C^B&(O^C))+N[2]+4243563512&4294967295,$=O+(L<<9&4294967295|L>>>23),L=B+(O^C&($^O))+N[7]+1735328473&4294967295,B=$+(L<<14&4294967295|L>>>18),L=C+($^O&(B^$))+N[12]+2368359562&4294967295,C=B+(L<<20&4294967295|L>>>12),L=O+(C^B^$)+N[5]+4294588738&4294967295,O=C+(L<<4&4294967295|L>>>28),L=$+(O^C^B)+N[8]+2272392833&4294967295,$=O+(L<<11&4294967295|L>>>21),L=B+($^O^C)+N[11]+1839030562&4294967295,B=$+(L<<16&4294967295|L>>>16),L=C+(B^$^O)+N[14]+4259657740&4294967295,C=B+(L<<23&4294967295|L>>>9),L=O+(C^B^$)+N[1]+2763975236&4294967295,O=C+(L<<4&4294967295|L>>>28),L=$+(O^C^B)+N[4]+1272893353&4294967295,$=O+(L<<11&4294967295|L>>>21),L=B+($^O^C)+N[7]+4139469664&4294967295,B=$+(L<<16&4294967295|L>>>16),L=C+(B^$^O)+N[10]+3200236656&4294967295,C=B+(L<<23&4294967295|L>>>9),L=O+(C^B^$)+N[13]+681279174&4294967295,O=C+(L<<4&4294967295|L>>>28),L=$+(O^C^B)+N[0]+3936430074&4294967295,$=O+(L<<11&4294967295|L>>>21),L=B+($^O^C)+N[3]+3572445317&4294967295,B=$+(L<<16&4294967295|L>>>16),L=C+(B^$^O)+N[6]+76029189&4294967295,C=B+(L<<23&4294967295|L>>>9),L=O+(C^B^$)+N[9]+3654602809&4294967295,O=C+(L<<4&4294967295|L>>>28),L=$+(O^C^B)+N[12]+3873151461&4294967295,$=O+(L<<11&4294967295|L>>>21),L=B+($^O^C)+N[15]+530742520&4294967295,B=$+(L<<16&4294967295|L>>>16),L=C+(B^$^O)+N[2]+3299628645&4294967295,C=B+(L<<23&4294967295|L>>>9),L=O+(B^(C|~$))+N[0]+4096336452&4294967295,O=C+(L<<6&4294967295|L>>>26),L=$+(C^(O|~B))+N[7]+1126891415&4294967295,$=O+(L<<10&4294967295|L>>>22),L=B+(O^($|~C))+N[14]+2878612391&4294967295,B=$+(L<<15&4294967295|L>>>17),L=C+($^(B|~O))+N[5]+4237533241&4294967295,C=B+(L<<21&4294967295|L>>>11),L=O+(B^(C|~$))+N[12]+1700485571&4294967295,O=C+(L<<6&4294967295|L>>>26),L=$+(C^(O|~B))+N[3]+2399980690&4294967295,$=O+(L<<10&4294967295|L>>>22),L=B+(O^($|~C))+N[10]+4293915773&4294967295,B=$+(L<<15&4294967295|L>>>17),L=C+($^(B|~O))+N[1]+2240044497&4294967295,C=B+(L<<21&4294967295|L>>>11),L=O+(B^(C|~$))+N[8]+1873313359&4294967295,O=C+(L<<6&4294967295|L>>>26),L=$+(C^(O|~B))+N[15]+4264355552&4294967295,$=O+(L<<10&4294967295|L>>>22),L=B+(O^($|~C))+N[6]+2734768916&4294967295,B=$+(L<<15&4294967295|L>>>17),L=C+($^(B|~O))+N[13]+1309151649&4294967295,C=B+(L<<21&4294967295|L>>>11),L=O+(B^(C|~$))+N[4]+4149444226&4294967295,O=C+(L<<6&4294967295|L>>>26),L=$+(C^(O|~B))+N[11]+3174756917&4294967295,$=O+(L<<10&4294967295|L>>>22),L=B+(O^($|~C))+N[2]+718787259&4294967295,B=$+(L<<15&4294967295|L>>>17),L=C+($^(B|~O))+N[9]+3951481745&4294967295,k.g[0]=k.g[0]+O&4294967295,k.g[1]=k.g[1]+(B+(L<<21&4294967295|L>>>11))&4294967295,k.g[2]=k.g[2]+B&4294967295,k.g[3]=k.g[3]+$&4294967295}r.prototype.u=function(k,O){O===void 0&&(O=k.length);for(var C=O-this.blockSize,N=this.B,B=this.h,$=0;$<O;){if(B==0)for(;$<=C;)a(this,k,$),$+=this.blockSize;if(typeof k=="string"){for(;$<O;)if(N[B++]=k.charCodeAt($++),B==this.blockSize){a(this,N),B=0;break}}else for(;$<O;)if(N[B++]=k[$++],B==this.blockSize){a(this,N),B=0;break}}this.h=B,this.o+=O},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var O=1;O<k.length-8;++O)k[O]=0;var C=8*this.o;for(O=k.length-8;O<k.length;++O)k[O]=C&255,C/=256;for(this.u(k),k=Array(16),O=C=0;4>O;++O)for(var N=0;32>N;N+=8)k[C++]=this.g[O]>>>N&255;return k};function o(k,O){var C=h;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=O(k)}function u(k,O){this.h=O;for(var C=[],N=!0,B=k.length-1;0<=B;B--){var $=k[B]|0;N&&$==O||(C[B]=$,N=!1)}this.g=C}var h={};function d(k){return-128<=k&&128>k?o(k,function(O){return new u([O|0],0>O?-1:0)}):new u([k|0],0>k?-1:0)}function m(k){if(isNaN(k)||!isFinite(k))return y;if(0>k)return I(m(-k));for(var O=[],C=1,N=0;k>=C;N++)O[N]=k/C|0,C*=4294967296;return new u(O,0)}function g(k,O){if(k.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(k.charAt(0)=="-")return I(g(k.substring(1),O));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(O,8)),N=y,B=0;B<k.length;B+=8){var $=Math.min(8,k.length-B),L=parseInt(k.substring(B,B+$),O);8>$?($=m(Math.pow(O,$)),N=N.j($).add(m(L))):(N=N.j(C),N=N.add(m(L)))}return N}var y=d(0),w=d(1),T=d(16777216);t=u.prototype,t.m=function(){if(M(this))return-I(this).m();for(var k=0,O=1,C=0;C<this.g.length;C++){var N=this.i(C);k+=(0<=N?N:4294967296+N)*O,O*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(S(this))return"0";if(M(this))return"-"+I(this).toString(k);for(var O=m(Math.pow(k,6)),C=this,N="";;){var B=ie(C,O).g;C=U(C,B.j(O));var $=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=B,S(C))return $+N;for(;6>$.length;)$="0"+$;N=$+N}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function S(k){if(k.h!=0)return!1;for(var O=0;O<k.g.length;O++)if(k.g[O]!=0)return!1;return!0}function M(k){return k.h==-1}t.l=function(k){return k=U(this,k),M(k)?-1:S(k)?0:1};function I(k){for(var O=k.g.length,C=[],N=0;N<O;N++)C[N]=~k.g[N];return new u(C,~k.h).add(w)}t.abs=function(){return M(this)?I(this):this},t.add=function(k){for(var O=Math.max(this.g.length,k.g.length),C=[],N=0,B=0;B<=O;B++){var $=N+(this.i(B)&65535)+(k.i(B)&65535),L=($>>>16)+(this.i(B)>>>16)+(k.i(B)>>>16);N=L>>>16,$&=65535,L&=65535,C[B]=L<<16|$}return new u(C,C[C.length-1]&-2147483648?-1:0)};function U(k,O){return k.add(I(O))}t.j=function(k){if(S(this)||S(k))return y;if(M(this))return M(k)?I(this).j(I(k)):I(I(this).j(k));if(M(k))return I(this.j(I(k)));if(0>this.l(T)&&0>k.l(T))return m(this.m()*k.m());for(var O=this.g.length+k.g.length,C=[],N=0;N<2*O;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var B=0;B<k.g.length;B++){var $=this.i(N)>>>16,L=this.i(N)&65535,xt=k.i(B)>>>16,je=k.i(B)&65535;C[2*N+2*B]+=L*je,H(C,2*N+2*B),C[2*N+2*B+1]+=$*je,H(C,2*N+2*B+1),C[2*N+2*B+1]+=L*xt,H(C,2*N+2*B+1),C[2*N+2*B+2]+=$*xt,H(C,2*N+2*B+2)}for(N=0;N<O;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=O;N<2*O;N++)C[N]=0;return new u(C,0)};function H(k,O){for(;(k[O]&65535)!=k[O];)k[O+1]+=k[O]>>>16,k[O]&=65535,O++}function X(k,O){this.g=k,this.h=O}function ie(k,O){if(S(O))throw Error("division by zero");if(S(k))return new X(y,y);if(M(k))return O=ie(I(k),O),new X(I(O.g),I(O.h));if(M(O))return O=ie(k,I(O)),new X(I(O.g),O.h);if(30<k.g.length){if(M(k)||M(O))throw Error("slowDivide_ only works with positive integers.");for(var C=w,N=O;0>=N.l(k);)C=x(C),N=x(N);var B=te(C,1),$=te(N,1);for(N=te(N,2),C=te(C,2);!S(N);){var L=$.add(N);0>=L.l(k)&&(B=B.add(C),$=L),N=te(N,1),C=te(C,1)}return O=U(k,B.j(O)),new X(B,O)}for(B=y;0<=k.l(O);){for(C=Math.max(1,Math.floor(k.m()/O.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),$=m(C),L=$.j(O);M(L)||0<L.l(k);)C-=N,$=m(C),L=$.j(O);S($)&&($=w),B=B.add($),k=U(k,L)}return new X(B,k)}t.A=function(k){return ie(this,k).h},t.and=function(k){for(var O=Math.max(this.g.length,k.g.length),C=[],N=0;N<O;N++)C[N]=this.i(N)&k.i(N);return new u(C,this.h&k.h)},t.or=function(k){for(var O=Math.max(this.g.length,k.g.length),C=[],N=0;N<O;N++)C[N]=this.i(N)|k.i(N);return new u(C,this.h|k.h)},t.xor=function(k){for(var O=Math.max(this.g.length,k.g.length),C=[],N=0;N<O;N++)C[N]=this.i(N)^k.i(N);return new u(C,this.h^k.h)};function x(k){for(var O=k.g.length+1,C=[],N=0;N<O;N++)C[N]=k.i(N)<<1|k.i(N-1)>>>31;return new u(C,k.h)}function te(k,O){var C=O>>5;O%=32;for(var N=k.g.length-C,B=[],$=0;$<N;$++)B[$]=0<O?k.i($+C)>>>O|k.i($+C+1)<<32-O:k.i($+C);return new u(B,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,hA=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=g,Pa=u}).apply(typeof $w<"u"?$w:typeof self<"u"?self:typeof window<"u"?window:{});var gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fA,Fc,dA,Nd,Tv,pA,mA,_A;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,E){return f==Array.prototype||f==Object.prototype||(f[v]=E.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof gd=="object"&&gd];for(var v=0;v<f.length;++v){var E=f[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function a(f,v){if(v)e:{var E=r;f=f.split(".");for(var R=0;R<f.length-1;R++){var Q=f[R];if(!(Q in E))break e;E=E[Q]}f=f[f.length-1],R=E[f],v=v(R),v!=R&&v!=null&&e(E,f,{configurable:!0,writable:!0,value:v})}}function o(f,v){f instanceof String&&(f+="");var E=0,R=!1,Q={next:function(){if(!R&&E<f.length){var J=E++;return{value:v(J,f[J]),done:!1}}return R=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}a("Array.prototype.values",function(f){return f||function(){return o(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function m(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function g(f,v,E){return f.call.apply(f.bind,arguments)}function y(f,v,E){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,R),f.apply(v,Q)}}return function(){return f.apply(v,arguments)}}function w(f,v,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:y,w.apply(null,arguments)}function T(f,v){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function S(f,v){function E(){}E.prototype=v.prototype,f.aa=v.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(R,Q,J){for(var he=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)he[ct-2]=arguments[ct];return v.prototype[Q].apply(R,he)}}function M(f){const v=f.length;if(0<v){const E=Array(v);for(let R=0;R<v;R++)E[R]=f[R];return E}return[]}function I(f,v){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(d(R)){const Q=f.length||0,J=R.length||0;f.length=Q+J;for(let he=0;he<J;he++)f[Q+he]=R[he]}else f.push(R)}}class U{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function H(f){return/^[\s\xa0]*$/.test(f)}function X(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function ie(f){return ie[" "](f),f}ie[" "]=function(){};var x=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function te(f,v,E){for(const R in f)v.call(E,f[R],R,f)}function k(f,v){for(const E in f)v.call(void 0,f[E],E,f)}function O(f){const v={};for(const E in f)v[E]=f[E];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(f,v){let E,R;for(let Q=1;Q<arguments.length;Q++){R=arguments[Q];for(E in R)f[E]=R[E];for(let J=0;J<C.length;J++)E=C[J],Object.prototype.hasOwnProperty.call(R,E)&&(f[E]=R[E])}}function B(f){var v=1;f=f.split(":");const E=[];for(;0<v&&f.length;)E.push(f.shift()),v--;return f.length&&E.push(f.join(":")),E}function $(f){h.setTimeout(()=>{throw f},0)}function L(){var f=Xe;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class xt{constructor(){this.h=this.g=null}add(v,E){const R=je.get();R.set(v,E),this.h?this.h.next=R:this.g=R,this.h=R}}var je=new U(()=>new de,f=>f.reset());class de{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Oe,Re=!1,Xe=new xt,j=()=>{const f=h.Promise.resolve(void 0);Oe=()=>{f.then(ce)}};var ce=()=>{for(var f;f=L();){try{f.h.call(f.g)}catch(E){$(E)}var v=je;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}Re=!1};function be(){this.s=this.s,this.C=this.C}be.prototype.s=!1,be.prototype.ma=function(){this.s||(this.s=!0,this.N())},be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};h.addEventListener("test",E,v),h.removeEventListener("test",E,v)}catch{}return f}();function Be(f,v){if(ge.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(x){e:{try{ie(v.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(v=null)}}else E=="mouseover"?v=f.fromElement:E=="mouseout"&&(v=f.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ge[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Be.aa.h.call(this)}}S(Be,ge);var Ge={2:"touch",3:"pen",4:"mouse"};Be.prototype.h=function(){Be.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var qt="closure_listenable_"+(1e6*Math.random()|0),ut=0;function et(f,v,E,R,Q){this.listener=f,this.proxy=null,this.src=v,this.type=E,this.capture=!!R,this.ha=Q,this.key=++ut,this.da=this.fa=!1}function rt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function pn(f){this.src=f,this.g={},this.h=0}pn.prototype.add=function(f,v,E,R,Q){var J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);var he=Jt(f,v,R,Q);return-1<he?(v=f[he],E||(v.fa=!1)):(v=new et(v,this.src,J,!!R,Q),v.fa=E,f.push(v)),v};function Qr(f,v){var E=v.type;if(E in f.g){var R=f.g[E],Q=Array.prototype.indexOf.call(R,v,void 0),J;(J=0<=Q)&&Array.prototype.splice.call(R,Q,1),J&&(rt(v),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Jt(f,v,E,R){for(var Q=0;Q<f.length;++Q){var J=f[Q];if(!J.da&&J.listener==v&&J.capture==!!E&&J.ha==R)return Q}return-1}var di="closure_lm_"+(1e6*Math.random()|0),pi={};function wr(f,v,E,R,Q){if(Array.isArray(v)){for(var J=0;J<v.length;J++)wr(f,v[J],E,R,Q);return null}return E=ar(E),f&&f[qt]?f.K(v,E,m(R)?!!R.capture:!1,Q):Ja(f,v,E,!1,R,Q)}function Ja(f,v,E,R,Q,J){if(!v)throw Error("Invalid event type");var he=m(Q)?!!Q.capture:!!Q,ct=$s(f);if(ct||(f[di]=ct=new pn(f)),E=ct.add(v,E,R,he,J),E.proxy)return E;if(R=qs(),E.proxy=R,R.src=f,R.listener=E,f.addEventListener)Ee||(Q=he),Q===void 0&&(Q=!1),f.addEventListener(v.toString(),R,Q);else if(f.attachEvent)f.attachEvent(Jn(v.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function qs(){function f(E){return v.call(f.src,f.listener,E)}const v=ts;return f}function Hs(f,v,E,R,Q){if(Array.isArray(v))for(var J=0;J<v.length;J++)Hs(f,v[J],E,R,Q);else R=m(R)?!!R.capture:!!R,E=ar(E),f&&f[qt]?(f=f.i,v=String(v).toString(),v in f.g&&(J=f.g[v],E=Jt(J,E,R,Q),-1<E&&(rt(J[E]),Array.prototype.splice.call(J,E,1),J.length==0&&(delete f.g[v],f.h--)))):f&&(f=$s(f))&&(v=f.g[v.toString()],f=-1,v&&(f=Jt(v,E,R,Q)),(E=-1<f?v[f]:null)&&es(E))}function es(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[qt])Qr(v.i,f);else{var E=f.type,R=f.proxy;v.removeEventListener?v.removeEventListener(E,R,f.capture):v.detachEvent?v.detachEvent(Jn(E),R):v.addListener&&v.removeListener&&v.removeListener(R),(E=$s(v))?(Qr(E,f),E.h==0&&(E.src=null,v[di]=null)):rt(f)}}}function Jn(f){return f in pi?pi[f]:pi[f]="on"+f}function ts(f,v){if(f.da)f=!0;else{v=new Be(v,this);var E=f.listener,R=f.ha||f.src;f.fa&&es(f),f=E.call(R,v)}return f}function $s(f){return f=f[di],f instanceof pn?f:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ar(f){return typeof f=="function"?f:(f[mn]||(f[mn]=function(v){return f.handleEvent(v)}),f[mn])}function At(){be.call(this),this.i=new pn(this),this.M=this,this.F=null}S(At,be),At.prototype[qt]=!0,At.prototype.removeEventListener=function(f,v,E,R){Hs(this,f,v,E,R)};function Yt(f,v){var E,R=f.F;if(R)for(E=[];R;R=R.F)E.push(R);if(f=f.M,R=v.type||v,typeof v=="string")v=new ge(v,f);else if(v instanceof ge)v.target=v.target||f;else{var Q=v;v=new ge(R,f),N(v,Q)}if(Q=!0,E)for(var J=E.length-1;0<=J;J--){var he=v.g=E[J];Q=or(he,R,!0,v)&&Q}if(he=v.g=f,Q=or(he,R,!0,v)&&Q,Q=or(he,R,!1,v)&&Q,E)for(J=0;J<E.length;J++)he=v.g=E[J],Q=or(he,R,!1,v)&&Q}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var E=f.g[v],R=0;R<E.length;R++)rt(E[R]);delete f.g[v],f.h--}}this.F=null},At.prototype.K=function(f,v,E,R){return this.i.add(String(f),v,!1,E,R)},At.prototype.L=function(f,v,E,R){return this.i.add(String(f),v,!0,E,R)};function or(f,v,E,R){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var Q=!0,J=0;J<v.length;++J){var he=v[J];if(he&&!he.da&&he.capture==E){var ct=he.listener,un=he.ha||he.src;he.fa&&Qr(f.i,he),Q=ct.call(un,R)!==!1&&Q}}return Q&&!R.defaultPrevented}function al(f,v,E){if(typeof f=="function")E&&(f=w(f,E));else if(f&&typeof f.handleEvent=="function")f=w(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(f,v||0)}function er(f){f.g=al(()=>{f.g=null,f.i&&(f.i=!1,er(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class ol extends be{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:er(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mi(f){be.call(this),this.h=f,this.g={}}S(mi,be);var Yr=[];function _n(f){te(f.g,function(v,E){this.g.hasOwnProperty(E)&&es(v)},f),f.g={}}mi.prototype.N=function(){mi.aa.N.call(this),_n(this)},mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gs=h.JSON.stringify,Gn=h.JSON.parse,gn=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function ns(){}ns.prototype.h=null;function ll(f){return f.h||(f.h=f.i())}function eo(){}var Tr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xr(){ge.call(this,"d")}S(Xr,ge);function Ln(){ge.call(this,"c")}S(Ln,ge);var Rn={},_i=null;function Ks(){return _i=_i||new At}Rn.La="serverreachability";function V(f){ge.call(this,Rn.La,f)}S(V,ge);function G(f){const v=Ks();Yt(v,new V(v))}Rn.STAT_EVENT="statevent";function Z(f,v){ge.call(this,Rn.STAT_EVENT,f),this.stat=v}S(Z,ge);function ae(f){const v=Ks();Yt(v,new Z(v,f))}Rn.Ma="timingevent";function _e(f,v){ge.call(this,Rn.Ma,f),this.size=v}S(_e,ge);function Ne(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},v)}function xe(){this.g=!0}xe.prototype.xa=function(){this.g=!1};function Ce(f,v,E,R,Q,J){f.info(function(){if(f.g)if(J)for(var he="",ct=J.split("&"),un=0;un<ct.length;un++){var ht=ct[un].split("=");if(1<ht.length){var En=ht[0];ht=ht[1];var cn=En.split("_");he=2<=cn.length&&cn[1]=="type"?he+(En+"="+ht+"&"):he+(En+"=redacted&")}}else he=null;else he=J;return"XMLHTTP REQ ("+R+") [attempt "+Q+"]: "+v+`
`+E+`
`+he})}function Ie(f,v,E,R,Q,J,he){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Q+"]: "+v+`
`+E+`
`+J+" "+he})}function ye(f,v,E,R){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+Se(f,E)+(R?" "+R:"")})}function Te(f,v){f.info(function(){return"TIMEOUT: "+v})}xe.prototype.info=function(){};function Se(f,v){if(!f.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var R=E[f];if(!(2>R.length)){var Q=R[1];if(Array.isArray(Q)&&!(1>Q.length)){var J=Q[0];if(J!="noop"&&J!="stop"&&J!="close")for(var he=1;he<Q.length;he++)Q[he]=""}}}}return Gs(E)}catch{return v}}var ke={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_t={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ut;function Ot(){}S(Ot,ns),Ot.prototype.g=function(){return new XMLHttpRequest},Ot.prototype.i=function(){return{}},Ut=new Ot;function mt(f,v,E,R){this.j=f,this.i=v,this.l=E,this.R=R||1,this.U=new mi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vt}function Vt(){this.i=null,this.g="",this.h=!1}var Kn={},lr={};function Xt(f,v,E){f.L=1,f.v=io(Ht(v)),f.m=E,f.P=!0,en(f,null)}function en(f,v){f.F=Date.now(),bt(f),f.A=Ht(f.v);var E=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),as(E.i,"t",R),f.C=0,E=f.j.J,f.h=new Vt,f.g=sf(f.j,E?v:null,!f.m),0<f.O&&(f.M=new ol(w(f.Y,f,f.g),f.O)),v=f.U,E=f.g,R=f.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Yr[0]=Q.toString()),Q=Yr);for(var J=0;J<Q.length;J++){var he=wr(E,Q[J],R||v.handleEvent,!1,v.h||v);if(!he)break;v.g[he.key]=he}v=f.H?O(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),G(),Ce(f.i,f.u,f.A,f.l,f.R,f.m)}mt.prototype.ca=function(f){f=f.target;const v=this.M;v&&Dr(f)==3?v.j():this.Y(f)},mt.prototype.Y=function(f){try{if(f==this.g)e:{const cn=Dr(this.g);var v=this.g.Ba();const cs=this.g.Z();if(!(3>cn)&&(cn!=3||this.g&&(this.h.h||this.g.oa()||Xh(this.g)))){this.J||cn!=4||v==7||(v==8||0>=cs?G(3):G(2)),Wr(this);var E=this.g.Z();this.X=E;t:if(Sr(this)){var R=Xh(this.g);f="";var Q=R.length,J=Dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wt(this),We(this);var he="";break t}this.h.i=new h.TextDecoder}for(v=0;v<Q;v++)this.h.h=!0,f+=this.h.i.decode(R[v],{stream:!(J&&v==Q-1)});R.length=0,this.h.g+=f,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=E==200,Ie(this.i,this.u,this.A,this.l,this.R,cn,E),this.o){if(this.T&&!this.K){t:{if(this.g){var ct,un=this.g;if((ct=un.g?un.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(ct)){var ht=ct;break t}}ht=null}if(E=ht)ye(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vn(this,E);else{this.o=!1,this.s=3,ae(12),wt(this),We(this);break e}}if(this.P){E=!0;let Cn;for(;!this.J&&this.C<he.length;)if(Cn=tr(this,he),Cn==lr){cn==4&&(this.s=4,ae(14),E=!1),ye(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==Kn){this.s=4,ae(15),ye(this.i,this.l,he,"[Invalid Chunk]"),E=!1;break}else ye(this.i,this.l,Cn,null),vn(this,Cn);if(Sr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cn!=4||he.length!=0||this.h.h||(this.s=1,ae(16),E=!1),this.o=this.o&&E,!E)ye(this.i,this.l,he,"[Invalid Chunked Response]"),wt(this),We(this);else if(0<he.length&&!this.W){this.W=!0;var En=this.j;En.g==this&&En.ba&&!En.M&&(En.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),ho(En),En.M=!0,ae(11))}}else ye(this.i,this.l,he,null),vn(this,he);cn==4&&wt(this),this.o&&!this.J&&(cn==4?tf(this.j,this):(this.o=!1,bt(this)))}else Sm(this.g),E==400&&0<he.indexOf("Unknown SID")?(this.s=3,ae(12)):(this.s=0,ae(13)),wt(this),We(this)}}}catch{}finally{}};function Sr(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function tr(f,v){var E=f.C,R=v.indexOf(`
`,E);return R==-1?lr:(E=Number(v.substring(E,R)),isNaN(E)?Kn:(R+=1,R+E>v.length?lr:(v=v.slice(R,R+E),f.C=R+E,v)))}mt.prototype.cancel=function(){this.J=!0,wt(this)};function bt(f){f.S=Date.now()+f.I,gi(f,f.I)}function gi(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Ne(w(f.ba,f),v)}function Wr(f){f.B&&(h.clearTimeout(f.B),f.B=null)}mt.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Te(this.i,this.A),this.L!=2&&(G(),ae(17)),wt(this),this.s=2,We(this)):gi(this,this.S-f)};function We(f){f.j.G==0||f.J||tf(f.j,f)}function wt(f){Wr(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,_n(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function vn(f,v){try{var E=f.j;if(E.G!=0&&(E.g==f||vi(E.h,f))){if(!f.K&&vi(E.h,f)&&E.G==3){try{var R=E.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Q=R;if(Q[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)vl(E),_l(E);else break e;Uu(E),ae(18)}}else E.za=Q[1],0<E.za-E.T&&37500>Q[2]&&E.F&&E.v==0&&!E.C&&(E.C=Ne(w(E.Za,E),6e3));if(1>=to(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else us(E,11)}else if((f.K||E.g==f)&&vl(E),!H(v))for(Q=E.Da.g.parse(v),v=0;v<Q.length;v++){let ht=Q[v];if(E.T=ht[0],ht=ht[1],E.G==2)if(ht[0]=="c"){E.K=ht[1],E.ia=ht[2];const En=ht[3];En!=null&&(E.la=En,E.j.info("VER="+E.la));const cn=ht[4];cn!=null&&(E.Aa=cn,E.j.info("SVER="+E.Aa));const cs=ht[5];cs!=null&&typeof cs=="number"&&0<cs&&(R=1.5*cs,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const Cn=f.g;if(Cn){const Ai=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ai){var J=R.h;J.g||Ai.indexOf("spdy")==-1&&Ai.indexOf("quic")==-1&&Ai.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Qs(J,J.h),J.h=null))}if(R.D){const Bu=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Bu&&(R.ya=Bu,gt(R.I,R.D,Bu))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var he=f;if(R.qa=rf(R,R.J?R.ia:null,R.W),he.K){Rr(R.h,he);var ct=he,un=R.L;un&&(ct.I=un),ct.B&&(Wr(ct),bt(ct)),R.g=he}else Jh(R);0<E.i.length&&gl(E)}else ht[0]!="stop"&&ht[0]!="close"||us(E,7);else E.G==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?us(E,7):Lu(E):ht[0]!="noop"&&E.l&&E.l.ta(ht),E.v=0)}}G(4)}catch{}}var rs=class{constructor(f,v){this.g=f,this.map=v}};function Nt(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ar(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function to(f){return f.h?1:f.g?f.g.size:0}function vi(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function Qs(f,v){f.g?f.g.add(v):f.h=v}function Rr(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}Nt.prototype.cancel=function(){if(this.i=Qn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Qn(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const E of f.g.values())v=v.concat(E.D);return v}return M(f.i)}function Gh(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var v=[],E=f.length,R=0;R<E;R++)v.push(f[R]);return v}v=[],E=0;for(R in f)v[E++]=f[R];return v}function Em(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var v=[];f=f.length;for(var E=0;E<f;E++)v.push(E);return v}v=[],E=0;for(const R in f)v[E++]=R;return v}}}function no(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var E=Em(f),R=Gh(f),Q=R.length,J=0;J<Q;J++)v.call(void 0,R[J],E&&E[J],f)}var Du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ul(f,v){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var R=f[E].indexOf("="),Q=null;if(0<=R){var J=f[E].substring(0,R);Q=f[E].substring(R+1)}else J=f[E];v(J,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function is(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof is){this.h=f.h,Ys(this,f.j),this.o=f.o,this.g=f.g,ro(this,f.s),this.l=f.l;var v=f.i,E=new yi;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),cl(this,E),this.m=f.m}else f&&(v=String(f).match(Du))?(this.h=!1,Ys(this,v[1]||"",!0),this.o=Xs(v[2]||""),this.g=Xs(v[3]||"",!0),ro(this,v[4]),this.l=Xs(v[5]||"",!0),cl(this,v[6]||"",!0),this.m=Xs(v[7]||"")):(this.h=!1,this.i=new yi(null,this.h))}is.prototype.toString=function(){var f=[],v=this.j;v&&f.push(Cr(v,xu,!0),":");var E=this.g;return(E||v=="file")&&(f.push("//"),(v=this.o)&&f.push(Cr(v,xu,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(Cr(E,E.charAt(0)=="/"?Nu:Kh,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",Cr(E,Tm)),f.join("")};function Ht(f){return new is(f)}function Ys(f,v,E){f.j=E?Xs(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function ro(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function cl(f,v,E){v instanceof yi?(f.i=v,Pu(f.i,f.h)):(E||(v=Cr(v,wm)),f.i=new yi(v,f.h))}function gt(f,v,E){f.i.set(v,E)}function io(f){return gt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Xs(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Cr(f,v,E){return typeof f=="string"?(f=encodeURI(f).replace(v,bm),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function bm(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var xu=/[#\/\?@]/g,Kh=/[#\?:]/g,Nu=/[#\?]/g,wm=/[#\?@]/g,Tm=/#/g;function yi(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Or(f){f.g||(f.g=new Map,f.h=0,f.i&&ul(f.i,function(v,E){f.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=yi.prototype,t.add=function(f,v){Or(this),this.i=null,f=os(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(v),this.h+=1,this};function hl(f,v){Or(f),v=os(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function ss(f,v){return Or(f),v=os(f,v),f.g.has(v)}t.forEach=function(f,v){Or(this),this.g.forEach(function(E,R){E.forEach(function(Q){f.call(v,Q,R,this)},this)},this)},t.na=function(){Or(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let R=0;R<v.length;R++){const Q=f[R];for(let J=0;J<Q.length;J++)E.push(v[R])}return E},t.V=function(f){Or(this);let v=[];if(typeof f=="string")ss(this,f)&&(v=v.concat(this.g.get(os(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)v=v.concat(f[E])}return v},t.set=function(f,v){return Or(this),this.i=null,f=os(this,f),ss(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},t.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function as(f,v,E){hl(f,v),0<E.length&&(f.i=null,f.g.set(os(f,v),M(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var R=v[E];const J=encodeURIComponent(String(R)),he=this.V(R);for(R=0;R<he.length;R++){var Q=J;he[R]!==""&&(Q+="="+encodeURIComponent(String(he[R]))),f.push(Q)}}return this.i=f.join("&")};function os(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function Pu(f,v){v&&!f.j&&(Or(f),f.i=null,f.g.forEach(function(E,R){var Q=R.toLowerCase();R!=Q&&(hl(this,R),as(this,Q,E))},f)),f.j=v}function Qh(f,v){const E=new xe;if(h.Image){const R=new Image;R.onload=T(Ir,E,"TestLoadImage: loaded",!0,v,R),R.onerror=T(Ir,E,"TestLoadImage: error",!1,v,R),R.onabort=T(Ir,E,"TestLoadImage: abort",!1,v,R),R.ontimeout=T(Ir,E,"TestLoadImage: timeout",!1,v,R),h.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else v(!1)}function so(f,v){const E=new xe,R=new AbortController,Q=setTimeout(()=>{R.abort(),Ir(E,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:R.signal}).then(J=>{clearTimeout(Q),J.ok?Ir(E,"TestPingServer: ok",!0,v):Ir(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),Ir(E,"TestPingServer: error",!1,v)})}function Ir(f,v,E,R,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),R(E)}catch{}}function ao(){this.g=new gn}function Ei(f,v,E){const R=E||"";try{no(f,function(Q,J){let he=Q;m(Q)&&(he=Gs(Q)),v.push(R+J+"="+encodeURIComponent(he))})}catch(Q){throw v.push(R+"type="+encodeURIComponent("_badmap")),Q}}function Ws(f){this.l=f.Ub||null,this.j=f.eb||!1}S(Ws,ns),Ws.prototype.g=function(){return new ls(this.l,this.j)},Ws.prototype.i=function(f){return function(){return f}}({});function ls(f,v){At.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(ls,At),t=ls.prototype,t.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,wi(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bi(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mu(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Mu(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?bi(this):wi(this),this.readyState==3&&Mu(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,bi(this))},t.Qa=function(f){this.g&&(this.response=f,bi(this))},t.ga=function(){this.g&&bi(this)};function bi(f){f.readyState=4,f.l=null,f.j=null,f.v=null,wi(f)}t.setRequestHeader=function(f,v){this.u.append(f,v)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=v.next();return f.join(`\r
`)};function wi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ls.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ku(f){let v="";return te(f,function(E,R){v+=R,v+=":",v+=E,v+=`\r
`}),v}function yn(f,v,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=ku(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):gt(f,v,E))}function St(f){At.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(St,At);var fl=/^https?$/i,oo=["POST","PUT"];t=St.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,v,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ut.g(),this.v=this.o?ll(this.o):ll(Ut),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(J){Yh(this,J);return}if(f=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Q in R)E.set(Q,R[Q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())E.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(J=>J.toLowerCase()=="content-type"),Q=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(oo,v,void 0))||R||Q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,he]of E)this.g.setRequestHeader(J,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lo(this),this.u=!0,this.g.send(f),this.u=!1}catch(J){Yh(this,J)}};function Yh(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,dl(f),Ti(f)}function dl(f){f.A||(f.A=!0,Yt(f,"complete"),Yt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Yt(this,"complete"),Yt(this,"abort"),Ti(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ti(this,!0)),St.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?pl(this):this.bb())},t.bb=function(){pl(this)};function pl(f){if(f.h&&typeof u<"u"&&(!f.v[1]||Dr(f)!=4||f.Z()!=2)){if(f.u&&Dr(f)==4)al(f.Ea,0,f);else if(Yt(f,"readystatechange"),Dr(f)==4){f.h=!1;try{const he=f.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var R;if(R=he===0){var Q=String(f.D).match(Du)[1]||null;!Q&&h.self&&h.self.location&&(Q=h.self.location.protocol.slice(0,-1)),R=!fl.test(Q?Q.toLowerCase():"")}E=R}if(E)Yt(f,"complete"),Yt(f,"success");else{f.m=6;try{var J=2<Dr(f)?f.g.statusText:""}catch{J=""}f.l=J+" ["+f.Z()+"]",dl(f)}}finally{Ti(f)}}}}function Ti(f,v){if(f.g){lo(f);const E=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||Yt(f,"ready");try{E.onreadystatechange=R}catch{}}}function lo(f){f.I&&(h.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Dr(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Dr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Gn(v)}};function Xh(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Sm(f){const v={};f=(f.g&&2<=Dr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(H(f[R]))continue;var E=B(f[R]);const Q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const J=v[Q]||[];v[Q]=J,J.push(E)}k(v,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function uo(f,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||v}function ml(f){this.Aa=0,this.i=[],this.j=new xe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=uo("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=uo("baseRetryDelayMs",5e3,f),this.cb=uo("retryDelaySeedMs",1e4,f),this.Wa=uo("forwardChannelMaxRetries",2,f),this.wa=uo("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Nt(f&&f.concurrentRequestLimit),this.Da=new ao,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ml.prototype,t.la=8,t.G=1,t.connect=function(f,v,E,R){ae(0),this.W=f,this.H=v||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=rf(this,null,this.W),gl(this)};function Lu(f){if(Wh(f),f.G==3){var v=f.U++,E=Ht(f.I);if(gt(E,"SID",f.K),gt(E,"RID",v),gt(E,"TYPE","terminate"),co(f,E),v=new mt(f,f.j,v),v.L=2,v.v=io(Ht(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=v.v,E=!0),E||(v.g=sf(v.j,null),v.g.ea(v.v)),v.F=Date.now(),bt(v)}nf(f)}function _l(f){f.g&&(ho(f),f.g.cancel(),f.g=null)}function Wh(f){_l(f),f.u&&(h.clearTimeout(f.u),f.u=null),vl(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function gl(f){if(!Ar(f.h)&&!f.s){f.s=!0;var v=f.Ga;Oe||j(),Re||(Oe(),Re=!0),Xe.add(v,f),f.B=0}}function Am(f,v){return to(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Ne(w(f.Ga,f,v),ju(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Q=new mt(this,this.j,f);let J=this.o;if(this.S&&(J?(J=O(J),N(J,this.S)):J=this.S),this.m!==null||this.O||(Q.H=J,J=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Zh(this,Q,v),E=Ht(this.I),gt(E,"RID",f),gt(E,"CVER",22),this.D&&gt(E,"X-HTTP-Session-Id",this.D),co(this,E),J&&(this.O?v="headers="+encodeURIComponent(String(ku(J)))+"&"+v:this.m&&yn(E,this.m,J)),Qs(this.h,Q),this.Ua&&gt(E,"TYPE","init"),this.P?(gt(E,"$req",v),gt(E,"SID","null"),Q.T=!0,Xt(Q,E,null)):Xt(Q,E,v),this.G=2}}else this.G==3&&(f?Vu(this,f):this.i.length==0||Ar(this.h)||Vu(this))};function Vu(f,v){var E;v?E=v.l:E=f.U++;const R=Ht(f.I);gt(R,"SID",f.K),gt(R,"RID",E),gt(R,"AID",f.T),co(f,R),f.m&&f.o&&yn(R,f.m,f.o),E=new mt(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),v&&(f.i=v.D.concat(f.i)),v=Zh(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Qs(f.h,E),Xt(E,R,v)}function co(f,v){f.H&&te(f.H,function(E,R){gt(v,R,E)}),f.l&&no({},function(E,R){gt(v,R,E)})}function Zh(f,v,E){E=Math.min(f.i.length,E);var R=f.l?w(f.l.Na,f.l,f):null;e:{var Q=f.i;let J=-1;for(;;){const he=["count="+E];J==-1?0<E?(J=Q[0].g,he.push("ofs="+J)):J=0:he.push("ofs="+J);let ct=!0;for(let un=0;un<E;un++){let ht=Q[un].g;const En=Q[un].map;if(ht-=J,0>ht)J=Math.max(0,Q[un].g-100),ct=!1;else try{Ei(En,he,"req"+ht+"_")}catch{R&&R(En)}}if(ct){R=he.join("&");break e}}}return f=f.i.splice(0,E),v.D=f,R}function Jh(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;Oe||j(),Re||(Oe(),Re=!0),Xe.add(v,f),f.v=0}}function Uu(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Ne(w(f.Fa,f),ju(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,ef(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Ne(w(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ae(10),_l(this),ef(this))};function ho(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function ef(f){f.g=new mt(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=Ht(f.qa);gt(v,"RID","rpc"),gt(v,"SID",f.K),gt(v,"AID",f.T),gt(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&gt(v,"TO",f.ja),gt(v,"TYPE","xmlhttp"),co(f,v),f.m&&f.o&&yn(v,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=io(Ht(v)),E.m=null,E.P=!0,en(E,f)}t.Za=function(){this.C!=null&&(this.C=null,_l(this),Uu(this),ae(19))};function vl(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function tf(f,v){var E=null;if(f.g==v){vl(f),ho(f),f.g=null;var R=2}else if(vi(f.h,v))E=v.D,Rr(f.h,v),R=1;else return;if(f.G!=0){if(v.o)if(R==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var Q=f.B;R=Ks(),Yt(R,new _e(R,E)),gl(f)}else Jh(f);else if(Q=v.s,Q==3||Q==0&&0<v.X||!(R==1&&Am(f,v)||R==2&&Uu(f)))switch(E&&0<E.length&&(v=f.h,v.i=v.i.concat(E)),Q){case 1:us(f,5);break;case 4:us(f,10);break;case 3:us(f,6);break;default:us(f,2)}}}function ju(f,v){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*v}function us(f,v){if(f.j.info("Error code "+v),v==2){var E=w(f.fb,f),R=f.Xa;const Q=!R;R=new is(R||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ys(R,"https"),io(R),Q?Qh(R.toString(),E):so(R.toString(),E)}else ae(2);f.G=0,f.l&&f.l.sa(v),nf(f),Wh(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function nf(f){if(f.G=0,f.ka=[],f.l){const v=Qn(f.h);(v.length!=0||f.i.length!=0)&&(I(f.ka,v),I(f.ka,f.i),f.h.i.length=0,M(f.i),f.i.length=0),f.l.ra()}}function rf(f,v,E){var R=E instanceof is?Ht(E):new is(E);if(R.g!="")v&&(R.g=v+"."+R.g),ro(R,R.s);else{var Q=h.location;R=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;var J=new is(null);R&&Ys(J,R),v&&(J.g=v),Q&&ro(J,Q),E&&(J.l=E),R=J}return E=f.D,v=f.ya,E&&v&&gt(R,E,v),gt(R,"VER",f.la),co(f,R),R}function sf(f,v,E){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new St(new Ws({eb:E})):new St(f.pa),v.Ha(f.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function af(){}t=af.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function yl(){}yl.prototype.g=function(f,v){return new Yn(f,v)};function Yn(f,v){At.call(this),this.g=new ml(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!H(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!H(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Si(this)}S(Yn,At),Yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yn.prototype.close=function(){Lu(this.g)},Yn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=Gs(f),f=E);v.i.push(new rs(v.Ya++,f)),v.G==3&&gl(v)},Yn.prototype.N=function(){this.g.l=null,delete this.j,Lu(this.g),delete this.g,Yn.aa.N.call(this)};function of(f){Xr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const E in v){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}S(of,Xr);function lf(){Ln.call(this),this.status=1}S(lf,Ln);function Si(f){this.g=f}S(Si,af),Si.prototype.ua=function(){Yt(this.g,"a")},Si.prototype.ta=function(f){Yt(this.g,new of(f))},Si.prototype.sa=function(f){Yt(this.g,new lf)},Si.prototype.ra=function(){Yt(this.g,"b")},yl.prototype.createWebChannel=yl.prototype.g,Yn.prototype.send=Yn.prototype.o,Yn.prototype.open=Yn.prototype.m,Yn.prototype.close=Yn.prototype.close,_A=function(){return new yl},mA=function(){return Ks()},pA=Rn,Tv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ke.NO_ERROR=0,ke.TIMEOUT=8,ke.HTTP_ERROR=6,Nd=ke,_t.COMPLETE="complete",dA=_t,eo.EventType=Tr,Tr.OPEN="a",Tr.CLOSE="b",Tr.ERROR="c",Tr.MESSAGE="d",At.prototype.listen=At.prototype.K,Fc=eo,St.prototype.listenOnce=St.prototype.L,St.prototype.getLastError=St.prototype.Ka,St.prototype.getLastErrorCode=St.prototype.Ba,St.prototype.getStatus=St.prototype.Z,St.prototype.getResponseJson=St.prototype.Oa,St.prototype.getResponseText=St.prototype.oa,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Ha,fA=St}).apply(typeof gd<"u"?gd:typeof self<"u"?self:typeof window<"u"?window:{});const Gw="@firebase/firestore",Kw="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new vy("@firebase/firestore");function Zl(){return Ko.logLevel}function we(t,...e){if(Ko.logLevel<=it.DEBUG){const n=e.map(by);Ko.debug(`Firestore (${Tu}): ${t}`,...n)}}function js(t,...e){if(Ko.logLevel<=it.ERROR){const n=e.map(by);Ko.error(`Firestore (${Tu}): ${t}`,...n)}}function du(t,...e){if(Ko.logLevel<=it.WARN){const n=e.map(by);Ko.warn(`Firestore (${Tu}): ${t}`,...n)}}function by(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t="Unexpected state"){const e=`FIRESTORE (${Tu}) INTERNAL ASSERTION FAILED: `+t;throw js(e),new Error(e)}function Tt(t,e){t||Fe()}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends $n{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class D8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bn.UNAUTHENTICATED))}shutdown(){}}class x8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class N8{constructor(e){this.t=e,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Tt(this.o===void 0);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Bi,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await a(this.currentUser)})},h=d=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Bi)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt(typeof r.accessToken=="string"),new gA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Tt(e===null||typeof e=="string"),new Bn(e)}}class P8{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class M8{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new P8(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class k8{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,gr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Tt(this.o===void 0);const r=o=>{o.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.R;return this.R=o.token,we("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const a=o=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?a(o):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Qw(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Tt(typeof n.token=="string"),this.R=n.token,new Qw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=L8(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%62))}return r}}function Je(t,e){return t<e?-1:t>e?1:0}function Sv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),a=e.codePointAt(n);if(r!==a){if(r<128&&a<128)return Je(r,a);{const o=vA(),u=V8(o.encode(Yw(t,n)),o.encode(Yw(e,n)));return u!==0?u:Je(r,a)}}n+=r>65535?2:1}return Je(t.length,e.length)}function Yw(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function V8(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Je(t[n],e[n]);return Je(t.length,e.length)}function pu(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=-62135596800,Ww=1e6;class on{static now(){return on.fromMillis(Date.now())}static fromDate(e){return on.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Ww);return new on(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Xw)throw new ve(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ww}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Xw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new on(0,0))}static max(){return new He(new on(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="__name__";class Pi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Fe(),r===void 0?r=e.length-n:r>e.length-n&&Fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=Pi.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return Je(e.length,n.length)}static compareSegments(e,n){const r=Pi.isNumericId(e),a=Pi.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Pi.extractNumericId(e).compare(Pi.extractNumericId(n)):Sv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pa.fromString(e.substring(4,e.length-2))}}class kt extends Pi{construct(e,n,r){return new kt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new kt(n)}static emptyPath(){return new kt([])}}const U8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends Pi{construct(e,n,r){return new Nn(e,n,r)}static isValidIdentifier(e){return U8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Zw}static keyField(){return new Nn([Zw])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new ve(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new ve(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ve(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(o(),a++)}if(o(),u)throw new ve(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(n)}static emptyPath(){return new Nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(kt.fromString(e))}static fromName(e){return new Me(kt.fromString(e).popFirst(5))}static empty(){return new Me(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new kt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=-1;function j8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=He.fromTimestamp(r===1e9?new on(n+1,0):new on(n,r));return new Va(a,Me.empty(),e)}function B8(t){return new Va(t.readTime,t.key,oh)}class Va{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Va(He.min(),Me.empty(),oh)}static max(){return new Va(He.max(),Me.empty(),oh)}}function z8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Su(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==F8)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,r)=>{n(e)})}static reject(e){return new le((n,r)=>{r(e)})}static waitFor(e){return new le((n,r)=>{let a=0,o=0,u=!1;e.forEach(h=>{++a,h.next(()=>{++o,u&&o===a&&n()},d=>r(d))}),u=!0,o===a&&n()})}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next(a=>a?le.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,o)=>{r.push(n.call(this,a,o))}),this.waitFor(r)}static mapArray(e,n){return new le((r,a)=>{const o=e.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const m=d;n(e[m]).next(g=>{u[m]=g,++h,h===o&&r(u)},g=>a(g))}})}static doWhile(e,n){return new le((r,a)=>{const o=()=>{e()===!0?n().next(()=>{o()},a):r()};o()})}}function H8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Au(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}qp.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=-1;function Hp(t){return t==null}function ap(t){return t===0&&1/t==-1/0}function $8(t){return typeof t=="number"&&Number.isInteger(t)&&!ap(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="";function G8(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Jw(e)),e=K8(t.get(n),e);return Jw(e)}function K8(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case EA:n+="";break;default:n+=o}}return n}function Jw(t){return t+EA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ya(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Q8(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function bA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n){this.comparator=e,this.root=n||xn.EMPTY}insert(e,n){return new Ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new Ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vd(this.root,e,this.comparator,!1)}getReverseIterator(){return new vd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vd(this.root,e,this.comparator,!0)}}class vd{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xn{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??xn.RED,this.left=a??xn.EMPTY,this.right=o??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new xn(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return xn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(e,n,r,a,o){return this}insert(e,n,r){return new xn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tT(this.data.getIterator())}getIteratorFrom(e){return new tT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dn(this.comparator);return n.data=e,n}}class tT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new vr([])}unionWith(e){let n=new dn(Nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new wA("Invalid base64 string: "+o):o}}(e);return new Pn(n)}static fromUint8Array(e){const n=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(e);return new Pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const Y8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ua(t){if(Tt(!!t),typeof t=="string"){let e=0;const n=Y8.exec(t);if(Tt(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zt(t.seconds),nanos:Zt(t.nanos)}}function Zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ja(t){return typeof t=="string"?Pn.fromBase64String(t):Pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="server_timestamp",SA="__type__",AA="__previous_value__",RA="__local_write_time__";function $p(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[SA])===null||n===void 0?void 0:n.stringValue)===TA}function Gp(t){const e=t.mapValue.fields[AA];return $p(e)?Gp(e):e}function lh(t){const e=Ua(t.mapValue.fields[RA].timestampValue);return new on(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e,n,r,a,o,u,h,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m}}const op="(default)";class uh{constructor(e,n){this.projectId=e,this.database=n||op}static empty(){return new uh("","")}get isDefaultDatabase(){return this.database===op}isEqual(e){return e instanceof uh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="__type__",W8="__max__",yd={mapValue:{}},OA="__vector__",lp="value";function Ba(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$p(t)?4:J8(t)?9007199254740991:Z8(t)?10:11:Fe()}function Ki(t,e){if(t===e)return!0;const n=Ba(t);if(n!==Ba(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return lh(t).isEqual(lh(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Ua(a.timestampValue),h=Ua(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,o){return ja(a.bytesValue).isEqual(ja(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,o){return Zt(a.geoPointValue.latitude)===Zt(o.geoPointValue.latitude)&&Zt(a.geoPointValue.longitude)===Zt(o.geoPointValue.longitude)}(t,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return Zt(a.integerValue)===Zt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=Zt(a.doubleValue),h=Zt(o.doubleValue);return u===h?ap(u)===ap(h):isNaN(u)&&isNaN(h)}return!1}(t,e);case 9:return pu(t.arrayValue.values||[],e.arrayValue.values||[],Ki);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(eT(u)!==eT(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!Ki(u[d],h[d])))return!1;return!0}(t,e);default:return Fe()}}function ch(t,e){return(t.values||[]).find(n=>Ki(n,e))!==void 0}function mu(t,e){if(t===e)return 0;const n=Ba(t),r=Ba(e);if(n!==r)return Je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return function(o,u){const h=Zt(o.integerValue||o.doubleValue),d=Zt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(t,e);case 3:return nT(t.timestampValue,e.timestampValue);case 4:return nT(lh(t),lh(e));case 5:return Sv(t.stringValue,e.stringValue);case 6:return function(o,u){const h=ja(o),d=ja(u);return h.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),d=u.split("/");for(let m=0;m<h.length&&m<d.length;m++){const g=Je(h[m],d[m]);if(g!==0)return g}return Je(h.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,u){const h=Je(Zt(o.latitude),Zt(u.latitude));return h!==0?h:Je(Zt(o.longitude),Zt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return rT(t.arrayValue,e.arrayValue);case 10:return function(o,u){var h,d,m,g;const y=o.fields||{},w=u.fields||{},T=(h=y[lp])===null||h===void 0?void 0:h.arrayValue,S=(d=w[lp])===null||d===void 0?void 0:d.arrayValue,M=Je(((m=T==null?void 0:T.values)===null||m===void 0?void 0:m.length)||0,((g=S==null?void 0:S.values)===null||g===void 0?void 0:g.length)||0);return M!==0?M:rT(T,S)}(t.mapValue,e.mapValue);case 11:return function(o,u){if(o===yd.mapValue&&u===yd.mapValue)return 0;if(o===yd.mapValue)return 1;if(u===yd.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),m=u.fields||{},g=Object.keys(m);d.sort(),g.sort();for(let y=0;y<d.length&&y<g.length;++y){const w=Sv(d[y],g[y]);if(w!==0)return w;const T=mu(h[d[y]],m[g[y]]);if(T!==0)return T}return Je(d.length,g.length)}(t.mapValue,e.mapValue);default:throw Fe()}}function nT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=Ua(t),r=Ua(e),a=Je(n.seconds,r.seconds);return a!==0?a:Je(n.nanos,r.nanos)}function rT(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=mu(n[a],r[a]);if(o)return o}return Je(n.length,r.length)}function _u(t){return Av(t)}function Av(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ua(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ja(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=Av(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${Av(n.fields[u])}`;return a+"}"}(t.mapValue):Fe()}function Pd(t){switch(Ba(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gp(t);return e?16+Pd(e):16;case 5:return 2*t.stringValue.length;case 6:return ja(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,o)=>a+Pd(o),0)}(t.arrayValue);case 10:case 11:return function(r){let a=0;return Ya(r.fields,(o,u)=>{a+=o.length+Pd(u)}),a}(t.mapValue);default:throw Fe()}}function up(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Rv(t){return!!t&&"integerValue"in t}function Ty(t){return!!t&&"arrayValue"in t}function iT(t){return!!t&&"nullValue"in t}function sT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Md(t){return!!t&&"mapValue"in t}function Z8(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[CA])===null||n===void 0?void 0:n.stringValue)===OA}function Xc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ya(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function J8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===W8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.value=e}static empty(){return new ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Md(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xc(n)}setAll(e){let n=Nn.emptyPath(),r={},a=[];e.forEach((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=h.popLast()}u?r[h.lastSegment()]=Xc(u):a.push(h.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());Md(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Md(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Ya(n,(a,o)=>e[a]=o);for(const a of r)delete e[a]}clone(){return new ir(Xc(this.value))}}function IA(t){const e=[];return Ya(t.fields,(n,r)=>{const a=new Nn([n]);if(Md(r)){const o=IA(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)}),new vr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,n,r,a,o,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new zn(e,0,He.min(),He.min(),He.min(),ir.empty(),0)}static newFoundDocument(e,n,r,a){return new zn(e,1,n,He.min(),r,a,0)}static newNoDocument(e,n){return new zn(e,2,n,He.min(),He.min(),ir.empty(),0)}static newUnknownDocument(e,n){return new zn(e,3,n,He.min(),He.min(),ir.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n){this.position=e,this.inclusive=n}}function aT(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],u=t.position[a];if(o.field.isKeyField()?r=Me.comparator(Me.fromName(u.referenceValue),n.key):r=mu(u,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function oT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ki(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n="asc"){this.field=e,this.dir=n}}function e7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{}class an extends DA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new n7(e,n,r):n==="array-contains"?new s7(e,r):n==="in"?new a7(e,r):n==="not-in"?new o7(e,r):n==="array-contains-any"?new l7(e,r):new an(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new r7(e,r):new i7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(mu(n,this.value)):n!==null&&Ba(this.value)===Ba(n)&&this.matchesComparison(mu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends DA{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new ui(e,n)}matches(e){return xA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function xA(t){return t.op==="and"}function NA(t){return t7(t)&&xA(t)}function t7(t){for(const e of t.filters)if(e instanceof ui)return!1;return!0}function Cv(t){if(t instanceof an)return t.field.canonicalString()+t.op.toString()+_u(t.value);if(NA(t))return t.filters.map(e=>Cv(e)).join(",");{const e=t.filters.map(n=>Cv(n)).join(",");return`${t.op}(${e})`}}function PA(t,e){return t instanceof an?function(r,a){return a instanceof an&&r.op===a.op&&r.field.isEqual(a.field)&&Ki(r.value,a.value)}(t,e):t instanceof ui?function(r,a){return a instanceof ui&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((o,u,h)=>o&&PA(u,a.filters[h]),!0):!1}(t,e):void Fe()}function MA(t){return t instanceof an?function(n){return`${n.field.canonicalString()} ${n.op} ${_u(n.value)}`}(t):t instanceof ui?function(n){return n.op.toString()+" {"+n.getFilters().map(MA).join(" ,")+"}"}(t):"Filter"}class n7 extends an{constructor(e,n,r){super(e,n,r),this.key=Me.fromName(r.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class r7 extends an{constructor(e,n){super(e,"in",n),this.keys=kA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class i7 extends an{constructor(e,n){super(e,"not-in",n),this.keys=kA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Me.fromName(r.referenceValue))}class s7 extends an{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ty(n)&&ch(n.arrayValue,this.value)}}class a7 extends an{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ch(this.value.arrayValue,n)}}class o7 extends an{constructor(e,n){super(e,"not-in",n)}matches(e){if(ch(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ch(this.value.arrayValue,n)}}class l7 extends an{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ty(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ch(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e,n=null,r=[],a=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.le=null}}function lT(t,e=null,n=[],r=[],a=null,o=null,u=null){return new u7(t,e,n,r,a,o,u)}function Sy(t){const e=qe(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Hp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_u(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_u(r)).join(",")),e.le=n}return e.le}function Ay(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!e7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!oT(t.startAt,e.startAt)&&oT(t.endAt,e.endAt)}function Ov(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n=null,r=[],a=[],o=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function c7(t,e,n,r,a,o,u,h){return new nl(t,e,n,r,a,o,u,h)}function Kp(t){return new nl(t)}function uT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ry(t){return t.collectionGroup!==null}function su(t){const e=qe(t);if(e.he===null){e.he=[];const n=new Set;for(const o of e.explicitOrderBy)e.he.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new dn(Nn.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.he.push(new hh(o,r))}),n.has(Nn.keyField().canonicalString())||e.he.push(new hh(Nn.keyField(),r))}return e.he}function zi(t){const e=qe(t);return e.Pe||(e.Pe=LA(e,su(t))),e.Pe}function h7(t){const e=qe(t);return e.Te||(e.Te=LA(e,t.explicitOrderBy)),e.Te}function LA(t,e){if(t.limitType==="F")return lT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new hh(a.field,o)});const n=t.endAt?new gu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gu(t.startAt.position,t.startAt.inclusive):null;return lT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Iv(t,e){const n=t.filters.concat([e]);return new nl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function cp(t,e,n){return new nl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qp(t,e){return Ay(zi(t),zi(e))&&t.limitType===e.limitType}function VA(t){return`${Sy(zi(t))}|lt:${t.limitType}`}function Jl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>MA(a)).join(", ")}]`),Hp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>_u(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>_u(a)).join(",")),`Target(${r})`}(zi(t))}; limitType=${t.limitType})`}function Yp(t,e){return e.isFoundDocument()&&function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Me.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,a){for(const o of su(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0}(t,e)&&function(r,a){return!(r.startAt&&!function(u,h,d){const m=aT(u,h,d);return u.inclusive?m<=0:m<0}(r.startAt,su(r),a)||r.endAt&&!function(u,h,d){const m=aT(u,h,d);return u.inclusive?m>=0:m>0}(r.endAt,su(r),a))}(t,e)}function f7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function UA(t){return(e,n)=>{let r=!1;for(const a of su(t)){const o=d7(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function d7(t,e,n){const r=t.field.isKeyField()?Me.comparator(e.key,n.key):function(o,u,h){const d=u.data.field(o),m=h.data.field(o);return d!==null&&m!==null?mu(d,m):Fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ya(this.inner,(n,r)=>{for(const[a,o]of r)e(a,o)})}isEmpty(){return bA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7=new Ft(Me.comparator);function Bs(){return p7}const jA=new Ft(Me.comparator);function qc(...t){let e=jA;for(const n of t)e=e.insert(n.key,n);return e}function BA(t){let e=jA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Lo(){return Wc()}function zA(){return Wc()}function Wc(){return new rl(t=>t.toString(),(t,e)=>t.isEqual(e))}const m7=new Ft(Me.comparator),_7=new dn(Me.comparator);function st(...t){let e=_7;for(const n of t)e=e.add(n);return e}const g7=new dn(Je);function v7(){return g7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ap(e)?"-0":e}}function FA(t){return{integerValue:""+t}}function y7(t,e){return $8(e)?FA(e):Cy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(){this._=void 0}}function E7(t,e,n){return t instanceof hp?function(a,o){const u={fields:{[SA]:{stringValue:TA},[RA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&$p(o)&&(o=Gp(o)),o&&(u.fields[AA]=o),{mapValue:u}}(n,e):t instanceof fh?HA(t,e):t instanceof dh?$A(t,e):function(a,o){const u=qA(a,o),h=cT(u)+cT(a.Ie);return Rv(u)&&Rv(a.Ie)?FA(h):Cy(a.serializer,h)}(t,e)}function b7(t,e,n){return t instanceof fh?HA(t,e):t instanceof dh?$A(t,e):n}function qA(t,e){return t instanceof fp?function(r){return Rv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class hp extends Xp{}class fh extends Xp{constructor(e){super(),this.elements=e}}function HA(t,e){const n=GA(e);for(const r of t.elements)n.some(a=>Ki(a,r))||n.push(r);return{arrayValue:{values:n}}}class dh extends Xp{constructor(e){super(),this.elements=e}}function $A(t,e){let n=GA(e);for(const r of t.elements)n=n.filter(a=>!Ki(a,r));return{arrayValue:{values:n}}}class fp extends Xp{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function cT(t){return Zt(t.integerValue||t.doubleValue)}function GA(t){return Ty(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function w7(t,e){return t.field.isEqual(e.field)&&function(r,a){return r instanceof fh&&a instanceof fh||r instanceof dh&&a instanceof dh?pu(r.elements,a.elements,Ki):r instanceof fp&&a instanceof fp?Ki(r.Ie,a.Ie):r instanceof hp&&a instanceof hp}(t.transform,e.transform)}class T7{constructor(e,n){this.version=e,this.transformResults=n}}class Fi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fi}static exists(e){return new Fi(void 0,e)}static updateTime(e){return new Fi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wp{}function KA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new YA(t.key,Fi.none()):new Mh(t.key,t.data,Fi.none());{const n=t.data,r=ir.empty();let a=new dn(Nn.comparator);for(let o of e.fields)if(!a.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new Xa(t.key,r,new vr(a.toArray()),Fi.none())}}function S7(t,e,n){t instanceof Mh?function(a,o,u){const h=a.value.clone(),d=fT(a.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,n):t instanceof Xa?function(a,o,u){if(!kd(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=fT(a.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(QA(a)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(t,e,n):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Zc(t,e,n,r){return t instanceof Mh?function(o,u,h,d){if(!kd(o.precondition,u))return h;const m=o.value.clone(),g=dT(o.fieldTransforms,d,u);return m.setAll(g),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xa?function(o,u,h,d){if(!kd(o.precondition,u))return h;const m=dT(o.fieldTransforms,d,u),g=u.data;return g.setAll(QA(o)),g.setAll(m),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(o,u,h){return kd(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(t,e,n)}function A7(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=qA(r.transform,a||null);o!=null&&(n===null&&(n=ir.empty()),n.set(r.field,o))}return n||null}function hT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&pu(r,a,(o,u)=>w7(o,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mh extends Wp{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Xa extends Wp{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function QA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function fT(t,e,n){const r=new Map;Tt(t.length===n.length);for(let a=0;a<n.length;a++){const o=t[a],u=o.transform,h=e.data.field(o.field);r.set(o.field,b7(u,h,n[a]))}return r}function dT(t,e,n){const r=new Map;for(const a of t){const o=a.transform,u=n.data.field(a.field);r.set(a.field,E7(o,u,e))}return r}class YA extends Wp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R7 extends Wp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&S7(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=zA();return this.mutations.forEach(a=>{const o=e.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=n.has(a.key)?null:h;const d=KA(u,h);d!==null&&r.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(He.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),st())}isEqual(e){return this.batchId===e.batchId&&pu(this.mutations,e.mutations,(n,r)=>hT(n,r))&&pu(this.baseMutations,e.baseMutations,(n,r)=>hT(n,r))}}class Oy{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){Tt(e.mutations.length===r.length);let a=function(){return m7}();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new Oy(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,dt;function x7(t){switch(t){case se.OK:return Fe();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Fe()}}function XA(t){if(t===void 0)return js("GRPC error has no .code"),se.UNKNOWN;switch(t){case sn.OK:return se.OK;case sn.CANCELLED:return se.CANCELLED;case sn.UNKNOWN:return se.UNKNOWN;case sn.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case sn.INTERNAL:return se.INTERNAL;case sn.UNAVAILABLE:return se.UNAVAILABLE;case sn.UNAUTHENTICATED:return se.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case sn.NOT_FOUND:return se.NOT_FOUND;case sn.ALREADY_EXISTS:return se.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return se.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case sn.ABORTED:return se.ABORTED;case sn.OUT_OF_RANGE:return se.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return se.UNIMPLEMENTED;case sn.DATA_LOSS:return se.DATA_LOSS;default:return Fe()}}(dt=sn||(sn={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7=new Pa([4294967295,4294967295],0);function pT(t){const e=vA().encode(t),n=new hA;return n.update(e),new Uint8Array(n.digest())}function mT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Pa([n,r],0),new Pa([a,o],0)]}class Iy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hc(`Invalid padding: ${n}`);if(r<0)throw new Hc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hc(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Pa.fromNumber(this.Ee)}Ae(e,n,r){let a=e.add(n.multiply(Pa.fromNumber(r)));return a.compare(N7)===1&&(a=new Pa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=pT(e),[r,a]=mT(n);for(let o=0;o<this.hashCount;o++){const u=this.Ae(r,a,o);if(!this.Re(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Iy(o,a,n);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.Ee===0)return;const n=pT(e),[r,a]=mT(n);for(let o=0;o<this.hashCount;o++){const u=this.Ae(r,a,o);this.Ve(u)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Hc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,kh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Zp(He.min(),a,new Ft(Je),Bs(),st())}}class kh{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new kh(r,n,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n,r,a){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=a}}class WA{constructor(e,n){this.targetId=e,this.ge=n}}class ZA{constructor(e,n,r=Pn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class _T{constructor(){this.pe=0,this.ye=gT(),this.we=Pn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=st(),n=st(),r=st();return this.ye.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Fe()}}),new kh(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=gT()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Tt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class P7{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Bs(),this.$e=Ed(),this.Ue=Ed(),this.Ke=new Ft(Je)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:Fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,a)=>{this.Je(a)&&n(a)})}Ze(e){const n=e.targetId,r=e.ge.count,a=this.Xe(n);if(a){const o=a.target;if(Ov(o))if(r===0){const u=new Me(o.path);this.ze(n,u,zn.newNoDocument(u,He.min()))}else Tt(r===1);else{const u=this.et(n);if(u!==r){const h=this.tt(e),d=h?this.nt(h,e,u):1;if(d!==0){this.Ye(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,m)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let u,h;try{u=ja(r).toUint8Array()}catch(d){if(d instanceof wA)return du("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Iy(u,a,o)}catch(d){return du(d instanceof Hc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ee===0?null:h}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let a=0;return r.forEach(o=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.ze(n,o,null),a++)}),a}ot(e){const n=new Map;this.qe.forEach((o,u)=>{const h=this.Xe(u);if(h){if(o.current&&Ov(h.target)){const d=new Me(h.target.path);this._t(d).has(u)||this.ut(u,d)||this.ze(u,d,zn.newNoDocument(d,e))}o.ve&&(n.set(u,o.Fe()),o.Me())}});let r=st();this.Ue.forEach((o,u)=>{let h=!0;u.forEachWhile(d=>{const m=this.Xe(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.Qe.forEach((o,u)=>u.setReadTime(e));const a=new Zp(e,n,this.Ke,this.Qe,r);return this.Qe=Bs(),this.$e=Ed(),this.Ue=Ed(),this.Ke=new Ft(Je),a}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const a=this.He(e);this.ut(e,n)?a.xe(n,1):a.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new _T,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new dn(Je),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new dn(Je),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new _T),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Ed(){return new Ft(Me.comparator)}function gT(){return new Ft(Me.comparator)}const M7={asc:"ASCENDING",desc:"DESCENDING"},k7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},L7={and:"AND",or:"OR"};class V7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dv(t,e){return t.useProto3Json||Hp(e)?e:{value:e}}function dp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function U7(t,e){return dp(t,e.toTimestamp())}function qi(t){return Tt(!!t),He.fromTimestamp(function(n){const r=Ua(n);return new on(r.seconds,r.nanos)}(t))}function Dy(t,e){return xv(t,e).canonicalString()}function xv(t,e){const n=function(a){return new kt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function eR(t){const e=kt.fromString(t);return Tt(aR(e)),e}function Nv(t,e){return Dy(t.databaseId,e.path)}function $g(t,e){const n=eR(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me(nR(n))}function tR(t,e){return Dy(t.databaseId,e)}function j7(t){const e=eR(t);return e.length===4?kt.emptyPath():nR(e)}function Pv(t){return new kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nR(t){return Tt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function vT(t,e,n){return{name:Nv(t,e),fields:n.value.mapValue.fields}}function B7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(m,g){return m.useProto3Json?(Tt(g===void 0||typeof g=="string"),Pn.fromBase64String(g||"")):(Tt(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Pn.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(m){const g=m.code===void 0?se.UNKNOWN:XA(m.code);return new ve(g,m.message||"")}(u);n=new ZA(r,a,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=$g(t,r.document.name),o=qi(r.document.updateTime),u=r.document.createTime?qi(r.document.createTime):He.min(),h=new ir({mapValue:{fields:r.document.fields}}),d=zn.newFoundDocument(a,o,u,h),m=r.targetIds||[],g=r.removedTargetIds||[];n=new Ld(m,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=$g(t,r.document),o=r.readTime?qi(r.readTime):He.min(),u=zn.newNoDocument(a,o),h=r.removedTargetIds||[];n=new Ld([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=$g(t,r.document),o=r.removedTargetIds||[];n=new Ld([],o,a,null)}else{if(!("filter"in e))return Fe();{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new D7(a,o),h=r.targetId;n=new WA(h,u)}}return n}function z7(t,e){let n;if(e instanceof Mh)n={update:vT(t,e.key,e.value)};else if(e instanceof YA)n={delete:Nv(t,e.key)};else if(e instanceof Xa)n={update:vT(t,e.key,e.data),updateMask:X7(e.fieldMask)};else{if(!(e instanceof R7))return Fe();n={verify:Nv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof hp)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof fh)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof dh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof fp)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw Fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:U7(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Fe()}(t,e.precondition)),n}function F7(t,e){return t&&t.length>0?(Tt(e!==void 0),t.map(n=>function(a,o){let u=a.updateTime?qi(a.updateTime):qi(o);return u.isEqual(He.min())&&(u=qi(o)),new T7(u,a.transformResults||[])}(n,e))):[]}function q7(t,e){return{documents:[tR(t,e.path)]}}function rR(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tR(t,a);const o=function(m){if(m.length!==0)return sR(ui.create(m,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const u=function(m){if(m.length!==0)return m.map(g=>function(w){return{field:Ta(w.field),direction:K7(w.dir)}}(g))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Dv(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:n,parent:a}}function H7(t,e,n,r){const{ht:a,parent:o}=rR(t,e),u={},h=[];let d=0;return n.forEach(m=>{const g="aggregate_"+d++;u[g]=m.alias,m.aggregateType==="count"?h.push({alias:g,count:{}}):m.aggregateType==="avg"?h.push({alias:g,avg:{field:Ta(m.fieldPath)}}):m.aggregateType==="sum"&&h.push({alias:g,sum:{field:Ta(m.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:h,structuredQuery:a.structuredQuery},parent:a.parent},Pt:u,parent:o}}function $7(t){let e=j7(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Tt(r===1);const g=n.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=function(y){const w=iR(y);return w instanceof ui&&NA(w)?w.getFilters():[w]}(n.where));let u=[];n.orderBy&&(u=function(y){return y.map(w=>function(S){return new hh(eu(S.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(w))}(n.orderBy));let h=null;n.limit&&(h=function(y){let w;return w=typeof y=="object"?y.value:y,Hp(w)?null:w}(n.limit));let d=null;n.startAt&&(d=function(y){const w=!!y.before,T=y.values||[];return new gu(T,w)}(n.startAt));let m=null;return n.endAt&&(m=function(y){const w=!y.before,T=y.values||[];return new gu(T,w)}(n.endAt)),c7(e,a,u,o,h,"F",d,m)}function G7(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function iR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=eu(n.unaryFilter.field);return an.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=eu(n.unaryFilter.field);return an.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=eu(n.unaryFilter.field);return an.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=eu(n.unaryFilter.field);return an.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}}(t):t.fieldFilter!==void 0?function(n){return an.create(eu(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ui.create(n.compositeFilter.filters.map(r=>iR(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Fe()}}(n.compositeFilter.op))}(t):Fe()}function K7(t){return M7[t]}function Q7(t){return k7[t]}function Y7(t){return L7[t]}function Ta(t){return{fieldPath:t.canonicalString()}}function eu(t){return Nn.fromServerFormat(t.fieldPath)}function sR(t){return t instanceof an?function(n){if(n.op==="=="){if(sT(n.value))return{unaryFilter:{field:Ta(n.field),op:"IS_NAN"}};if(iT(n.value))return{unaryFilter:{field:Ta(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sT(n.value))return{unaryFilter:{field:Ta(n.field),op:"IS_NOT_NAN"}};if(iT(n.value))return{unaryFilter:{field:Ta(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ta(n.field),op:Q7(n.op),value:n.value}}}(t):t instanceof ui?function(n){const r=n.getFilters().map(a=>sR(a));return r.length===1?r[0]:{compositeFilter:{op:Y7(n.op),filters:r}}}(t):Fe()}function X7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n,r,a,o=He.min(),u=He.min(),h=Pn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Ia(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(e){this.Tt=e}}function Z7(t){const e=$7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(){this.Tn=new eP}addToCollectionParentIndex(e,n){return this.Tn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Va.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Va.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class eP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new dn(kt.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new dn(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oR=41943040;class rr{static withCacheSize(e){return new rr(e,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr.DEFAULT_COLLECTION_PERCENTILE=10,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rr.DEFAULT=new rr(oR,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rr.DISABLED=new rr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new vu(0)}static Kn(){return new vu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="LruGarbageCollector",tP=1048576;function bT([t,e],[n,r]){const a=Je(t,n);return a===0?Je(e,r):a}class nP{constructor(e){this.Hn=e,this.buffer=new dn(bT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();bT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rP{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){we(ET,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Au(n)?we(ET,"Ignoring IndexedDB error during garbage collection: ",n):await Su(n)}await this.er(3e5)})}}class iP{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return le.resolve(qp.ae);const r=new nP(n);return this.tr.forEachTarget(e,a=>r.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>r.Zn(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(yT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yT):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,a,o,u,h,d,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),a=this.params.maximumSequenceNumbersToCollect):a=y,u=Date.now(),this.nthSequenceNumber(e,a))).next(y=>(r=y,h=Date.now(),this.removeTargets(e,r,n))).next(y=>(o=y,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(m=Date.now(),Zl()<=it.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${y} documents in `+(m-d)+`ms
Total Duration: ${m-g}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:y})))}}function sP(t,e){return new iP(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(){this.changes=new rl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(r!==null&&Zc(r.mutation,a,vr.empty(),on.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,st()).next(()=>r))}getLocalViewOfDocuments(e,n,r=st()){const a=Lo();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(o=>{let u=qc();return o.forEach((h,d)=>{u=u.insert(h,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=Lo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,st()))}populateOverlays(e,n,r){const a=[];return r.forEach(o=>{n.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((u,h)=>{n.set(u,h)})})}computeViews(e,n,r,a){let o=Bs();const u=Wc(),h=function(){return Wc()}();return n.forEach((d,m)=>{const g=r.get(m.key);a.has(m.key)&&(g===void 0||g.mutation instanceof Xa)?o=o.insert(m.key,m):g!==void 0?(u.set(m.key,g.mutation.getFieldMask()),Zc(g.mutation,m,g.mutation.getFieldMask(),on.now())):u.set(m.key,vr.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((m,g)=>u.set(m,g)),n.forEach((m,g)=>{var y;return h.set(m,new oP(g,(y=u.get(m))!==null&&y!==void 0?y:null))}),h))}recalculateAndSaveOverlays(e,n){const r=Wc();let a=new Ft((u,h)=>u-h),o=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const h of u)h.keys().forEach(d=>{const m=n.get(d);if(m===null)return;let g=r.get(d)||vr.empty();g=h.applyToLocalView(m,g),r.set(d,g);const y=(a.get(h.batchId)||st()).add(d);a=a.insert(h.batchId,y)})}).next(()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,g=d.value,y=zA();g.forEach(w=>{if(!o.has(w)){const T=KA(n.get(w),r.get(w));T!==null&&y.set(w,T),o=o.add(w)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,y))}return le.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,a){return function(u){return Me.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ry(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):le.resolve(Lo());let h=oh,d=o;return u.next(m=>le.forEach(m,(g,y)=>(h<y.largestBatchId&&(h=y.largestBatchId),o.get(g)?le.resolve():this.remoteDocumentCache.getEntry(e,g).next(w=>{d=d.insert(g,w)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,d,m,st())).next(g=>({batchId:h,changes:BA(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next(r=>{let a=qc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let u=qc();return this.indexManager.getCollectionParents(e,o).next(h=>le.forEach(h,d=>{const m=function(y,w){return new nl(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,r,a).next(g=>{g.forEach((y,w)=>{u=u.insert(y,w)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a))).next(u=>{o.forEach((d,m)=>{const g=m.getKey();u.get(g)===null&&(u=u.insert(g,zn.newInvalidDocument(g)))});let h=qc();return u.forEach((d,m)=>{const g=o.get(d);g!==void 0&&Zc(g.mutation,m,vr.empty(),on.now()),Yp(n,m)&&(h=h.insert(d,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return le.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:qi(a.createTime)}}(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:Z7(a.bundledQuery),readTime:qi(a.readTime)}}(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this.overlays=new Ft(Me.comparator),this.Rr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Lo();return le.forEach(n,a=>this.getOverlay(e,a).next(o=>{o!==null&&r.set(a,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,o)=>{this.Et(e,n,o)}),le.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.Rr.get(r);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const a=Lo(),o=n.length+1,u=new Me(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>r&&a.set(d.getKey(),d)}return le.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new Ft((m,g)=>m-g);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let g=o.get(m.largestBatchId);g===null&&(g=Lo(),o=o.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const h=Lo(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,g)=>h.set(m,g)),!(h.size()>=a)););return le.resolve(h)}Et(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Rr.get(a.largestBatchId).delete(r.key);this.Rr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new O7(n,r));let o=this.Rr.get(n);o===void 0&&(o=st(),this.Rr.set(n,o)),this.Rr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this.sessionToken=Pn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(){this.Vr=new dn(Sn.mr),this.gr=new dn(Sn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Sn(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Sn(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new Me(new kt([])),r=new Sn(n,e),a=new Sn(n,e+1),o=[];return this.gr.forEachInRange([r,a],u=>{this.wr(u),o.push(u.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Me(new kt([])),r=new Sn(n,e),a=new Sn(n,e+1);let o=st();return this.gr.forEachInRange([r,a],u=>{o=o.add(u.key)}),o}containsKey(e){const n=new Sn(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Sn{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Me.comparator(e.key,n.key)||Je(e.Cr,n.Cr)}static pr(e,n){return Je(e.Cr,n.Cr)||Me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new dn(Sn.mr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new C7(o,n,r,a);this.mutationQueue.push(u);for(const h of a)this.Mr=this.Mr.add(new Sn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return le.resolve(u)}lookupMutationBatch(e,n){return le.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.Nr(r),o=a<0?0:a;return le.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?wy:this.Fr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Sn(n,0),a=new Sn(n,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,a],u=>{const h=this.Or(u.Cr);o.push(h)}),le.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dn(Je);return n.forEach(a=>{const o=new Sn(a,0),u=new Sn(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,u],h=>{r=r.add(h.Cr)})}),le.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;Me.isDocumentKey(o)||(o=o.child(""));const u=new Sn(new Me(o),0);let h=new dn(Je);return this.Mr.forEachWhile(d=>{const m=d.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Cr)),!0)},u),le.resolve(this.Br(h))}Br(e){const n=[];return e.forEach(r=>{const a=this.Or(r);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Tt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return le.forEach(n.mutations,a=>{const o=new Sn(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Sn(n,0),a=this.Mr.firstAfterOrEqual(r);return le.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.kr=e,this.docs=function(){return new Ft(Me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,u=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():zn.newInvalidDocument(n))}getEntries(e,n){let r=Bs();return n.forEach(a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():zn.newInvalidDocument(a))}),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=Bs();const u=n.path,h=new Me(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:g}}=d.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||z8(B8(g),r)<=0||(a.has(g.key)||Yp(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return le.resolve(o)}getAllFromCollectionGroup(e,n,r,a){Fe()}qr(e,n){return le.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pP(this)}getSize(e){return le.resolve(this.size)}}class pP extends aP{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(r)}),le.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.persistence=e,this.Qr=new rl(n=>Sy(n),Ay),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.$r=0,this.Ur=new xy,this.targetCount=0,this.Kr=vu.Un()}forEachTarget(e,n){return this.Qr.forEach((r,a)=>n(a)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),le.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new vu(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.zn(n),le.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.Qr.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),le.waitFor(o).next(()=>a)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach(u=>{o.push(a.markPotentiallyOrphaned(e,u))}),le.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new qp(0),this.zr=!1,this.zr=!0,this.jr=new hP,this.referenceDelegate=e(this),this.Hr=new mP(this),this.indexManager=new J7,this.remoteDocumentCache=function(a){return new dP(a)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new W7(n),this.Yr=new uP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new fP(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const a=new _P(this.Gr.next());return this.referenceDelegate.Zr(),r(a).next(o=>this.referenceDelegate.Xr(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}ei(e,n){return le.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class _P extends q8{constructor(e){super(),this.currentSequenceNumber=e}}class Ny{constructor(e){this.persistence=e,this.ti=new xy,this.ni=null}static ri(e){return new Ny(e)}get ii(){if(this.ni)return this.ni;throw Fe()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),le.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(a=>this.ii.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.ii,r=>{const a=Me.fromPath(r);return this.si(e,a).next(o=>{o||n.removeEntry(a,He.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return le.or([()=>le.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class pp{constructor(e,n){this.persistence=e,this.oi=new rl(r=>G8(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=sP(this,n)}static ri(e,n){return new pp(e,n)}Zr(){}Xr(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return le.forEach(this.oi,(r,a)=>this.ar(e,r,a).next(o=>o?le.resolve():n(a)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.qr(e,u=>this.ar(e,u,n).next(h=>{h||(r++,o.removeEntry(u,He.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),le.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Pd(e.data.value)),n}ar(e,n,r){return le.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.oi.get(n);return le.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=a}static Yi(e,n){let r=st(),a=st();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Py(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return cN()?8:H8(Hn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.rs(e,n).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.ss(e,n,a,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new gP;return this._s(e,n,u).next(h=>{if(o.result=h,this.Xi)return this.us(e,n,u,h.size)})}).next(()=>o.result)}us(e,n,r,a){return r.documentReadCount<this.es?(Zl()<=it.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Jl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),le.resolve()):(Zl()<=it.DEBUG&&we("QueryEngine","Query:",Jl(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ts*a?(Zl()<=it.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Jl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(n))):le.resolve())}rs(e,n){if(uT(n))return le.resolve(null);let r=zi(n);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=cp(n,null,"F"),r=zi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=st(...o);return this.ns.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const m=this.cs(n,h);return this.ls(n,m,u,d.readTime)?this.rs(e,cp(n,null,"F")):this.hs(e,m,n,d)}))})))}ss(e,n,r,a){return uT(n)||a.isEqual(He.min())?le.resolve(null):this.ns.getDocuments(e,r).next(o=>{const u=this.cs(n,o);return this.ls(n,u,r,a)?le.resolve(null):(Zl()<=it.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Jl(n)),this.hs(e,u,n,j8(a,oh)).next(h=>h))})}cs(e,n){let r=new dn(UA(e));return n.forEach((a,o)=>{Yp(e,o)&&(r=r.add(o))}),r}ls(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}_s(e,n,r){return Zl()<=it.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Jl(n)),this.ns.getDocumentsMatchingQuery(e,n,Va.min(),r)}hs(e,n,r,a){return this.ns.getDocumentsMatchingQuery(e,r,a).next(o=>(n.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="LocalStore",yP=3e8;class EP{constructor(e,n,r,a){this.persistence=e,this.Ps=n,this.serializer=a,this.Ts=new Ft(Je),this.Is=new rl(o=>Sy(o),Ay),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lP(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function bP(t,e,n,r){return new EP(t,e,n,r)}async function uR(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(o=>(a=o,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let d=st();for(const m of a){u.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}for(const m of o){h.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(r,d).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:h}))})})}function wP(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),o=n.ds.newChangeBuffer({trackRemovals:!0});return function(h,d,m,g){const y=m.batch,w=y.keys();let T=le.resolve();return w.forEach(S=>{T=T.next(()=>g.getEntry(d,S)).next(M=>{const I=m.docVersions.get(S);Tt(I!==null),M.version.compareTo(I)<0&&(y.applyToRemoteDocument(M,m),M.isValidDocument()&&(M.setReadTime(m.commitVersion),g.addEntry(M)))})}),T.next(()=>h.mutationQueue.removeMutationBatch(d,y))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let d=st();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}function cR(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function TP(t,e){const n=qe(t),r=e.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const h=[];e.targetChanges.forEach((g,y)=>{const w=a.get(y);if(!w)return;h.push(n.Hr.removeMatchingKeys(o,g.removedDocuments,y).next(()=>n.Hr.addMatchingKeys(o,g.addedDocuments,y)));let T=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?T=T.withResumeToken(Pn.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),a=a.insert(y,T),function(M,I,U){return M.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=yP?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(w,T,g)&&h.push(n.Hr.updateTargetData(o,T))});let d=Bs(),m=st();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))}),h.push(SP(o,u,e.documentUpdates).next(g=>{d=g.Vs,m=g.fs})),!r.isEqual(He.min())){const g=n.Hr.getLastRemoteSnapshotVersion(o).next(y=>n.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(g)}return le.waitFor(h).next(()=>u.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,m)).next(()=>d)}).then(o=>(n.Ts=a,o))}function SP(t,e,n){let r=st(),a=st();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let u=Bs();return n.forEach((h,d)=>{const m=o.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(He.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):we(My,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)}),{Vs:u,fs:a}})}function AP(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=wy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function RP(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Hr.getTargetData(r,e).next(o=>o?(a=o,le.resolve(a)):n.Hr.allocateTargetId(r).next(u=>(a=new Ia(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.Ts.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function Mv(t,e,n){const r=qe(t),a=r.Ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Au(u))throw u;we(My,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(a.target)}function wT(t,e,n){const r=qe(t);let a=He.min(),o=st();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,m,g){const y=qe(d),w=y.Is.get(g);return w!==void 0?le.resolve(y.Ts.get(w)):y.Hr.getTargetData(m,g)}(r,u,zi(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,h.targetId).next(d=>{o=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,n?a:He.min(),n?o:st())).next(h=>(CP(r,f7(e),h),{documents:h,gs:o})))}function CP(t,e,n){let r=t.Es.get(e)||He.min();n.forEach((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Es.set(e,r)}class TT{constructor(){this.activeTargetIds=v7()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OP{constructor(){this.ho=new TT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new TT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="ConnectivityMonitor";class AT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){we(ST,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){we(ST,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd=null;function kv(){return bd===null?bd=function(){return 268435456+Math.round(2147483648*Math.random())}():bd++,"0x"+bd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="RestConnection",DP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xP{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${a}`,this.wo=this.databaseId.database===op?`project_id=${r}`:`project_id=${r}&database_id=${a}`}So(e,n,r,a,o){const u=kv(),h=this.bo(e,n.toUriEncodedString());we(Gg,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,a,o),this.vo(e,h,d,r).then(m=>(we(Gg,`Received RPC '${e}' ${u}: `,m),m),m=>{throw du(Gg,`RPC '${e}' ${u} failed with error: `,m,"url: ",h,"request:",r),m})}Co(e,n,r,a,o,u){return this.So(e,n,r,a,o)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,o)=>e[o]=a),r&&r.headers.forEach((a,o)=>e[o]=a)}bo(e,n){const r=DP[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn="WebChannelConnection";class PP extends xP{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,a){const o=kv();return new Promise((u,h)=>{const d=new fA;d.setWithCredentials(!0),d.listenOnce(dA.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Nd.NO_ERROR:const g=d.getResponseJson();we(jn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),u(g);break;case Nd.TIMEOUT:we(jn,`RPC '${e}' ${o} timed out`),h(new ve(se.DEADLINE_EXCEEDED,"Request time out"));break;case Nd.HTTP_ERROR:const y=d.getStatus();if(we(jn,`RPC '${e}' ${o} failed with status:`,y,"response text:",d.getResponseText()),y>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const T=w==null?void 0:w.error;if(T&&T.status&&T.message){const S=function(I){const U=I.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(U)>=0?U:se.UNKNOWN}(T.status);h(new ve(S,T.message))}else h(new ve(se.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new ve(se.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{we(jn,`RPC '${e}' ${o} completed.`)}});const m=JSON.stringify(a);we(jn,`RPC '${e}' ${o} sending request:`,a),d.send(n,"POST",m,r,15)})}Wo(e,n,r){const a=kv(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=_A(),h=mA(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const g=o.join("");we(jn,`Creating RPC '${e}' stream ${a}: ${g}`,d);const y=u.createWebChannel(g,d);let w=!1,T=!1;const S=new NP({Fo:I=>{T?we(jn,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(w||(we(jn,`Opening RPC '${e}' stream ${a} transport.`),y.open(),w=!0),we(jn,`RPC '${e}' stream ${a} sending:`,I),y.send(I))},Mo:()=>y.close()}),M=(I,U,H)=>{I.listen(U,X=>{try{H(X)}catch(ie){setTimeout(()=>{throw ie},0)}})};return M(y,Fc.EventType.OPEN,()=>{T||(we(jn,`RPC '${e}' stream ${a} transport opened.`),S.Qo())}),M(y,Fc.EventType.CLOSE,()=>{T||(T=!0,we(jn,`RPC '${e}' stream ${a} transport closed`),S.Uo())}),M(y,Fc.EventType.ERROR,I=>{T||(T=!0,du(jn,`RPC '${e}' stream ${a} transport errored:`,I),S.Uo(new ve(se.UNAVAILABLE,"The operation could not be completed")))}),M(y,Fc.EventType.MESSAGE,I=>{var U;if(!T){const H=I.data[0];Tt(!!H);const X=H,ie=(X==null?void 0:X.error)||((U=X[0])===null||U===void 0?void 0:U.error);if(ie){we(jn,`RPC '${e}' stream ${a} received error:`,ie);const x=ie.status;let te=function(C){const N=sn[C];if(N!==void 0)return XA(N)}(x),k=ie.message;te===void 0&&(te=se.INTERNAL,k="Unknown error status: "+x+" with message "+ie.message),T=!0,S.Uo(new ve(te,k)),y.close()}else we(jn,`RPC '${e}' stream ${a} received:`,H),S.Ko(H)}}),M(h,pA.STAT_EVENT,I=>{I.stat===Tv.PROXY?we(jn,`RPC '${e}' stream ${a} detected buffering proxy`):I.stat===Tv.NOPROXY&&we(jn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{S.$o()},0),S}}function Kg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(t){return new V7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n,r=1e3,a=1.5,o=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=a,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-r);a>0&&we("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="PersistentStream";class fR{constructor(e,n,r,a,o,u,h,d){this.Ti=e,this.n_=r,this.r_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new hR(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(js(n.toString()),js("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.i_===n&&this.V_(r,a)},r=>{e(()=>{const a=new ve(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(a)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{r(()=>this.m_(a))}),this.stream.onMessage(a=>{r(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return we(RT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(we(RT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MP extends fR{constructor(e,n,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=o}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=B7(this.serializer,e),r=function(o){if(!("targetChange"in o))return He.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?He.min():u.readTime?qi(u.readTime):He.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Pv(this.serializer),n.addTarget=function(o,u){let h;const d=u.target;if(h=Ov(d)?{documents:q7(o,d)}:{query:rR(o,d).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=JA(o,u.resumeToken);const m=Dv(o,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(He.min())>0){h.readTime=dp(o,u.snapshotVersion.toTimestamp());const m=Dv(o,u.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const r=G7(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Pv(this.serializer),n.removeTarget=e,this.I_(n)}}class kP extends fR{constructor(e,n,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,Tt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=F7(e.writeResults,e.commitTime),r=qi(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Pv(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>z7(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{}class VP extends LP{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new ve(se.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.So(e,xv(n,r),a,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(se.UNKNOWN,o.toString())})}Co(e,n,r,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(e,xv(n,r),a,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(se.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class UP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(js(n),this.N_=!1):we("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="RemoteStore";class jP{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(u=>{r.enqueueAndForget(async()=>{il(this)&&(we(Qo,"Restarting streams for network reachability change."),await async function(d){const m=qe(d);m.W_.add(4),await Lh(m),m.j_.set("Unknown"),m.W_.delete(4),await em(m)}(this))})}),this.j_=new UP(r,a)}}async function em(t){if(il(t))for(const e of t.G_)await e(!0)}async function Lh(t){for(const e of t.G_)await e(!1)}function dR(t,e){const n=qe(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Uy(n)?Vy(n):Ru(n).c_()&&Ly(n,e))}function ky(t,e){const n=qe(t),r=Ru(n);n.K_.delete(e),r.c_()&&pR(n,e),n.K_.size===0&&(r.c_()?r.P_():il(n)&&n.j_.set("Unknown"))}function Ly(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ru(t).y_(e)}function pR(t,e){t.H_.Ne(e),Ru(t).w_(e)}function Vy(t){t.H_=new P7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Ru(t).start(),t.j_.B_()}function Uy(t){return il(t)&&!Ru(t).u_()&&t.K_.size>0}function il(t){return qe(t).W_.size===0}function mR(t){t.H_=void 0}async function BP(t){t.j_.set("Online")}async function zP(t){t.K_.forEach((e,n)=>{Ly(t,e)})}async function FP(t,e){mR(t),Uy(t)?(t.j_.q_(e),Vy(t)):t.j_.set("Unknown")}async function qP(t,e,n){if(t.j_.set("Online"),e instanceof ZA&&e.state===2&&e.cause)try{await async function(a,o){const u=o.cause;for(const h of o.targetIds)a.K_.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.K_.delete(h),a.H_.removeTarget(h))}(t,e)}catch(r){we(Qo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await mp(t,r)}else if(e instanceof Ld?t.H_.We(e):e instanceof WA?t.H_.Ze(e):t.H_.je(e),!n.isEqual(He.min()))try{const r=await cR(t.localStore);n.compareTo(r)>=0&&await function(o,u){const h=o.H_.ot(u);return h.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.K_.get(m);g&&o.K_.set(m,g.withResumeToken(d.resumeToken,u))}}),h.targetMismatches.forEach((d,m)=>{const g=o.K_.get(d);if(!g)return;o.K_.set(d,g.withResumeToken(Pn.EMPTY_BYTE_STRING,g.snapshotVersion)),pR(o,d);const y=new Ia(g.target,d,m,g.sequenceNumber);Ly(o,y)}),o.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(r){we(Qo,"Failed to raise snapshot:",r),await mp(t,r)}}async function mp(t,e,n){if(!Au(e))throw e;t.W_.add(1),await Lh(t),t.j_.set("Offline"),n||(n=()=>cR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we(Qo,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await em(t)})}function _R(t,e){return e().catch(n=>mp(t,n,e))}async function tm(t){const e=qe(t),n=za(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:wy;for(;HP(e);)try{const a=await AP(e.localStore,r);if(a===null){e.U_.length===0&&n.P_();break}r=a.batchId,$P(e,a)}catch(a){await mp(e,a)}gR(e)&&vR(e)}function HP(t){return il(t)&&t.U_.length<10}function $P(t,e){t.U_.push(e);const n=za(t);n.c_()&&n.S_&&n.b_(e.mutations)}function gR(t){return il(t)&&!za(t).u_()&&t.U_.length>0}function vR(t){za(t).start()}async function GP(t){za(t).C_()}async function KP(t){const e=za(t);for(const n of t.U_)e.b_(n.mutations)}async function QP(t,e,n){const r=t.U_.shift(),a=Oy.from(r,e,n);await _R(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await tm(t)}async function YP(t,e){e&&za(t).S_&&await async function(r,a){if(function(u){return x7(u)&&u!==se.ABORTED}(a.code)){const o=r.U_.shift();za(r).h_(),await _R(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a)),await tm(r)}}(t,e),gR(t)&&vR(t)}async function CT(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),we(Qo,"RemoteStore received new credentials");const r=il(n);n.W_.add(3),await Lh(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await em(n)}async function XP(t,e){const n=qe(t);e?(n.W_.delete(2),await em(n)):e||(n.W_.add(2),await Lh(n),n.j_.set("Unknown"))}function Ru(t){return t.J_||(t.J_=function(n,r,a){const o=qe(n);return o.M_(),new MP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(t.datastore,t.asyncQueue,{xo:BP.bind(null,t),No:zP.bind(null,t),Lo:FP.bind(null,t),p_:qP.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Uy(t)?Vy(t):t.j_.set("Unknown")):(await t.J_.stop(),mR(t))})),t.J_}function za(t){return t.Y_||(t.Y_=function(n,r,a){const o=qe(n);return o.M_(),new kP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:GP.bind(null,t),Lo:YP.bind(null,t),D_:KP.bind(null,t),v_:QP.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await tm(t)):(await t.Y_.stop(),t.U_.length>0&&(we(Qo,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const u=Date.now()+r,h=new jy(e,n,u,a,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function By(t,e){if(js("AsyncQueue",`${e}: ${t}`),Au(t))return new ve(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{static emptySet(e){return new au(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Me.comparator(n.key,r.key):(n,r)=>Me.comparator(n.key,r.key),this.keyedMap=qc(),this.sortedSet=new Ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof au)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new au;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(){this.Z_=new Ft(Me.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Fe():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class yu{constructor(e,n,r,a,o,u,h,d,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,a,o){const u=[];return n.forEach(h=>{u.push({type:0,doc:h})}),new yu(e,n,au.emptySet(n),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class ZP{constructor(){this.queries=IT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const a=qe(n),o=a.queries;a.queries=IT(),o.forEach((u,h)=>{for(const d of h.ta)d.onError(r)})})(this,new ve(se.ABORTED,"Firestore shutting down"))}}function IT(){return new rl(t=>VA(t),Qp)}async function zy(t,e){const n=qe(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.na()&&e.ra()&&(r=2):(o=new WP,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await n.onListen(a,!0);break;case 1:o.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=By(u,`Initialization of query '${Jl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,o),o.ta.push(e),e.sa(n.onlineState),o.ea&&e.oa(o.ea)&&qy(n)}async function Fy(t,e){const n=qe(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const u=o.ta.indexOf(e);u>=0&&(o.ta.splice(u,1),o.ta.length===0?a=e.ra()?0:1:!o.na()&&e.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function JP(t,e){const n=qe(t);let r=!1;for(const a of e){const o=a.query,u=n.queries.get(o);if(u){for(const h of u.ta)h.oa(a)&&(r=!0);u.ea=a}}r&&qy(n)}function eM(t,e,n){const r=qe(t),a=r.queries.get(e);if(a)for(const o of a.ta)o.onError(n);r.queries.delete(e)}function qy(t){t.ia.forEach(e=>{e.next()})}var Lv,DT;(DT=Lv||(Lv={}))._a="default",DT.Cache="cache";class Hy{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new yu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=yu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Lv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.key=e}}class ER{constructor(e){this.key=e}}class tM{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=st(),this.mutatedKeys=st(),this.ya=UA(e),this.wa=new au(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new OT,a=n?n.wa:this.wa;let o=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((g,y)=>{const w=a.get(g),T=Yp(this.query,y)?y:null,S=!!w&&this.mutatedKeys.has(w.key),M=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let I=!1;w&&T?w.data.isEqual(T.data)?S!==M&&(r.track({type:3,doc:T}),I=!0):this.va(w,T)||(r.track({type:2,doc:T}),I=!0,(d&&this.ya(T,d)>0||m&&this.ya(T,m)<0)&&(h=!0)):!w&&T?(r.track({type:0,doc:T}),I=!0):w&&!T&&(r.track({type:1,doc:w}),I=!0,(d||m)&&(h=!0)),I&&(T?(u=u.add(T),o=M?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{wa:u,Da:r,ls:h,mutatedKeys:o}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((g,y)=>function(T,S){const M=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return M(T)-M(S)}(g.type,y.type)||this.ya(g.doc,y.doc)),this.Ca(r),a=a!=null&&a;const h=n&&!a?this.Fa():[],d=this.pa.size===0&&this.current&&!a?1:0,m=d!==this.ga;return this.ga=d,u.length!==0||m?{snapshot:new yu(this.query,e.wa,o,u,e.mutatedKeys,d===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new OT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=st(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new ER(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new yR(r))}),n}Oa(e){this.fa=e.gs,this.pa=st();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return yu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const $y="SyncEngine";class nM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rM{constructor(e){this.key=e,this.Ba=!1}}class iM{constructor(e,n,r,a,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new rl(h=>VA(h),Qp),this.qa=new Map,this.Qa=new Set,this.$a=new Ft(Me.comparator),this.Ua=new Map,this.Ka=new xy,this.Wa={},this.Ga=new Map,this.za=vu.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function sM(t,e,n=!0){const r=RR(t);let a;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.Na()):a=await bR(r,e,n,!0),a}async function aM(t,e){const n=RR(t);await bR(n,e,!0,!1)}async function bR(t,e,n,r){const a=await RP(t.localStore,zi(e)),o=a.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let h;return r&&(h=await oM(t,e,o,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&dR(t.remoteStore,a),h}async function oM(t,e,n,r,a){t.Ha=(y,w,T)=>async function(M,I,U,H){let X=I.view.ba(U);X.ls&&(X=await wT(M.localStore,I.query,!1).then(({documents:k})=>I.view.ba(k,X)));const ie=H&&H.targetChanges.get(I.targetId),x=H&&H.targetMismatches.get(I.targetId)!=null,te=I.view.applyChanges(X,M.isPrimaryClient,ie,x);return NT(M,I.targetId,te.Ma),te.snapshot}(t,y,w,T);const o=await wT(t.localStore,e,!0),u=new tM(e,o.gs),h=u.ba(o.documents),d=kh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),m=u.applyChanges(h,t.isPrimaryClient,d);NT(t,n,m.Ma);const g=new nM(e,n,u);return t.ka.set(e,g),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),m.snapshot}async function lM(t,e,n){const r=qe(t),a=r.ka.get(e),o=r.qa.get(a.targetId);if(o.length>1)return r.qa.set(a.targetId,o.filter(u=>!Qp(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Mv(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&ky(r.remoteStore,a.targetId),Vv(r,a.targetId)}).catch(Su)):(Vv(r,a.targetId),await Mv(r.localStore,a.targetId,!0))}async function uM(t,e){const n=qe(t),r=n.ka.get(e),a=n.qa.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ky(n.remoteStore,r.targetId))}async function cM(t,e,n){const r=gM(t);try{const a=await function(u,h){const d=qe(u),m=on.now(),g=h.reduce((T,S)=>T.add(S.key),st());let y,w;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let S=Bs(),M=st();return d.ds.getEntries(T,g).next(I=>{S=I,S.forEach((U,H)=>{H.isValidDocument()||(M=M.add(U))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,S)).next(I=>{y=I;const U=[];for(const H of h){const X=A7(H,y.get(H.key).overlayedDocument);X!=null&&U.push(new Xa(H.key,X,IA(X.value.mapValue),Fi.exists(!0)))}return d.mutationQueue.addMutationBatch(T,m,U,h)}).next(I=>{w=I;const U=I.applyToLocalDocumentSet(y,M);return d.documentOverlayCache.saveOverlays(T,I.batchId,U)})}).then(()=>({batchId:w.batchId,changes:BA(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(u,h,d){let m=u.Wa[u.currentUser.toKey()];m||(m=new Ft(Je)),m=m.insert(h,d),u.Wa[u.currentUser.toKey()]=m}(r,a.batchId,n),await Vh(r,a.changes),await tm(r.remoteStore)}catch(a){const o=By(a,"Failed to persist write");n.reject(o)}}async function wR(t,e){const n=qe(t);try{const r=await TP(n.localStore,e);e.targetChanges.forEach((a,o)=>{const u=n.Ua.get(o);u&&(Tt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?u.Ba=!0:a.modifiedDocuments.size>0?Tt(u.Ba):a.removedDocuments.size>0&&(Tt(u.Ba),u.Ba=!1))}),await Vh(n,r,e)}catch(r){await Su(r)}}function xT(t,e,n){const r=qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.ka.forEach((o,u)=>{const h=u.view.sa(e);h.snapshot&&a.push(h.snapshot)}),function(u,h){const d=qe(u);d.onlineState=h;let m=!1;d.queries.forEach((g,y)=>{for(const w of y.ta)w.sa(h)&&(m=!0)}),m&&qy(d)}(r.eventManager,e),a.length&&r.La.p_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function hM(t,e,n){const r=qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Ua.get(e),o=a&&a.key;if(o){let u=new Ft(Me.comparator);u=u.insert(o,zn.newNoDocument(o,He.min()));const h=st().add(o),d=new Zp(He.min(),new Map,new Ft(Je),u,h);await wR(r,d),r.$a=r.$a.remove(o),r.Ua.delete(e),Gy(r)}else await Mv(r.localStore,e,!1).then(()=>Vv(r,e,n)).catch(Su)}async function fM(t,e){const n=qe(t),r=e.batch.batchId;try{const a=await wP(n.localStore,e);SR(n,r,null),TR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vh(n,a)}catch(a){await Su(a)}}async function dM(t,e,n){const r=qe(t);try{const a=await function(u,h){const d=qe(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let g;return d.mutationQueue.lookupMutationBatch(m,h).next(y=>(Tt(y!==null),g=y.keys(),d.mutationQueue.removeMutationBatch(m,y))).next(()=>d.mutationQueue.performConsistencyCheck(m)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(m,g,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g)).next(()=>d.localDocuments.getDocuments(m,g))})}(r.localStore,e);SR(r,e,n),TR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vh(r,a)}catch(a){await Su(a)}}function TR(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function SR(t,e,n){const r=qe(t);let a=r.Wa[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.Wa[r.currentUser.toKey()]=a}}function Vv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||AR(t,r)})}function AR(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(ky(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),Gy(t))}function NT(t,e,n){for(const r of n)r instanceof yR?(t.Ka.addReference(r.key,e),pM(t,r)):r instanceof ER?(we($y,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||AR(t,r.key)):Fe()}function pM(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(we($y,"New document in limbo: "+n),t.Qa.add(r),Gy(t))}function Gy(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Me(kt.fromString(e)),r=t.za.next();t.Ua.set(r,new rM(n)),t.$a=t.$a.insert(n,r),dR(t.remoteStore,new Ia(zi(Kp(n.path)),r,"TargetPurposeLimboResolution",qp.ae))}}async function Vh(t,e,n){const r=qe(t),a=[],o=[],u=[];r.ka.isEmpty()||(r.ka.forEach((h,d)=>{u.push(r.Ha(d,e,n).then(m=>{var g;if((m||n)&&r.isPrimaryClient){const y=m?!m.fromCache:(g=n==null?void 0:n.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(m){a.push(m);const y=Py.Yi(d.targetId,m);o.push(y)}}))}),await Promise.all(u),r.La.p_(a),await async function(d,m){const g=qe(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>le.forEach(m,w=>le.forEach(w.Hi,T=>g.persistence.referenceDelegate.addReference(y,w.targetId,T)).next(()=>le.forEach(w.Ji,T=>g.persistence.referenceDelegate.removeReference(y,w.targetId,T)))))}catch(y){if(!Au(y))throw y;we(My,"Failed to update sequence numbers: "+y)}for(const y of m){const w=y.targetId;if(!y.fromCache){const T=g.Ts.get(w),S=T.snapshotVersion,M=T.withLastLimboFreeSnapshotVersion(S);g.Ts=g.Ts.insert(w,M)}}}(r.localStore,o))}async function mM(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){we($y,"User change. New user:",e.toKey());const r=await uR(n.localStore,e);n.currentUser=e,function(o,u){o.Ga.forEach(h=>{h.forEach(d=>{d.reject(new ve(se.CANCELLED,u))})}),o.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vh(n,r.Rs)}}function _M(t,e){const n=qe(t),r=n.Ua.get(e);if(r&&r.Ba)return st().add(r.key);{let a=st();const o=n.qa.get(e);if(!o)return a;for(const u of o){const h=n.ka.get(u);a=a.unionWith(h.view.Sa)}return a}}function RR(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_M.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hM.bind(null,e),e.La.p_=JP.bind(null,e.eventManager),e.La.Ja=eM.bind(null,e.eventManager),e}function gM(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dM.bind(null,e),e}class _p{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jp(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return bP(this.persistence,new vP,e.initialUser,this.serializer)}Xa(e){return new lR(Ny.ri,this.serializer)}Za(e){return new OP}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_p.provider={build:()=>new _p};class vM extends _p{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Tt(this.persistence.referenceDelegate instanceof pp);const r=this.persistence.referenceDelegate.garbageCollector;return new rP(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?rr.withCacheSize(this.cacheSizeBytes):rr.DEFAULT;return new lR(r=>pp.ri(r,n),this.serializer)}}class Uv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mM.bind(null,this.syncEngine),await XP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZP}()}createDatastore(e){const n=Jp(e.databaseInfo.databaseId),r=function(o){return new PP(o)}(e.databaseInfo);return function(o,u,h,d){return new VP(o,u,h,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,a,o,u,h){return new jP(r,a,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,n=>xT(this.syncEngine,n,0),function(){return AT.D()?new AT:new IP}())}createSyncEngine(e,n){return function(a,o,u,h,d,m,g){const y=new iM(a,o,u,h,d,m);return g&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const o=qe(a);we(Qo,"RemoteStore shutting down."),o.W_.add(5),await Lh(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Uv.provider={build:()=>new Uv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):js("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="FirestoreClient";class yM{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=Bn.UNAUTHENTICATED,this.clientId=yA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{we(Fa,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(we(Fa,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=By(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Qg(t,e){t.asyncQueue.verifyOperationInProgress(),we(Fa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async a=>{r.isEqual(a)||(await uR(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function PT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await EM(t);we(Fa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>CT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,a)=>CT(e.remoteStore,a)),t._onlineComponents=e}async function EM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(Fa,"Using user provided OfflineComponentProvider");try{await Qg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;du("Error using user provided cache. Falling back to memory cache: "+n),await Qg(t,new _p)}}else we(Fa,"Using default OfflineComponentProvider"),await Qg(t,new vM(void 0));return t._offlineComponents}async function Qy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(Fa,"Using user provided OnlineComponentProvider"),await PT(t,t._uninitializedComponentsProvider._online)):(we(Fa,"Using default OnlineComponentProvider"),await PT(t,new Uv))),t._onlineComponents}function bM(t){return Qy(t).then(e=>e.syncEngine)}function wM(t){return Qy(t).then(e=>e.datastore)}async function gp(t){const e=await Qy(t),n=e.eventManager;return n.onListen=sM.bind(null,e.syncEngine),n.onUnlisten=lM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=aM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uM.bind(null,e.syncEngine),n}function TM(t,e,n={}){const r=new Bi;return t.asyncQueue.enqueueAndForget(async()=>function(o,u,h,d,m){const g=new Ky({next:w=>{g.su(),u.enqueueAndForget(()=>Fy(o,y));const T=w.docs.has(h);!T&&w.fromCache?m.reject(new ve(se.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&w.fromCache&&d&&d.source==="server"?m.reject(new ve(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(w)},error:w=>m.reject(w)}),y=new Hy(Kp(h.path),g,{includeMetadataChanges:!0,Ta:!0});return zy(o,y)}(await gp(t),t.asyncQueue,e,n,r)),r.promise}function SM(t,e,n={}){const r=new Bi;return t.asyncQueue.enqueueAndForget(async()=>function(o,u,h,d,m){const g=new Ky({next:w=>{g.su(),u.enqueueAndForget(()=>Fy(o,y)),w.fromCache&&d.source==="server"?m.reject(new ve(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),y=new Hy(h,g,{includeMetadataChanges:!0,Ta:!0});return zy(o,y)}(await gp(t),t.asyncQueue,e,n,r)),r.promise}function AM(t,e,n){const r=new Bi;return t.asyncQueue.enqueueAndForget(async()=>{try{const a=await wM(t);r.resolve(async function(u,h,d){var m;const g=qe(u),{request:y,Pt:w,parent:T}=H7(g.serializer,h7(h),d);g.connection.fo||delete y.parent;const S=(await g.Co("RunAggregationQuery",g.serializer.databaseId,T,y,1)).filter(I=>!!I.result);Tt(S.length===1);const M=(m=S[0].result)===null||m===void 0?void 0:m.aggregateFields;return Object.keys(M).reduce((I,U)=>(I[w[U]]=M[U],I),{})}(a,e,n))}catch(a){r.reject(a)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t,e,n){if(!n)throw new ve(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RM(t,e,n,r){if(e===!0&&r===!0)throw new ve(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kT(t){if(!Me.isDocumentKey(t))throw new ve(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function LT(t){if(Me.isDocumentKey(t))throw new ve(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe()}function Gr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nm(t);throw new ve(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function CM(t,e){if(e<=0)throw new ve(se.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="firestore.googleapis.com",VT=!0;class UT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IR,this.ssl=VT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:VT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tP)throw new ve(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ve(se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ve(se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ve(se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rm{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new D8;switch(r.type){case"firstParty":return new M8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=MT.get(n);r&&(we("ComponentProvider","Removing Datastore"),MT.delete(n),r.terminate())}(this),Promise.resolve()}}function OM(t,e,n,r={}){var a;const o=(t=Gr(t,rm))._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;o.host!==IR&&o.host!==h&&du("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:h,ssl:!1,emulatorOptions:r});if(!$o(d,u)&&(t._setSettings(d),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=Bn.MOCK_USER;else{m=sA(r.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new ve(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Bn(y)}t._authCredentials=new x8(new gA(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zi(this.firestore,e,this._query)}}class Zn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zn(this.firestore,e,this._key)}}class Ma extends Zi{constructor(e,n,r){super(e,n,Kp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zn(this.firestore,null,new Me(e))}withConverter(e){return new Ma(this.firestore,e,this._path)}}function vp(t,e,...n){if(t=ln(t),OR("collection","path",e),t instanceof rm){const r=kt.fromString(e,...n);return LT(r),new Ma(t,null,r)}{if(!(t instanceof Zn||t instanceof Ma))throw new ve(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kt.fromString(e,...n));return LT(r),new Ma(t.firestore,null,r)}}function Yy(t,e,...n){if(t=ln(t),arguments.length===1&&(e=yA.newId()),OR("doc","path",e),t instanceof rm){const r=kt.fromString(e,...n);return kT(r),new Zn(t,null,new Me(r))}{if(!(t instanceof Zn||t instanceof Ma))throw new ve(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kt.fromString(e,...n));return kT(r),new Zn(t.firestore,t instanceof Ma?t.converter:null,new Me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="AsyncQueue";class BT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new hR(this,"async_queue_retry"),this.Su=()=>{const r=Kg();r&&we(jT,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=Kg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Kg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Bi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Au(e))throw e;we(jT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const a=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(r);throw js("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const a=jy.createAndSchedule(this,e,n,r,o=>this.Fu(o));return this.fu.push(a),a}Du(){this.gu&&Fe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function zT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1}(t,["next","error","complete"])}class qa extends rm{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new BT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new BT(e),this._firestoreClient=void 0,await e}}}function IM(t,e){const n=typeof t=="object"?t:Ey(),r=typeof t=="string"?t:op,a=Fp(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=nA("firestore");o&&OM(a,...o)}return a}function Uh(t){if(t._terminated)throw new ve(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||DM(t),t._firestoreClient}function DM(t){var e,n,r;const a=t._freezeSettings(),o=function(h,d,m,g){return new X8(h,d,m,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,CR(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new yM(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class NM{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Eu(Pn.fromBase64String(e))}catch(n){throw new ve(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Eu(Pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=/^__.*__$/;class MM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mh(e,this.data,n,this.fieldTransforms)}}class DR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}class Jy{constructor(e,n,r,a,o,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Jy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:r,Qu:!1});return a.$u(e),a}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:r,Qu:!1});return a.Bu(),a}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return yp(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(xR(this.Lu)&&PM.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class kM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Jp(e)}ju(e,n,r,a=!1){return new Jy({Lu:e,methodName:n,zu:r,path:Nn.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sm(t){const e=t._freezeSettings(),n=Jp(t._databaseId);return new kM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LM(t,e,n,r,a,o={}){const u=t.ju(o.merge||o.mergeFields?2:0,e,n,a);e0("Data must be an object, but it was:",u,r);const h=PR(r,u);let d,m;if(o.merge)d=new vr(u.fieldMask),m=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const y of o.mergeFields){const w=jv(e,y,n);if(!u.contains(w))throw new ve(se.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);kR(g,w)||g.push(w)}d=new vr(g),m=u.fieldTransforms.filter(y=>d.covers(y.field))}else d=null,m=u.fieldTransforms;return new MM(new ir(h),d,m)}class am extends Xy{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof am}}function VM(t,e,n,r){const a=t.ju(1,e,n);e0("Data must be an object, but it was:",a,r);const o=[],u=ir.empty();Ya(r,(d,m)=>{const g=t0(e,d,n);m=ln(m);const y=a.Uu(g);if(m instanceof am)o.push(g);else{const w=jh(m,y);w!=null&&(o.push(g),u.set(g,w))}});const h=new vr(o);return new DR(u,h,a.fieldTransforms)}function UM(t,e,n,r,a,o){const u=t.ju(1,e,n),h=[jv(e,r,n)],d=[a];if(o.length%2!=0)throw new ve(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)h.push(jv(e,o[w])),d.push(o[w+1]);const m=[],g=ir.empty();for(let w=h.length-1;w>=0;--w)if(!kR(m,h[w])){const T=h[w];let S=d[w];S=ln(S);const M=u.Uu(T);if(S instanceof am)m.push(T);else{const I=jh(S,M);I!=null&&(m.push(T),g.set(T,I))}}const y=new vr(m);return new DR(g,y,u.fieldTransforms)}function NR(t,e,n,r=!1){return jh(n,t.ju(r?4:3,e))}function jh(t,e){if(MR(t=ln(t)))return e0("Unsupported field value:",e,t),PR(t,e);if(t instanceof Xy)return function(r,a){if(!xR(a.Lu))throw a.Wu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,a){const o=[];let u=0;for(const h of r){let d=jh(h,a.Ku(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}}(t,e)}return function(r,a){if((r=ln(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return y7(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=on.fromDate(r);return{timestampValue:dp(a.serializer,o)}}if(r instanceof on){const o=new on(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dp(a.serializer,o)}}if(r instanceof Wy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Eu)return{bytesValue:JA(a.serializer,r._byteString)};if(r instanceof Zn){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Dy(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Zy)return function(u,h){return{mapValue:{fields:{[CA]:{stringValue:OA},[lp]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw h.Wu("VectorValues must only contain numeric values.");return Cy(h.serializer,m)})}}}}}}(r,a);throw a.Wu(`Unsupported field value: ${nm(r)}`)}(t,e)}function PR(t,e){const n={};return bA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ya(t,(r,a)=>{const o=jh(a,e.qu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function MR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof on||t instanceof Wy||t instanceof Eu||t instanceof Zn||t instanceof Xy||t instanceof Zy)}function e0(t,e,n){if(!MR(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=nm(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function jv(t,e,n){if((e=ln(e))instanceof im)return e._internalPath;if(typeof e=="string")return t0(t,e);throw yp("Field path arguments must be of type string or ",t,!1,void 0,n)}const jM=new RegExp("[~\\*/\\[\\]]");function t0(t,e,n){if(e.search(jM)>=0)throw yp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new im(...e.split("."))._internalPath}catch{throw yp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yp(t,e,n,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${r}`),u&&(d+=` in document ${a}`),d+=")"),new ve(se.INVALID_ARGUMENT,h+t+d)}function kR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(om("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BM extends n0{data(){return super.data()}}function om(t,e){return typeof e=="string"?t0(t,e):e instanceof im?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class r0{}class lm extends r0{}function Os(t,e,...n){let r=[];e instanceof r0&&r.push(e),r=r.concat(n),function(o){const u=o.filter(d=>d instanceof i0).length,h=o.filter(d=>d instanceof um).length;if(u>1||u>0&&h>0)throw new ve(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)t=a._apply(t);return t}class um extends lm{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new um(e,n,r)}_apply(e){const n=this._parse(e);return VR(e._query,n),new Zi(e.firestore,e.converter,Iv(e._query,n))}_parse(e){const n=sm(e.firestore);return function(o,u,h,d,m,g,y){let w;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ve(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){HT(y,g);const S=[];for(const M of y)S.push(qT(d,o,M));w={arrayValue:{values:S}}}else w=qT(d,o,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||HT(y,g),w=NR(h,u,y,g==="in"||g==="not-in");return an.create(m,g,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function wd(t,e,n){const r=e,a=om("where",t);return um._create(a,r,n)}class i0 extends r0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new i0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ui.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,o){let u=a;const h=o.getFlattenedFilters();for(const d of h)VR(u,d),u=Iv(u,d)}(e._query,n),new Zi(e.firestore,e.converter,Iv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class s0 extends lm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new s0(e,n)}_apply(e){const n=function(a,o,u){if(a.startAt!==null)throw new ve(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ve(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hh(o,u)}(e._query,this._field,this._direction);return new Zi(e.firestore,e.converter,function(a,o){const u=a.explicitOrderBy.concat([o]);return new nl(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function $c(t,e="asc"){const n=e,r=om("orderBy",t);return s0._create(r,n)}class a0 extends lm{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new a0(e,n,r)}_apply(e){return new Zi(e.firestore,e.converter,cp(e._query,this._limit,this._limitType))}}function Mc(t){return CM("limit",t),a0._create("limit",t,"F")}class o0 extends lm{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new o0(e,n,r)}_apply(e){const n=zM(e,this.type,this._docOrFields,this._inclusive);return new Zi(e.firestore,e.converter,function(a,o){return new nl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,o,a.endAt)}(e._query,n))}}function FT(...t){return o0._create("startAfter",t,!1)}function zM(t,e,n,r){if(n[0]=ln(n[0]),n[0]instanceof n0)return function(o,u,h,d,m){if(!d)throw new ve(se.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const g=[];for(const y of su(o))if(y.field.isKeyField())g.push(up(u,d.key));else{const w=d.data.field(y.field);if($p(w))throw new ve(se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const T=y.field.canonicalString();throw new ve(se.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}g.push(w)}return new gu(g,m)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const a=sm(t.firestore);return function(u,h,d,m,g,y){const w=u.explicitOrderBy;if(g.length>w.length)throw new ve(se.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let S=0;S<g.length;S++){const M=g[S];if(w[S].field.isKeyField()){if(typeof M!="string")throw new ve(se.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof M}`);if(!Ry(u)&&M.indexOf("/")!==-1)throw new ve(se.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${M}' contains a slash.`);const I=u.path.child(kt.fromString(M));if(!Me.isDocumentKey(I))throw new ve(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const U=new Me(I);T.push(up(h,U))}else{const I=NR(d,m,M);T.push(I)}}return new gu(T,y)}(t._query,t.firestore._databaseId,a,e,n,r)}}function qT(t,e,n){if(typeof(n=ln(n))=="string"){if(n==="")throw new ve(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ry(e)&&n.indexOf("/")!==-1)throw new ve(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(kt.fromString(n));if(!Me.isDocumentKey(r))throw new ve(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return up(t,new Me(r))}if(n instanceof Zn)return up(t,n._key);throw new ve(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nm(n)}.`)}function HT(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VR(t,e){const n=function(a,o){for(const u of a)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ve(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class FM{convertValue(e,n="none"){switch(Ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ya(e,(a,o)=>{r[a]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,a;const o=(a=(r=(n=e.fields)===null||n===void 0?void 0:n[lp].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(u=>Zt(u.doubleValue));return new Zy(o)}convertGeoPoint(e){return new Wy(Zt(e.latitude),Zt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Gp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(lh(e));default:return null}}convertTimestamp(e){const n=Ua(e);return new on(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=kt.fromString(e);Tt(aR(r));const a=new uh(r.get(1),r.get(3)),o=new Me(r.popFirst(5));return a.isEqual(n)||js(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t,e,n){let r;return r=t?t.toFirestore(e):e,r}function HM(){return new xM("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class UR extends n0{constructor(e,n,r,a,o,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(om("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Vd extends UR{data(e={}){return super.data(e)}}class jR{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Gc(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Vd(this._firestore,this._userDataWriter,r.key,r,new Gc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(h=>{const d=new Vd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Gc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const d=new Vd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Gc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,g=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:$M(h.type),doc:d,oldIndex:m,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $M(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(t){t=Gr(t,Zn);const e=Gr(t.firestore,qa);return TM(Uh(e),t._key).then(n=>FR(e,t,n))}class cm extends FM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,n)}}function kc(t){t=Gr(t,Zi);const e=Gr(t.firestore,qa),n=Uh(e),r=new cm(e);return LR(t._query),SM(n,t._query).then(a=>new jR(e,r,t,a))}function $T(t,e,n,...r){t=Gr(t,Zn);const a=Gr(t.firestore,qa),o=sm(a);let u;return u=typeof(e=ln(e))=="string"||e instanceof im?UM(o,"updateDoc",t._key,e,n,r):VM(o,"updateDoc",t._key,e),zR(a,[u.toMutation(t._key,Fi.exists(!0))])}function GM(t,e){const n=Gr(t.firestore,qa),r=Yy(t),a=qM(t.converter,e);return zR(n,[LM(sm(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Fi.exists(!1))]).then(()=>r)}function KM(t,...e){var n,r,a;t=ln(t);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||zT(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(zT(e[u])){const y=e[u];e[u]=(n=y.next)===null||n===void 0?void 0:n.bind(y),e[u+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[u+2]=(a=y.complete)===null||a===void 0?void 0:a.bind(y)}let d,m,g;if(t instanceof Zn)m=Gr(t.firestore,qa),g=Kp(t._key.path),d={next:y=>{e[u]&&e[u](FR(m,t,y))},error:e[u+1],complete:e[u+2]};else{const y=Gr(t,Zi);m=Gr(y.firestore,qa),g=y._query;const w=new cm(m);d={next:T=>{e[u]&&e[u](new jR(m,w,y,T))},error:e[u+1],complete:e[u+2]},LR(t._query)}return function(w,T,S,M){const I=new Ky(M),U=new Hy(T,I,S);return w.asyncQueue.enqueueAndForget(async()=>zy(await gp(w),U)),()=>{I.su(),w.asyncQueue.enqueueAndForget(async()=>Fy(await gp(w),U))}}(Uh(m),g,h,d)}function zR(t,e){return function(r,a){const o=new Bi;return r.asyncQueue.enqueueAndForget(async()=>cM(await bM(r),a,o)),o.promise}(Uh(t),e)}function FR(t,e,n){const r=n.docs.get(e._key),a=new cm(t);return new UR(t,a,e._key,r,new Gc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t){return QM(t,{count:HM()})}function QM(t,e){const n=Gr(t.firestore,qa),r=Uh(n),a=Q8(e,(o,u)=>new I7(u,o.aggregateType,o._internalFieldPath));return AM(r,t._query,a).then(o=>function(h,d,m){const g=new cm(h);return new NM(d,g,m)}(n,t,o))}(function(e,n=!0){(function(a){Tu=a})(tl),Go(new La("firestore",(r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new qa(new N8(r.getProvider("auth-internal")),new k8(u,r.getProvider("app-check-internal")),function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ve(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uh(m.options.projectId,g)}(u,a),u);return o=Object.assign({useFetchStreams:n},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),ji(Gw,Kw,e),ji(Gw,Kw,"esm2017")})();function l0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function qR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YM=qR,HR=new Nh("auth","Firebase",qR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep=new vy("@firebase/auth");function XM(t,...e){Ep.logLevel<=it.WARN&&Ep.warn(`Auth (${tl}): ${t}`,...e)}function Ud(t,...e){Ep.logLevel<=it.ERROR&&Ep.error(`Auth (${tl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t,...e){throw u0(t,...e)}function Hi(t,...e){return u0(t,...e)}function $R(t,e,n){const r=Object.assign(Object.assign({},YM()),{[e]:n});return new Nh("auth","Firebase",r).create(e,{appName:t.name})}function Ls(t){return $R(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function u0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HR.create(t,...e)}function Ve(t,e,...n){if(!t)throw u0(e,...n)}function xs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ud(e),new Error(e)}function zs(t,e){t||xs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function WM(){return GT()==="http:"||GT()==="https:"}function GT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WM()||oN()||"connection"in navigator)?navigator.onLine:!0}function JM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n){this.shortDelay=e,this.longDelay=n,zs(n>e,"Short delay should be less than long delay!"),this.isMobile=iN()||lN()}get(){return ZM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(t,e){zs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=new Bh(3e4,6e4);function Wa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Za(t,e,n,r,a={}){return KR(t,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=Ph(Object.assign({key:t.config.apiKey},u)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:d},o);return aN()||(m.referrerPolicy="no-referrer"),GR.fetch()(QR(t,t.config.apiHost,n,h),m)})}async function KR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ek),e);try{const a=new rk(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Td(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Td(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Td(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw Td(t,"user-disabled",u);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw $R(t,g,m);ci(t,g)}}catch(a){if(a instanceof $n)throw a;ci(t,"network-request-failed",{message:String(a)})}}async function zh(t,e,n,r,a={}){const o=await Za(t,e,n,r,a);return"mfaPendingCredential"in o&&ci(t,"multi-factor-auth-required",{_serverResponse:o}),o}function QR(t,e,n,r){const a=`${e}${n}?${r}`;return t.config.emulator?c0(t.config,a):`${t.config.apiScheme}://${a}`}function nk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hi(this.auth,"network-request-failed")),tk.get())})}}function Td(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Hi(t,e,r);return a.customData._tokenResponse=n,a}function KT(t){return t!==void 0&&t.enterprise!==void 0}class ik{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return nk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sk(t,e){return Za(t,"GET","/v2/recaptchaConfig",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(t,e){return Za(t,"POST","/v1/accounts:delete",e)}async function YR(t,e){return Za(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ok(t,e=!1){const n=ln(t),r=await n.getIdToken(e),a=h0(r);Ve(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:Jc(Yg(a.auth_time)),issuedAtTime:Jc(Yg(a.iat)),expirationTime:Jc(Yg(a.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Yg(t){return Number(t)*1e3}function h0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ud("JWT malformed, contained fewer than 3 sections"),null;try{const a=eA(n);return a?JSON.parse(a):(Ud("Failed to decode base64 JWT payload"),null)}catch(a){return Ud("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function QT(t){const e=h0(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $n&&lk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function lk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jc(this.lastLoginAt),this.creationTime=Jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bp(t){var e;const n=t.auth,r=await t.getIdToken(),a=await ph(t,YR(n,{idToken:r}));Ve(a==null?void 0:a.users.length,n,"internal-error");const o=a.users[0];t._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?XR(o.providerUserInfo):[],h=hk(t.providerData,u),d=t.isAnonymous,m=!(t.email&&o.passwordHash)&&!(h!=null&&h.length),g=d?m:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Fv(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function ck(t){const e=ln(t);await bp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hk(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function XR(t){return t.map(e=>{var{providerId:n}=e,r=l0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fk(t,e){const n=await KR(t,{},async()=>{const r=Ph({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,u=QR(t,a,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",GR.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dk(t,e){return Za(t,"POST","/v2/accounts:revokeToken",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=QT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await fk(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,u=new ou;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(Ve(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(Ve(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ou,this.toJSON())}_performRefresh(){return xs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ns{constructor(e){var{uid:n,auth:r,stsTokenManager:a}=e,o=l0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Fv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ph(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ok(this,e)}reload(){return ck(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gr(this.auth.app))return Promise.reject(Ls(this.auth));const e=await this.getIdToken();return await ph(this,ak(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,a,o,u,h,d,m,g;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(a=n.email)!==null&&a!==void 0?a:void 0,T=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(u=n.photoURL)!==null&&u!==void 0?u:void 0,M=(h=n.tenantId)!==null&&h!==void 0?h:void 0,I=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,U=(m=n.createdAt)!==null&&m!==void 0?m:void 0,H=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:X,emailVerified:ie,isAnonymous:x,providerData:te,stsTokenManager:k}=n;Ve(X&&k,e,"internal-error");const O=ou.fromJSON(this.name,k);Ve(typeof X=="string",e,"internal-error"),ya(y,e.name),ya(w,e.name),Ve(typeof ie=="boolean",e,"internal-error"),Ve(typeof x=="boolean",e,"internal-error"),ya(T,e.name),ya(S,e.name),ya(M,e.name),ya(I,e.name),ya(U,e.name),ya(H,e.name);const C=new Ns({uid:X,auth:e,email:w,emailVerified:ie,displayName:y,isAnonymous:x,photoURL:S,phoneNumber:T,tenantId:M,stsTokenManager:O,createdAt:U,lastLoginAt:H});return te&&Array.isArray(te)&&(C.providerData=te.map(N=>Object.assign({},N))),I&&(C._redirectEventId=I),C}static async _fromIdTokenResponse(e,n,r=!1){const a=new ou;a.updateFromServerResponse(n);const o=new Ns({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await bp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Ve(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?XR(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),h=new ou;h.updateFromIdToken(r);const d=new Ns({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Fv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=new Map;function Ps(t){zs(t instanceof Function,"Expected a class definition");let e=YT.get(t);return e?(zs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,YT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}WR.type="NONE";const XT=WR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(t,e,n){return`firebase:${t}:${e}:${n}`}class lu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=jd(this.userKey,a.apiKey,o),this.fullPersistenceKey=jd("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ns._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new lu(Ps(XT),e,r);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=a[0]||Ps(XT);const u=jd(r,e.config.apiKey,e.name);let h=null;for(const m of n)try{const g=await m._get(u);if(g){const y=Ns._fromJSON(e,g);m!==o&&(h=y),o=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new lu(o,e,r):(o=d[0],h&&await o._set(u,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==o)try{await m._remove(u)}catch{}})),new lu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rC(e))return"Blackberry";if(iC(e))return"Webos";if(JR(e))return"Safari";if((e.includes("chrome/")||eC(e))&&!e.includes("edge/"))return"Chrome";if(nC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ZR(t=Hn()){return/firefox\//i.test(t)}function JR(t=Hn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eC(t=Hn()){return/crios\//i.test(t)}function tC(t=Hn()){return/iemobile/i.test(t)}function nC(t=Hn()){return/android/i.test(t)}function rC(t=Hn()){return/blackberry/i.test(t)}function iC(t=Hn()){return/webos/i.test(t)}function f0(t=Hn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pk(t=Hn()){var e;return f0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mk(){return uN()&&document.documentMode===10}function sC(t=Hn()){return f0(t)||nC(t)||iC(t)||rC(t)||/windows phone/i.test(t)||tC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(t,e=[]){let n;switch(t){case"Browser":n=WT(Hn());break;case"Worker":n=`${WT(Hn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((u,h)=>{try{const d=e(o);u(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gk(t,e={}){return Za(t,"GET","/v2/passwordPolicy",Wa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=6;class yk{constructor(e){var n,r,a,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:vk,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,a,o,u,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(a=d.containsLowercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZT(this),this.idTokenSubscription=new ZT(this),this.beforeStateQueue=new _k(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ps(n)),this._initializationPromise=this.queue(async()=>{var r,a;if(!this._deleted&&(this.persistenceManager=await lu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await YR(this,{idToken:e}),r=await Ns._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(gr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=a==null?void 0:a._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&(d!=null&&d.user)&&(a=d.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gr(this.app))return Promise.reject(Ls(this));const n=e?ln(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gr(this.app)?Promise.reject(Ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gr(this.app)?Promise.reject(Ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gk(this),n=new yk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await dk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ps(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await lu.create(this,[Ps(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(gr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&XM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function sl(t){return ln(t)}class ZT{constructor(e){this.auth=e,this.observer=null,this.addObserver=gN(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bk(t){hm=t}function oC(t){return hm.loadJS(t)}function wk(){return hm.recaptchaEnterpriseScript}function Tk(){return hm.gapiScript}function Sk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Ak{constructor(){this.enterprise=new Rk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Rk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Ck="recaptcha-enterprise",lC="NO_RECAPTCHA";class Ok{constructor(e){this.type=Ck,this.auth=sl(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{sk(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new ik(d);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,u(m.siteKey)}}).catch(d=>{h(d)})})}function a(o,u,h){const d=window.grecaptcha;KT(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(m=>{u(m)}).catch(()=>{u(lC)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ak().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!n&&KT(window.grecaptcha))a(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=wk();d.length!==0&&(d+=h),oC(d).then(()=>{a(h,o,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function JT(t,e,n,r=!1,a=!1){const o=new Ok(t);let u;if(a)u=lC;else try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function qv(t,e,n,r,a){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await JT(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await JT(t,e,n,n==="getOobCode");return r(t,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(t,e){const n=Fp(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if($o(o,e??{}))return a;ci(a,"already-initialized")}return n.initialize({options:e})}function Dk(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ps);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function xk(t,e,n){const r=sl(t);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=uC(e),{host:u,port:h}=Nk(e),d=h===null?"":`:${h}`,m={url:`${o}//${u}${d}/`},g=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve($o(m,r.config.emulator)&&$o(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Pk()}function uC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Nk(t){const e=uC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:eS(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:eS(u)}}}function eS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Pk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xs("not implemented")}_getIdTokenResponse(e){return xs("not implemented")}_linkToIdToken(e,n){return xs("not implemented")}_getReauthenticationResolver(e){return xs("not implemented")}}async function Mk(t,e){return Za(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kk(t,e){return zh(t,"POST","/v1/accounts:signInWithPassword",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lk(t,e){return zh(t,"POST","/v1/accounts:signInWithEmailLink",Wa(t,e))}async function Vk(t,e){return zh(t,"POST","/v1/accounts:signInWithEmailLink",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends d0{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new mh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new mh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qv(e,n,"signInWithPassword",kk);case"emailLink":return Lk(e,{email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qv(e,r,"signUpPassword",Mk);case"emailLink":return Vk(e,{idToken:n,email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(t,e){return zh(t,"POST","/v1/accounts:signInWithIdp",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk="http://localhost";class Yo extends d0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=n,o=l0(n,["providerId","signInMethod"]);if(!r||!a)return null;const u=new Yo(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return uu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,uu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uu(e,n)}buildRequest(){const e={requestUri:Uk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ph(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Bk(t){const e=Bc(zc(t)).link,n=e?Bc(zc(e)).deep_link_id:null,r=Bc(zc(t)).deep_link_id;return(r?Bc(zc(r)).link:null)||r||n||e||t}class p0{constructor(e){var n,r,a,o,u,h;const d=Bc(zc(e)),m=(n=d.apiKey)!==null&&n!==void 0?n:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,y=jk((a=d.mode)!==null&&a!==void 0?a:null);Ve(m&&g&&y,"argument-error"),this.apiKey=m,this.operation=y,this.code=g,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=d.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=Bk(e);try{return new p0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(){this.providerId=Cu.PROVIDER_ID}static credential(e,n){return mh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=p0.parseLink(n);return Ve(r,"argument-error"),mh._fromEmailAndCode(e,r.code,r.tenantId)}}Cu.PROVIDER_ID="password";Cu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends cC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends Fh{constructor(){super("facebook.com")}static credential(e){return Yo._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sa.credential(e.oauthAccessToken)}catch{return null}}}Sa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends Fh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Yo._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Aa.credential(n,r)}catch{return null}}}Aa.GOOGLE_SIGN_IN_METHOD="google.com";Aa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Fh{constructor(){super("github.com")}static credential(e){return Yo._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ra.credential(e.oauthAccessToken)}catch{return null}}}Ra.GITHUB_SIGN_IN_METHOD="github.com";Ra.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends Fh{constructor(){super("twitter.com")}static credential(e,n){return Yo._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ca.credential(n,r)}catch{return null}}}Ca.TWITTER_SIGN_IN_METHOD="twitter.com";Ca.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(t,e){return zh(t,"POST","/v1/accounts:signUp",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await Ns._fromIdTokenResponse(e,r,a),u=tS(r);return new Xo({user:o,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=tS(r);return new Xo({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function tS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp extends $n{constructor(e,n,r,a){var o;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,wp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new wp(e,n,r,a)}}function hC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?wp._fromErrorAndOperation(t,o,e,r):o})}async function Fk(t,e,n=!1){const r=await ph(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk(t,e,n=!1){const{auth:r}=t;if(gr(r.app))return Promise.reject(Ls(r));const a="reauthenticate";try{const o=await ph(t,hC(r,a,e,t),n);Ve(o.idToken,r,"internal-error");const u=h0(o.idToken);Ve(u,r,"internal-error");const{sub:h}=u;return Ve(t.uid===h,r,"user-mismatch"),Xo._forOperation(t,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ci(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(t,e,n=!1){if(gr(t.app))return Promise.reject(Ls(t));const r="signIn",a=await hC(t,r,e),o=await Xo._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}async function Hk(t,e){return fC(sl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(t){const e=sl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $k(t,e,n){if(gr(t.app))return Promise.reject(Ls(t));const r=sl(t),u=await qv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zk).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&dC(t),d}),h=await Xo._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function Gk(t,e,n){return gr(t.app)?Promise.reject(Ls(t)):Hk(ln(t),Cu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&dC(t),r})}function Kk(t,e,n,r){return ln(t).onIdTokenChanged(e,n,r)}function Qk(t,e,n){return ln(t).beforeAuthStateChanged(e,n)}function Yk(t){return ln(t).signOut()}const Tp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Tp,"1"),this.storage.removeItem(Tp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=1e3,Wk=10;class mC extends pC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);mk()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Wk):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Xk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mC.type="LOCAL";const Zk=mC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C extends pC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_C.type="SESSION";const gC=_C;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new fm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async m=>m(n.origin,o)),d=await Jk(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((h,d)=>{const m=m0("",20);a.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(y){const w=y;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(w.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(){return window}function tL(t){$i().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(){return typeof $i().WorkerGlobalScope<"u"&&typeof $i().importScripts=="function"}async function nL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function iL(){return vC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="firebaseLocalStorageDb",sL=1,Sp="firebaseLocalStorage",EC="fbase_key";class qh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dm(t,e){return t.transaction([Sp],e?"readwrite":"readonly").objectStore(Sp)}function aL(){const t=indexedDB.deleteDatabase(yC);return new qh(t).toPromise()}function Hv(){const t=indexedDB.open(yC,sL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Sp,{keyPath:EC})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Sp)?e(r):(r.close(),await aL(),e(await Hv()))})})}async function nS(t,e,n){const r=dm(t,!0).put({[EC]:e,value:n});return new qh(r).toPromise()}async function oL(t,e){const n=dm(t,!1).get(e),r=await new qh(n).toPromise();return r===void 0?null:r.value}function rS(t,e){const n=dm(t,!0).delete(e);return new qh(n).toPromise()}const lL=800,uL=3;class bC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fm._getInstance(iL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await nL(),!this.activeServiceWorker)return;this.sender=new eL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hv();return await nS(e,Tp,"1"),await rS(e,Tp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>nS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=dm(a,!1).getAll();return new qh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bC.type="LOCAL";const cL=bC;new Bh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(t,e){return e?Ps(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0 extends d0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fL(t){return fC(t.auth,new _0(t),t.bypassAuthState)}function dL(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),qk(n,new _0(t),t.bypassAuthState)}async function pL(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),Fk(n,new _0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fL;case"linkViaPopup":case"linkViaRedirect":return pL;case"reauthViaPopup":case"reauthViaRedirect":return dL;default:ci(this.auth,"internal-error")}}resolve(e){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=new Bh(2e3,1e4);class iu extends wC{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,iu.currentPopupAction&&iu.currentPopupAction.cancel(),iu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){zs(this.filter.length===1,"Popup operations only handle one event");const e=m0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,iu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mL.get())};e()}}iu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L="pendingRedirect",Bd=new Map;class gL extends wC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Bd.get(this.auth._key());if(!e){try{const r=await vL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Bd.set(this.auth._key(),e)}return this.bypassAuthState||Bd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vL(t,e){const n=bL(e),r=EL(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function yL(t,e){Bd.set(t._key(),e)}function EL(t){return Ps(t._redirectPersistence)}function bL(t){return jd(_L,t.config.apiKey,t.name)}async function wL(t,e,n=!1){if(gr(t.app))return Promise.reject(Ls(t));const r=sl(t),a=hL(r,e),u=await new gL(r,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=10*60*1e3;class SL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!TC(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TL&&this.cachedEventUids.clear(),this.cachedEventUids.has(iS(e))}saveEventToCache(e){this.cachedEventUids.add(iS(e)),this.lastProcessedEventTime=Date.now()}}function iS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function TC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function AL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RL(t,e={}){return Za(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OL=/^https?/;async function IL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await RL(t);for(const n of e)try{if(DL(n))return}catch{}ci(t,"unauthorized-domain")}function DL(t){const e=zv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!OL.test(n))return!1;if(CL.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=new Bh(3e4,6e4);function sS(){const t=$i().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function NL(t){return new Promise((e,n)=>{var r,a,o;function u(){sS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sS(),n(Hi(t,"network-request-failed"))},timeout:xL.get()})}if(!((a=(r=$i().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=$i().gapi)===null||o===void 0)&&o.load)u();else{const h=Sk("iframefcb");return $i()[h]=()=>{gapi.load?u():n(Hi(t,"network-request-failed"))},oC(`${Tk()}?onload=${h}`).catch(d=>n(d))}}).catch(e=>{throw zd=null,e})}let zd=null;function PL(t){return zd=zd||NL(t),zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=new Bh(5e3,15e3),kL="__/auth/iframe",LL="emulator/auth/iframe",VL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jL(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?c0(e,LL):`https://${t.config.authDomain}/${kL}`,r={apiKey:e.apiKey,appName:t.name,v:tl},a=UL.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ph(r).slice(1)}`}async function BL(t){const e=await PL(t),n=$i().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:jL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VL,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=Hi(t,"network-request-failed"),h=$i().setTimeout(()=>{o(u)},ML.get());function d(){$i().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FL=500,qL=600,HL="_blank",$L="http://localhost";class aS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GL(t,e,n,r=FL,a=qL){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},zL),{width:r.toString(),height:a.toString(),top:o,left:u}),m=Hn().toLowerCase();n&&(h=eC(m)?HL:n),ZR(m)&&(e=e||$L,d.scrollbars="yes");const g=Object.entries(d).reduce((w,[T,S])=>`${w}${T}=${S},`,"");if(pk(m)&&h!=="_self")return KL(e||"",h),new aS(null);const y=window.open(e||"",h,g);Ve(y,t,"popup-blocked");try{y.focus()}catch{}return new aS(y)}function KL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL="__/auth/handler",YL="emulator/auth/handler",XL=encodeURIComponent("fac");async function oS(t,e,n,r,a,o){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:tl,eventId:a};if(e instanceof cC){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",_N(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))u[g]=y}if(e instanceof Fh){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),m=d?`#${XL}=${encodeURIComponent(d)}`:"";return`${WL(t)}?${Ph(h).slice(1)}${m}`}function WL({config:t}){return t.emulator?c0(t,YL):`https://${t.authDomain}/${QL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="webStorageSupport";class ZL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gC,this._completeRedirectFn=wL,this._overrideRedirectResult=yL}async _openPopup(e,n,r,a){var o;zs((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await oS(e,n,r,zv(),a);return GL(e,u,m0())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await oS(e,n,r,zv(),a);return tL(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(zs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await BL(e),r=new SL(e);return n.register("authEvent",a=>(Ve(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xg,{type:Xg},a=>{var o;const u=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[Xg];u!==void 0&&n(!!u),ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sC()||JR()||f0()}}const JL=ZL;var lS="@firebase/auth",uS="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nV(t){Go(new La("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ve(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aC(t)},m=new Ek(r,a,o,d);return Dk(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Go(new La("auth-internal",e=>{const n=sl(e.getProvider("auth").getImmediate());return(r=>new eV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ji(lS,uS,tV(t)),ji(lS,uS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=5*60,iV=iA("authIdTokenMaxAge")||rV;let cS=null;const sV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iV)return;const a=n==null?void 0:n.token;cS!==a&&(cS=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function aV(t=Ey()){const e=Fp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Ik(t,{popupRedirectResolver:JL,persistence:[cL,Zk,gC]}),r=iA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=sV(o.toString());Qk(n,u,()=>u(n.currentUser)),Kk(n,h=>u(h))}}const a=tA("auth");return a&&xk(n,`http://${a}`),n}function oV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}bk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=Hi("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",oV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nV("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="firebasestorage.googleapis.com",lV="storageBucket",uV=2*60*1e3,cV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends $n{constructor(e,n,r=0){super(Wg(e),`Firebase Storage: ${n} (${Wg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ji.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Qi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Qi||(Qi={}));function Wg(t){return"storage/"+t}function hV(){const t="An unknown error occurred, please check the error payload for server response.";return new Ji(Qi.UNKNOWN,t)}function fV(){return new Ji(Qi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dV(){return new Ji(Qi.CANCELED,"User canceled the upload/download.")}function pV(t){return new Ji(Qi.INVALID_URL,"Invalid URL '"+t+"'.")}function mV(t){return new Ji(Qi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function hS(t){return new Ji(Qi.INVALID_ARGUMENT,t)}function AC(){return new Ji(Qi.APP_DELETED,"The Firebase app was deleted.")}function _V(t){return new Ji(Qi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ii.makeFromUrl(e,n)}catch{return new ii(e,"")}if(r.path==="")return r;throw mV(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function o(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+a+u,"i"),d={bucket:1,path:3};function m(ie){ie.path_=decodeURIComponent(ie.path)}const g="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",T=new RegExp(`^https?://${y}/${g}/b/${a}/o${w}`,"i"),S={bucket:1,path:3},M=n===SC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",U=new RegExp(`^https?://${M}/${a}/${I}`,"i"),X=[{regex:h,indices:d,postModify:o},{regex:T,indices:S,postModify:m},{regex:U,indices:{bucket:1,path:2},postModify:m}];for(let ie=0;ie<X.length;ie++){const x=X[ie],te=x.regex.exec(e);if(te){const k=te[x.indices.bucket];let O=te[x.indices.path];O||(O=""),r=new ii(k,O),x.postModify(r);break}}if(r==null)throw pV(e);return r}}class gV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(t,e,n){let r=1,a=null,o=null,u=!1,h=0;function d(){return h===2}let m=!1;function g(...I){m||(m=!0,e.apply(null,I))}function y(I){a=setTimeout(()=>{a=null,t(T,d())},I)}function w(){o&&clearTimeout(o)}function T(I,...U){if(m){w();return}if(I){w(),g.call(null,I,...U);return}if(d()||u){w(),g.call(null,I,...U);return}r<64&&(r*=2);let X;h===1?(h=2,X=0):X=(r+Math.random())*1e3,y(X)}let S=!1;function M(I){S||(S=!0,w(),!m&&(a!==null?(I||(h=2),clearTimeout(a),y(0)):I||(h=1)))}return y(0),o=setTimeout(()=>{u=!0,M(!0)},n),M}function yV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(t){return t!==void 0}function fS(t,e,n,r){if(r<e)throw hS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw hS(`Invalid value for '${t}'. Expected ${n} or less.`)}function bV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var Ap;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ap||(Ap={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||a||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,n,r,a,o,u,h,d,m,g,y,w=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=y,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,S)=>{this.resolve_=T,this.reject_=S,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Sd(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{const d=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===Ap.NO_ERROR,d=o.getStatus();if(!h||wV(d,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===Ap.ABORT;r(!1,new Sd(!1,null,g));return}const m=this.successCodes_.indexOf(d)!==-1;r(!0,new Sd(m,o))})},n=(r,a)=>{const o=this.resolve_,u=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());EV(d)?o(d):o()}catch(d){u(d)}else if(h!==null){const d=hV();d.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,d)):u(d)}else if(a.canceled){const d=this.appDelete_?AC():dV();u(d)}else{const d=fV();u(d)}};this.canceled_?n(!1,new Sd(!1,null,!0)):this.backoffId_=vV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&yV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function SV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function AV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function RV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function CV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function OV(t,e,n,r,a,o,u=!0){const h=bV(t.urlParams),d=t.url+h,m=Object.assign({},t.headers);return RV(m,e),SV(m,n),AV(m,o),CV(m,r),new TV(d,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function DV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n){this._service=e,n instanceof ii?this._location=n:this._location=ii.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Rp(e,n)}get root(){const e=new ii(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DV(this._location.path)}get storage(){return this._service}get parent(){const e=IV(this._location.path);if(e===null)return null;const n=new ii(this._location.bucket,e);return new Rp(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw _V(e)}}function dS(t,e){const n=e==null?void 0:e[lV];return n==null?null:ii.makeFromBucketSpec(n,t)}function xV(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:sA(a,t.app.options.projectId))}class NV{constructor(e,n,r,a,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=o,this._bucket=null,this._host=SC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=uV,this._maxUploadRetryTime=cV,this._requests=new Set,a!=null?this._bucket=ii.makeFromBucketSpec(a,this._host):this._bucket=dS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ii.makeFromBucketSpec(this._url,e):this._bucket=dS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(gr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Rp(this,e)}_makeRequest(e,n,r,a,o=!0){if(this._deleted)return new gV(AC());{const u=OV(e,this._appId,r,a,n,this._firebaseVersion,o);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const pS="@firebase/storage",mS="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="storage";function PV(t=Ey(),e){t=ln(t);const r=Fp(t,RC).getImmediate({identifier:e}),a=nA("storage");return a&&MV(r,...a),r}function MV(t,e,n,r={}){xV(t,e,n,r)}function kV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new NV(n,r,a,e,tl)}function LV(){Go(new La(RC,kV,"PUBLIC").setMultipleInstances(!0)),ji(pS,mS,""),ji(pS,mS,"esm2017")}LV();const VV={apiKey:"AIzaSyCH_QRJsyRv0-4Yup_WUZtwJEeV9YaG9x8",authDomain:"citypedia-a2aba.firebaseapp.com",projectId:"citypedia-a2aba",storageBucket:"citypedia-a2aba.firebasestorage.app",messagingSenderId:"784427727291",appId:"1:784427727291:web:2a49bd4111ca54b1796c9e"},g0=lA(VV),_h=IM(g0),v0=aV(g0);PV(g0);const UV=async t=>{try{const e=vp(_h,sh),r=(await Bv(e)).data().count??0;return await GM(vp(_h,sh),{...t,index:r}),!0}catch(e){return e instanceof $n?{"permission-denied":"You do not have permission to create a city.",unavailable:"Firestore is temporarily unavailable. Please try again later.","deadline-exceeded":"Request timed out. Please try again.","invalid-argument":"Invalid data format. Please check your inputs.","resource-exhausted":"Quota exceeded. Please try again later.",unauthenticated:"You must be logged in to perform this action."}[e.code]??"Failed to create city. Please try again later.":"Unexpected error. Please try again."}},jV=kn(()=>{const t=Mn(),{modalStore:{closeModal:e},toastStore:{showToast:n}}=t,{requestError:r,setRequestError:a,clearError:o}=xh(),u=F.useMemo(()=>[{name:"name",label:"Enter city name",type:"text",value:"",onChange:()=>{},validate:U=>U?null:"Name is required"},{name:"country",label:"Enter city country",type:"text",value:"",onChange:()=>{},validate:U=>U?null:"Country is required"},{name:"population",label:"Enter population",type:"text",value:"",onChange:()=>{},validate:U=>U?/^\d+$/.test(U)?null:"Population must be a valid number":"Population is required"},{name:"image",label:"Enter image",type:"text",value:"",onChange:()=>{},validate:U=>{const H=U;if(!H)return"Image URL is required";try{new URL(H)}catch{return"Invalid URL format"}return null}},{name:"is_capital",label:"Is it Capital",type:"checkbox",value:!1,onChange:()=>{}}],[]),{formState:h,handleCheckboxChange:d,handleTextChange:m,validate:g,errors:y,isSubmitting:w,setIsSubmitting:T}=jp(u),S=F.useCallback(async()=>{if(!g())return;T(!0);const U={...h,likes:[],comments:[]},H=await UV(U);if(typeof H=="string"){a(H),T(!1);return}T(!1),o(),n("City Successfully Added!","success"),e()},[h,e,T,a,o,g,n]),M=U=>{Ho(U),S()},I=F.useCallback(U=>{U.key!=="Enter"||w||S()},[S,w]);return F.useEffect(()=>(window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)),[I]),D.jsxs("div",{className:Q6.modal,children:[D.jsx(Ke,{view:"title",weight:"bold",tag:"p",children:"Create City"}),D.jsx(Bp,{fields:u,formState:h,handleTextChange:m,handleCheckboxChange:d,actionButton:D.jsx(qn,{disabled:w,onClick:M,children:w?"Creating...":"Create"}),errors:y,requestError:r})]})}),BV="_modal_1t57r_1",zV="_modal__title_1t57r_6",FV="_modal__action_1t57r_15",qV="_modal__error_1t57r_19",Ad={modal:BV,modal__title:zV,modal__action:FV,modal__error:qV},HV=kn(()=>{const t=Mn(),{modalStore:{closeModal:e},toastStore:{showToast:n},userStore:{logout:r}}=t,{requestError:a,setRequestError:o,clearError:u}=xh(),h=F.useCallback(async d=>{Ho(d);const m=await r();if(typeof m=="string"){o(m);return}u(),n("Successfully Logout!","success"),e()},[e,o,u,r,n]);return D.jsxs("div",{className:Ad.modal,children:[D.jsx(Ke,{className:Ad.modal__title,view:"title",weight:"bold",tag:"p",children:"Are you want to LogOff?"}),a&&D.jsx(Ke,{view:"p-20",className:Ad.modal__error,children:a}),D.jsx("div",{className:Ad.modal__action,children:D.jsx(qn,{onClick:h,children:"Yes"})})]})}),$V="_modal_1caln_1",GV="_modal__text_1caln_6",KV="_modal__chat_1caln_9",QV="_modal__message_1caln_16",Xl={modal:$V,modal__text:GV,modal__chat:KV,modal__message:QV,"modal__message-text_owner":"_modal__message-text_owner_1caln_21"},YV=kn(()=>{const t=Mn(),{citiesStore:{addComment:e},toastStore:{showToast:n}}=t,r=t.citiesDataStore.currentCity,a=t.citiesDataStore.citiesComments,o=t.userStore.user,{requestError:u,setRequestError:h,clearError:d}=xh(),m=F.useMemo(()=>[{name:"message",label:"Enter Message",type:"text",value:"",onChange:()=>{},validate:te=>te?null:"Message is required"}],[]),{formState:g,handleCheckboxChange:y,handleTextChange:w,handleClearForm:T,validate:S,errors:M,isSubmitting:I,setIsSubmitting:U}=jp(m),H=F.useCallback(async()=>{if(!S())return;U(!0);const te=g.message,k=await e(r.id,o.uid,te);if(typeof k=="string"){h(k),U(!1);return}T(),U(!1),d(),n("Comment successfully added!","success")},[e,d,r,g,U,h,T,n,o,S]),X=te=>{Ho(te),H()},ie=F.useCallback(te=>{te.key!=="Enter"||I||H()},[H,I]);F.useEffect(()=>(window.addEventListener("keydown",ie),()=>window.removeEventListener("keydown",ie)),[ie]);const x=r!=null&&r.id?Object.values(a[r.id]||{}).flat():[];return D.jsxs("div",{className:Xl.modal,children:[D.jsx(Ke,{view:"title",weight:"bold",tag:"p",className:Xl.modal__text,children:"City Comments"}),x.length!==0&&D.jsx("div",{className:Xl.modal__chat,children:x.map(({date:te,message:k,owner:O},C)=>{const N=O===o.uid;return D.jsxs("div",{className:at(Xl.modal__message),children:[D.jsx(Ke,{view:"p-18",tag:"p",color:N?"accent":"primary",className:at(N&&Xl["modal__message-text_owner"]),children:k}),D.jsx(Ke,{view:"p-14",tag:"p",color:"secondary",className:at(N&&Xl["modal__message-text_owner"]),children:(te instanceof on?te.toDate():new Date(te)).toLocaleString("en-GB",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(","," at")})]},C)})}),D.jsx(Bp,{fields:m,formState:g,handleTextChange:w,handleCheckboxChange:y,actionButton:D.jsx(qn,{disabled:I,onClick:X,children:I?"Adding...":"Add"}),errors:M,requestError:u})]})}),XV=kn(()=>{const t=Mn(),{closeModal:e}=t.modalStore,n=t.modalStore.modal;return n?D.jsx(C6,{onClose:e,children:{"sign-up":D.jsx(q6,{}),"sign-in":D.jsx(G6,{}),comments:D.jsx(YV,{}),"add-city":D.jsx(jV,{}),"log-out":D.jsx(HV,{})}[n]}):null}),WV="_container_gvdfe_1",ZV={container:WV},JV="_toast_1y6ob_17",eU="_toast_right_1y6ob_33",tU="_toast_left_1y6ob_36",nU="_toast__icon_1y6ob_43",rU="_toast__close_1y6ob_46",iU="_toast__loader_1y6ob_55",sU="_loader_1y6ob_1",aU="_toast__loader_error_1y6ob_64",oU="_toast__loader_success_1y6ob_67",lU="_pulse_1y6ob_1",Ea={toast:JV,toast_right:eU,toast_left:tU,"toast--enter-right":"_toast--enter-right_1y6ob_39","toast--enter-left":"_toast--enter-left_1y6ob_39",toast__icon:nU,toast__close:rU,toast__loader:iU,loader:sU,toast__loader_error:aU,toast__loader_success:oU,pulse:lU},uU=t=>D.jsx(br,{viewBox:"0 0 24 24",...t,children:D.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 14.1776 23.4621 16.1853 22.3903 18.023C21.3164 19.8627 19.8607 21.3164 18.023 22.3903C16.1853 23.4621 14.1776 24 12 24C9.82236 24 7.8147 23.4621 5.977 22.3903C4.13931 21.3164 2.68355 19.8627 1.60973 18.023C0.535911 16.1853 0 14.1776 0 12C0 9.82236 0.535911 7.8147 1.60973 5.977C2.68355 4.13731 4.13931 2.68355 5.977 1.60973C7.8147 0.53791 9.82236 0 12 0C14.1776 0 16.1853 0.53791 18.023 1.60973C19.8607 2.68355 21.3164 4.13731 22.3903 5.977C23.4621 7.8147 24 9.82236 24 12ZM11.9999 14.04C11.1384 14.04 10.4399 13.3416 10.4399 12.48V7.20002C10.4399 6.33845 11.1384 5.64001 11.9999 5.64001C12.8615 5.64001 13.5599 6.33845 13.5599 7.20002V12.48C13.5599 13.3416 12.8615 14.04 11.9999 14.04ZM10.4399 16.8C10.4399 17.6616 11.1384 18.36 11.9999 18.36C12.8615 18.36 13.5599 17.6616 13.5599 16.8C13.5599 15.9385 12.8615 15.24 11.9999 15.24C11.1384 15.24 10.4399 15.9385 10.4399 16.8Z",fill:"currentColor"})}),cU=t=>D.jsx(br,{viewBox:"0 0 24 24",...t,children:D.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 14.1776 23.4621 16.1853 22.3903 18.023C21.3164 19.8627 19.8607 21.3164 18.023 22.3903C16.1853 23.4621 14.1776 24 12 24C9.82236 24 7.8147 23.4621 5.977 22.3903C4.13931 21.3164 2.68355 19.8627 1.60973 18.023C0.535911 16.1853 0 14.1776 0 12C0 9.82236 0.535911 7.8147 1.60973 5.977C2.68355 4.13731 4.13931 2.68355 5.977 1.60973C7.8147 0.53791 9.82236 0 12 0C14.1776 0 16.1853 0.53791 18.023 1.60973C19.8607 2.68355 21.3164 4.13731 22.3903 5.977C23.4621 7.8147 24 9.82236 24 12ZM11.9999 14.04C11.1384 14.04 10.4399 13.3416 10.4399 12.48V7.20002C10.4399 6.33845 11.1384 5.64001 11.9999 5.64001C12.8615 5.64001 13.5599 6.33845 13.5599 7.20002V12.48C13.5599 13.3416 12.8615 14.04 11.9999 14.04ZM10.4399 16.8C10.4399 17.6616 11.1384 18.36 11.9999 18.36C12.8615 18.36 13.5599 17.6616 13.5599 16.8C13.5599 15.9385 12.8615 15.24 11.9999 15.24C11.1384 15.24 10.4399 15.9385 10.4399 16.8Z",fill:"currentColor"})}),hU={success:D.jsx(uU,{height:24,width:24,color:"accent"}),error:D.jsx(cU,{height:24,width:24,color:"secondary"})},fU=({variant:t,showAnimation:e="right",message:n,onClose:r,duration:a=5,className:o})=>{const[u,h]=F.useState(!1);return F.useEffect(()=>{const d=setTimeout(r,a*1e3);return()=>clearTimeout(d)},[r,a]),F.useEffect(()=>{const d=requestAnimationFrame(()=>{h(!0)});return()=>cancelAnimationFrame(d)},[]),D.jsxs("div",{className:at(Ea.toast,Ea[`toast_${e}`],u&&Ea[`toast--enter-${e}`],o),children:[D.jsx(Ke,{view:"p-18",className:Ea.toast__text,children:n}),D.jsx("div",{className:Ea.toast__icon,children:hU[t]}),D.jsx("div",{className:Ea.toast__close,onClick:r,children:D.jsx(W2,{height:18,width:18,color:"secondary"})}),D.jsx("div",{className:at(Ea.toast__loader,Ea[`toast__loader_${t}`]),style:{animationDuration:`${a}s`}})]})},dU=kn(()=>{const e=Mn().toastStore.toasts;return D.jsx("div",{className:ZV.container,children:e.map(({id:n,...r})=>D.jsx(fU,{...r},n))})}),Kc=async({mode:t="all",viewPerPage:e=3,searchQuery:n="",dropdownFilters:r=[],currentPage:a=1,lastDoc:o=null,relatedCities:u,currentCityId:h})=>{try{const d=vp(_h,sh),m=g=>g.docs.map(w=>({id:w.id,...w.data()}));if(t==="all"){const g=await kc(d);return m(g)}if(t==="paginate"){let g=d,y=d;const w=[],T=r.length>0?"country":"name";if(r.length>0)w.push(wd("country","in",r));else if(n){const ie=Y3(n);w.push(wd("name",">=",ie),wd("name","<",ie+""))}if(g=Os(d,...w,$c(T),Mc(e)),y=Os(y,...w),o)g=Os(d,...w,$c(T),FT(o),Mc(e));else if(a>1){const ie=Os(d,...w,$c(T),Mc((a-1)*e)),te=(await kc(ie)).docs;te.length>0&&(g=Os(g,FT(te[te.length-1]),Mc(e)))}g=Os(g,Mc(e));const[S,M]=await Promise.all([kc(g),Bv(y)]);let I=M.data().count??0;const U=S.docs,H=U.length?U[U.length-1]:null;let X=m(S);if(r.length>0&&n){const ie=n.toLowerCase();X=X.filter(x=>x.name.toLowerCase().includes(ie)),I=X.length}return{data:X,lastRequest:n?"search":"filter",total:I,lastDoc:H}}if(t==="options"){const g=await kc(Os(d,$c("name")));return[...new Map(g.docs.map(w=>[w.data().country,{key:w.id,value:w.data().country}])).values()]}if(t==="related"&&u){const y=(await Bv(d)).data().count??0,w=new Set;for(;w.size<u+(h?1:0);)w.add(Math.floor(Math.random()*y));const T=await kc(Os(d,wd("index","in",Array.from(w)))),S=m(T);return(h?S.filter(I=>I.id!==h).slice(0,u):S).sort(()=>.5-Math.random())}if(t==="single"&&h){const g=await BR(Yy(d,h));return g.exists()?{id:g.id,...g.data()}:"City not found"}return"Unsupported fetch mode."}catch(d){return d instanceof $n?{"permission-denied":"You do not have permission to view cities.",unavailable:"Firestore is temporarily unavailable. Please try again later.","deadline-exceeded":"Request timed out. Please try again.","resource-exhausted":"Quota exceeded. Please try again later.",unauthenticated:"You must be logged in to perform this action."}[d.code]??"Failed to fetch cities. Please try again later.":"Unexpected error. Please try again."}},pU=({mode:t,currentCityId:e,onUpdate:n})=>{const r=vp(_h,sh);{const a=Os(r,$c("name"));return KM(a,o=>{const u=o.docs.map(h=>({id:h.id,...h.data()}));n(u)})}},_S=async({mode:t,cityId:e,userId:n,message:r})=>{try{if(e&&n){const a=Yy(_h,sh,e),u=(await BR(a)).data();if(t==="like"){const h=(u==null?void 0:u.likes)??[],d=h.includes(n)?h.filter(m=>m!==n):[...h,n];return await $T(a,{likes:d}),d}if(t==="comment"){if(!r)return"Comment message is required.";const h=(u==null?void 0:u.comments)??[],d={date:new Date,message:r,owner:n},m=[...h,d];return await $T(a,{comments:m}),m}}return"Missing parameters."}catch(a){return a instanceof $n?{"permission-denied":"You do not have permission to create a city.",unavailable:"Firestore is temporarily unavailable. Please try again later.","deadline-exceeded":"Request timed out. Please try again.","invalid-argument":"Invalid data format. Please check your inputs.","resource-exhausted":"Quota exceeded. Please try again later.",unauthenticated:"You must be logged in to perform this action."}[a.code]??"Failed to update city. Please try again later.":"Unexpected error. Please try again."}};function CC(t,e){return function(){return t.apply(e,arguments)}}const{toString:mU}=Object.prototype,{getPrototypeOf:y0}=Object,pm=(t=>e=>{const n=mU.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),fi=t=>(t=t.toLowerCase(),e=>pm(e)===t),mm=t=>e=>typeof e===t,{isArray:Ou}=Array,gh=mm("undefined");function _U(t){return t!==null&&!gh(t)&&t.constructor!==null&&!gh(t.constructor)&&yr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const OC=fi("ArrayBuffer");function gU(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&OC(t.buffer),e}const vU=mm("string"),yr=mm("function"),IC=mm("number"),_m=t=>t!==null&&typeof t=="object",yU=t=>t===!0||t===!1,Fd=t=>{if(pm(t)!=="object")return!1;const e=y0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},EU=fi("Date"),bU=fi("File"),wU=fi("Blob"),TU=fi("FileList"),SU=t=>_m(t)&&yr(t.pipe),AU=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||yr(t.append)&&((e=pm(t))==="formdata"||e==="object"&&yr(t.toString)&&t.toString()==="[object FormData]"))},RU=fi("URLSearchParams"),[CU,OU,IU,DU]=["ReadableStream","Request","Response","Headers"].map(fi),xU=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Hh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,a;if(typeof t!="object"&&(t=[t]),Ou(t))for(r=0,a=t.length;r<a;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),u=o.length;let h;for(r=0;r<u;r++)h=o[r],e.call(null,t[h],h,t)}}function DC(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,a;for(;r-- >0;)if(a=n[r],e===a.toLowerCase())return a;return null}const Vo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xC=t=>!gh(t)&&t!==Vo;function $v(){const{caseless:t}=xC(this)&&this||{},e={},n=(r,a)=>{const o=t&&DC(e,a)||a;Fd(e[o])&&Fd(r)?e[o]=$v(e[o],r):Fd(r)?e[o]=$v({},r):Ou(r)?e[o]=r.slice():e[o]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Hh(arguments[r],n);return e}const NU=(t,e,n,{allOwnKeys:r}={})=>(Hh(e,(a,o)=>{n&&yr(a)?t[o]=CC(a,n):t[o]=a},{allOwnKeys:r}),t),PU=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),MU=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},kU=(t,e,n,r)=>{let a,o,u;const h={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),o=a.length;o-- >0;)u=a[o],(!r||r(u,t,e))&&!h[u]&&(e[u]=t[u],h[u]=!0);t=n!==!1&&y0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},LU=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},VU=t=>{if(!t)return null;if(Ou(t))return t;let e=t.length;if(!IC(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},UU=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&y0(Uint8Array)),jU=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let a;for(;(a=r.next())&&!a.done;){const o=a.value;e.call(t,o[0],o[1])}},BU=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},zU=fi("HTMLFormElement"),FU=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),gS=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),qU=fi("RegExp"),NC=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Hh(n,(a,o)=>{let u;(u=e(a,o,t))!==!1&&(r[o]=u||a)}),Object.defineProperties(t,r)},HU=t=>{NC(t,(e,n)=>{if(yr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(yr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},$U=(t,e)=>{const n={},r=a=>{a.forEach(o=>{n[o]=!0})};return Ou(t)?r(t):r(String(t).split(e)),n},GU=()=>{},KU=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function QU(t){return!!(t&&yr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const YU=t=>{const e=new Array(10),n=(r,a)=>{if(_m(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[a]=r;const o=Ou(r)?[]:{};return Hh(r,(u,h)=>{const d=n(u,a+1);!gh(d)&&(o[h]=d)}),e[a]=void 0,o}}return r};return n(t,0)},XU=fi("AsyncFunction"),WU=t=>t&&(_m(t)||yr(t))&&yr(t.then)&&yr(t.catch),PC=((t,e)=>t?setImmediate:e?((n,r)=>(Vo.addEventListener("message",({source:a,data:o})=>{a===Vo&&o===n&&r.length&&r.shift()()},!1),a=>{r.push(a),Vo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",yr(Vo.postMessage)),ZU=typeof queueMicrotask<"u"?queueMicrotask.bind(Vo):typeof process<"u"&&process.nextTick||PC,ee={isArray:Ou,isArrayBuffer:OC,isBuffer:_U,isFormData:AU,isArrayBufferView:gU,isString:vU,isNumber:IC,isBoolean:yU,isObject:_m,isPlainObject:Fd,isReadableStream:CU,isRequest:OU,isResponse:IU,isHeaders:DU,isUndefined:gh,isDate:EU,isFile:bU,isBlob:wU,isRegExp:qU,isFunction:yr,isStream:SU,isURLSearchParams:RU,isTypedArray:UU,isFileList:TU,forEach:Hh,merge:$v,extend:NU,trim:xU,stripBOM:PU,inherits:MU,toFlatObject:kU,kindOf:pm,kindOfTest:fi,endsWith:LU,toArray:VU,forEachEntry:jU,matchAll:BU,isHTMLForm:zU,hasOwnProperty:gS,hasOwnProp:gS,reduceDescriptors:NC,freezeMethods:HU,toObjectSet:$U,toCamelCase:FU,noop:GU,toFiniteNumber:KU,findKey:DC,global:Vo,isContextDefined:xC,isSpecCompliantForm:QU,toJSONObject:YU,isAsyncFn:XU,isThenable:WU,setImmediate:PC,asap:ZU};function Qe(t,e,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}ee.inherits(Qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.status}}});const MC=Qe.prototype,kC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{kC[t]={value:t}});Object.defineProperties(Qe,kC);Object.defineProperty(MC,"isAxiosError",{value:!0});Qe.from=(t,e,n,r,a,o)=>{const u=Object.create(MC);return ee.toFlatObject(t,u,function(d){return d!==Error.prototype},h=>h!=="isAxiosError"),Qe.call(u,t.message,e,n,r,a),u.cause=t,u.name=t.name,o&&Object.assign(u,o),u};const JU=null;function Gv(t){return ee.isPlainObject(t)||ee.isArray(t)}function LC(t){return ee.endsWith(t,"[]")?t.slice(0,-2):t}function vS(t,e,n){return t?t.concat(e).map(function(a,o){return a=LC(a),!n&&o?"["+a+"]":a}).join(n?".":""):e}function ej(t){return ee.isArray(t)&&!t.some(Gv)}const tj=ee.toFlatObject(ee,{},null,function(e){return/^is[A-Z]/.test(e)});function gm(t,e,n){if(!ee.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ee.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(M,I){return!ee.isUndefined(I[M])});const r=n.metaTokens,a=n.visitor||g,o=n.dots,u=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(e);if(!ee.isFunction(a))throw new TypeError("visitor must be a function");function m(S){if(S===null)return"";if(ee.isDate(S))return S.toISOString();if(!d&&ee.isBlob(S))throw new Qe("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(S)||ee.isTypedArray(S)?d&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function g(S,M,I){let U=S;if(S&&!I&&typeof S=="object"){if(ee.endsWith(M,"{}"))M=r?M:M.slice(0,-2),S=JSON.stringify(S);else if(ee.isArray(S)&&ej(S)||(ee.isFileList(S)||ee.endsWith(M,"[]"))&&(U=ee.toArray(S)))return M=LC(M),U.forEach(function(X,ie){!(ee.isUndefined(X)||X===null)&&e.append(u===!0?vS([M],ie,o):u===null?M:M+"[]",m(X))}),!1}return Gv(S)?!0:(e.append(vS(I,M,o),m(S)),!1)}const y=[],w=Object.assign(tj,{defaultVisitor:g,convertValue:m,isVisitable:Gv});function T(S,M){if(!ee.isUndefined(S)){if(y.indexOf(S)!==-1)throw Error("Circular reference detected in "+M.join("."));y.push(S),ee.forEach(S,function(U,H){(!(ee.isUndefined(U)||U===null)&&a.call(e,U,ee.isString(H)?H.trim():H,M,w))===!0&&T(U,M?M.concat(H):[H])}),y.pop()}}if(!ee.isObject(t))throw new TypeError("data must be an object");return T(t),e}function yS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function E0(t,e){this._pairs=[],t&&gm(t,this,e)}const VC=E0.prototype;VC.append=function(e,n){this._pairs.push([e,n])};VC.toString=function(e){const n=e?function(r){return e.call(this,r,yS)}:yS;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function nj(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function UC(t,e,n){if(!e)return t;const r=n&&n.encode||nj;ee.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let o;if(a?o=a(e,n):o=ee.isURLSearchParams(e)?e.toString():new E0(e,n).toString(r),o){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class ES{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ee.forEach(this.handlers,function(r){r!==null&&e(r)})}}const jC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rj=typeof URLSearchParams<"u"?URLSearchParams:E0,ij=typeof FormData<"u"?FormData:null,sj=typeof Blob<"u"?Blob:null,aj={isBrowser:!0,classes:{URLSearchParams:rj,FormData:ij,Blob:sj},protocols:["http","https","file","blob","url","data"]},b0=typeof window<"u"&&typeof document<"u",Kv=typeof navigator=="object"&&navigator||void 0,oj=b0&&(!Kv||["ReactNative","NativeScript","NS"].indexOf(Kv.product)<0),lj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",uj=b0&&window.location.href||"http://localhost",cj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:b0,hasStandardBrowserEnv:oj,hasStandardBrowserWebWorkerEnv:lj,navigator:Kv,origin:uj},Symbol.toStringTag,{value:"Module"})),Fn={...cj,...aj};function hj(t,e){return gm(t,new Fn.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,o){return Fn.isNode&&ee.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function fj(t){return ee.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function dj(t){const e={},n=Object.keys(t);let r;const a=n.length;let o;for(r=0;r<a;r++)o=n[r],e[o]=t[o];return e}function BC(t){function e(n,r,a,o){let u=n[o++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),d=o>=n.length;return u=!u&&ee.isArray(a)?a.length:u,d?(ee.hasOwnProp(a,u)?a[u]=[a[u],r]:a[u]=r,!h):((!a[u]||!ee.isObject(a[u]))&&(a[u]=[]),e(n,r,a[u],o)&&ee.isArray(a[u])&&(a[u]=dj(a[u])),!h)}if(ee.isFormData(t)&&ee.isFunction(t.entries)){const n={};return ee.forEachEntry(t,(r,a)=>{e(fj(r),a,n,0)}),n}return null}function pj(t,e,n){if(ee.isString(t))try{return(e||JSON.parse)(t),ee.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const $h={transitional:jC,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,o=ee.isObject(e);if(o&&ee.isHTMLForm(e)&&(e=new FormData(e)),ee.isFormData(e))return a?JSON.stringify(BC(e)):e;if(ee.isArrayBuffer(e)||ee.isBuffer(e)||ee.isStream(e)||ee.isFile(e)||ee.isBlob(e)||ee.isReadableStream(e))return e;if(ee.isArrayBufferView(e))return e.buffer;if(ee.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return hj(e,this.formSerializer).toString();if((h=ee.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return gm(h?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||a?(n.setContentType("application/json",!1),pj(e)):e}],transformResponse:[function(e){const n=this.transitional||$h.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(ee.isResponse(e)||ee.isReadableStream(e))return e;if(e&&ee.isString(e)&&(r&&!this.responseType||a)){const u=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(h){if(u)throw h.name==="SyntaxError"?Qe.from(h,Qe.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fn.classes.FormData,Blob:Fn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],t=>{$h.headers[t]={}});const mj=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_j=t=>{const e={};let n,r,a;return t&&t.split(`
`).forEach(function(u){a=u.indexOf(":"),n=u.substring(0,a).trim().toLowerCase(),r=u.substring(a+1).trim(),!(!n||e[n]&&mj[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},bS=Symbol("internals");function Lc(t){return t&&String(t).trim().toLowerCase()}function qd(t){return t===!1||t==null?t:ee.isArray(t)?t.map(qd):String(t)}function gj(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const vj=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Zg(t,e,n,r,a){if(ee.isFunction(r))return r.call(this,e,n);if(a&&(e=n),!!ee.isString(e)){if(ee.isString(r))return e.indexOf(r)!==-1;if(ee.isRegExp(r))return r.test(e)}}function yj(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Ej(t,e){const n=ee.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(a,o,u){return this[r].call(this,e,a,o,u)},configurable:!0})})}let sr=class{constructor(e){e&&this.set(e)}set(e,n,r){const a=this;function o(h,d,m){const g=Lc(d);if(!g)throw new Error("header name must be a non-empty string");const y=ee.findKey(a,g);(!y||a[y]===void 0||m===!0||m===void 0&&a[y]!==!1)&&(a[y||d]=qd(h))}const u=(h,d)=>ee.forEach(h,(m,g)=>o(m,g,d));if(ee.isPlainObject(e)||e instanceof this.constructor)u(e,n);else if(ee.isString(e)&&(e=e.trim())&&!vj(e))u(_j(e),n);else if(ee.isHeaders(e))for(const[h,d]of e.entries())o(d,h,r);else e!=null&&o(n,e,r);return this}get(e,n){if(e=Lc(e),e){const r=ee.findKey(this,e);if(r){const a=this[r];if(!n)return a;if(n===!0)return gj(a);if(ee.isFunction(n))return n.call(this,a,r);if(ee.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Lc(e),e){const r=ee.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Zg(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let a=!1;function o(u){if(u=Lc(u),u){const h=ee.findKey(r,u);h&&(!n||Zg(r,r[h],h,n))&&(delete r[h],a=!0)}}return ee.isArray(e)?e.forEach(o):o(e),a}clear(e){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const o=n[r];(!e||Zg(this,this[o],o,e,!0))&&(delete this[o],a=!0)}return a}normalize(e){const n=this,r={};return ee.forEach(this,(a,o)=>{const u=ee.findKey(r,o);if(u){n[u]=qd(a),delete n[o];return}const h=e?yj(o):String(o).trim();h!==o&&delete n[o],n[h]=qd(a),r[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ee.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=e&&ee.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(a=>r.set(a)),r}static accessor(e){const r=(this[bS]=this[bS]={accessors:{}}).accessors,a=this.prototype;function o(u){const h=Lc(u);r[h]||(Ej(a,u),r[h]=!0)}return ee.isArray(e)?e.forEach(o):o(e),this}};sr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors(sr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ee.freezeMethods(sr);function Jg(t,e){const n=this||$h,r=e||n,a=sr.from(r.headers);let o=r.data;return ee.forEach(t,function(h){o=h.call(n,o,a.normalize(),e?e.status:void 0)}),a.normalize(),o}function zC(t){return!!(t&&t.__CANCEL__)}function Iu(t,e,n){Qe.call(this,t??"canceled",Qe.ERR_CANCELED,e,n),this.name="CanceledError"}ee.inherits(Iu,Qe,{__CANCEL__:!0});function FC(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Qe("Request failed with status code "+n.status,[Qe.ERR_BAD_REQUEST,Qe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function bj(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function wj(t,e){t=t||10;const n=new Array(t),r=new Array(t);let a=0,o=0,u;return e=e!==void 0?e:1e3,function(d){const m=Date.now(),g=r[o];u||(u=m),n[a]=d,r[a]=m;let y=o,w=0;for(;y!==a;)w+=n[y++],y=y%t;if(a=(a+1)%t,a===o&&(o=(o+1)%t),m-u<e)return;const T=g&&m-g;return T?Math.round(w*1e3/T):void 0}}function Tj(t,e){let n=0,r=1e3/e,a,o;const u=(m,g=Date.now())=>{n=g,a=null,o&&(clearTimeout(o),o=null),t.apply(null,m)};return[(...m)=>{const g=Date.now(),y=g-n;y>=r?u(m,g):(a=m,o||(o=setTimeout(()=>{o=null,u(a)},r-y)))},()=>a&&u(a)]}const Cp=(t,e,n=3)=>{let r=0;const a=wj(50,250);return Tj(o=>{const u=o.loaded,h=o.lengthComputable?o.total:void 0,d=u-r,m=a(d),g=u<=h;r=u;const y={loaded:u,total:h,progress:h?u/h:void 0,bytes:d,rate:m||void 0,estimated:m&&h&&g?(h-u)/m:void 0,event:o,lengthComputable:h!=null,[e?"download":"upload"]:!0};t(y)},n)},wS=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},TS=t=>(...e)=>ee.asap(()=>t(...e)),Sj=Fn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Fn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Fn.origin),Fn.navigator&&/(msie|trident)/i.test(Fn.navigator.userAgent)):()=>!0,Aj=Fn.hasStandardBrowserEnv?{write(t,e,n,r,a,o){const u=[t+"="+encodeURIComponent(e)];ee.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),ee.isString(r)&&u.push("path="+r),ee.isString(a)&&u.push("domain="+a),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Rj(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Cj(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function qC(t,e,n){let r=!Rj(e);return t&&(r||n==!1)?Cj(t,e):e}const SS=t=>t instanceof sr?{...t}:t;function Wo(t,e){e=e||{};const n={};function r(m,g,y,w){return ee.isPlainObject(m)&&ee.isPlainObject(g)?ee.merge.call({caseless:w},m,g):ee.isPlainObject(g)?ee.merge({},g):ee.isArray(g)?g.slice():g}function a(m,g,y,w){if(ee.isUndefined(g)){if(!ee.isUndefined(m))return r(void 0,m,y,w)}else return r(m,g,y,w)}function o(m,g){if(!ee.isUndefined(g))return r(void 0,g)}function u(m,g){if(ee.isUndefined(g)){if(!ee.isUndefined(m))return r(void 0,m)}else return r(void 0,g)}function h(m,g,y){if(y in e)return r(m,g);if(y in t)return r(void 0,m)}const d={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(m,g,y)=>a(SS(m),SS(g),y,!0)};return ee.forEach(Object.keys(Object.assign({},t,e)),function(g){const y=d[g]||a,w=y(t[g],e[g],g);ee.isUndefined(w)&&y!==h||(n[g]=w)}),n}const HC=t=>{const e=Wo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:o,headers:u,auth:h}=e;e.headers=u=sr.from(u),e.url=UC(qC(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let d;if(ee.isFormData(n)){if(Fn.hasStandardBrowserEnv||Fn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((d=u.getContentType())!==!1){const[m,...g]=d?d.split(";").map(y=>y.trim()).filter(Boolean):[];u.setContentType([m||"multipart/form-data",...g].join("; "))}}if(Fn.hasStandardBrowserEnv&&(r&&ee.isFunction(r)&&(r=r(e)),r||r!==!1&&Sj(e.url))){const m=a&&o&&Aj.read(o);m&&u.set(a,m)}return e},Oj=typeof XMLHttpRequest<"u",Ij=Oj&&function(t){return new Promise(function(n,r){const a=HC(t);let o=a.data;const u=sr.from(a.headers).normalize();let{responseType:h,onUploadProgress:d,onDownloadProgress:m}=a,g,y,w,T,S;function M(){T&&T(),S&&S(),a.cancelToken&&a.cancelToken.unsubscribe(g),a.signal&&a.signal.removeEventListener("abort",g)}let I=new XMLHttpRequest;I.open(a.method.toUpperCase(),a.url,!0),I.timeout=a.timeout;function U(){if(!I)return;const X=sr.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),x={data:!h||h==="text"||h==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:X,config:t,request:I};FC(function(k){n(k),M()},function(k){r(k),M()},x),I=null}"onloadend"in I?I.onloadend=U:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(U)},I.onabort=function(){I&&(r(new Qe("Request aborted",Qe.ECONNABORTED,t,I)),I=null)},I.onerror=function(){r(new Qe("Network Error",Qe.ERR_NETWORK,t,I)),I=null},I.ontimeout=function(){let ie=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const x=a.transitional||jC;a.timeoutErrorMessage&&(ie=a.timeoutErrorMessage),r(new Qe(ie,x.clarifyTimeoutError?Qe.ETIMEDOUT:Qe.ECONNABORTED,t,I)),I=null},o===void 0&&u.setContentType(null),"setRequestHeader"in I&&ee.forEach(u.toJSON(),function(ie,x){I.setRequestHeader(x,ie)}),ee.isUndefined(a.withCredentials)||(I.withCredentials=!!a.withCredentials),h&&h!=="json"&&(I.responseType=a.responseType),m&&([w,S]=Cp(m,!0),I.addEventListener("progress",w)),d&&I.upload&&([y,T]=Cp(d),I.upload.addEventListener("progress",y),I.upload.addEventListener("loadend",T)),(a.cancelToken||a.signal)&&(g=X=>{I&&(r(!X||X.type?new Iu(null,t,I):X),I.abort(),I=null)},a.cancelToken&&a.cancelToken.subscribe(g),a.signal&&(a.signal.aborted?g():a.signal.addEventListener("abort",g)));const H=bj(a.url);if(H&&Fn.protocols.indexOf(H)===-1){r(new Qe("Unsupported protocol "+H+":",Qe.ERR_BAD_REQUEST,t));return}I.send(o||null)})},Dj=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,a;const o=function(m){if(!a){a=!0,h();const g=m instanceof Error?m:this.reason;r.abort(g instanceof Qe?g:new Iu(g instanceof Error?g.message:g))}};let u=e&&setTimeout(()=>{u=null,o(new Qe(`timeout ${e} of ms exceeded`,Qe.ETIMEDOUT))},e);const h=()=>{t&&(u&&clearTimeout(u),u=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(o):m.removeEventListener("abort",o)}),t=null)};t.forEach(m=>m.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>ee.asap(h),d}},xj=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,a;for(;r<n;)a=r+e,yield t.slice(r,a),r=a},Nj=async function*(t,e){for await(const n of Pj(t))yield*xj(n,e)},Pj=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},AS=(t,e,n,r)=>{const a=Nj(t,e);let o=0,u,h=d=>{u||(u=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:m,value:g}=await a.next();if(m){h(),d.close();return}let y=g.byteLength;if(n){let w=o+=y;n(w)}d.enqueue(new Uint8Array(g))}catch(m){throw h(m),m}},cancel(d){return h(d),a.return()}},{highWaterMark:2})},vm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",$C=vm&&typeof ReadableStream=="function",Mj=vm&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),GC=(t,...e)=>{try{return!!t(...e)}catch{return!1}},kj=$C&&GC(()=>{let t=!1;const e=new Request(Fn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),RS=64*1024,Qv=$C&&GC(()=>ee.isReadableStream(new Response("").body)),Op={stream:Qv&&(t=>t.body)};vm&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Op[e]&&(Op[e]=ee.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Qe(`Response type '${e}' is not supported`,Qe.ERR_NOT_SUPPORT,r)})})})(new Response);const Lj=async t=>{if(t==null)return 0;if(ee.isBlob(t))return t.size;if(ee.isSpecCompliantForm(t))return(await new Request(Fn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ee.isArrayBufferView(t)||ee.isArrayBuffer(t))return t.byteLength;if(ee.isURLSearchParams(t)&&(t=t+""),ee.isString(t))return(await Mj(t)).byteLength},Vj=async(t,e)=>{const n=ee.toFiniteNumber(t.getContentLength());return n??Lj(e)},Uj=vm&&(async t=>{let{url:e,method:n,data:r,signal:a,cancelToken:o,timeout:u,onDownloadProgress:h,onUploadProgress:d,responseType:m,headers:g,withCredentials:y="same-origin",fetchOptions:w}=HC(t);m=m?(m+"").toLowerCase():"text";let T=Dj([a,o&&o.toAbortSignal()],u),S;const M=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let I;try{if(d&&kj&&n!=="get"&&n!=="head"&&(I=await Vj(g,r))!==0){let x=new Request(e,{method:"POST",body:r,duplex:"half"}),te;if(ee.isFormData(r)&&(te=x.headers.get("content-type"))&&g.setContentType(te),x.body){const[k,O]=wS(I,Cp(TS(d)));r=AS(x.body,RS,k,O)}}ee.isString(y)||(y=y?"include":"omit");const U="credentials"in Request.prototype;S=new Request(e,{...w,signal:T,method:n.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:U?y:void 0});let H=await fetch(S);const X=Qv&&(m==="stream"||m==="response");if(Qv&&(h||X&&M)){const x={};["status","statusText","headers"].forEach(C=>{x[C]=H[C]});const te=ee.toFiniteNumber(H.headers.get("content-length")),[k,O]=h&&wS(te,Cp(TS(h),!0))||[];H=new Response(AS(H.body,RS,k,()=>{O&&O(),M&&M()}),x)}m=m||"text";let ie=await Op[ee.findKey(Op,m)||"text"](H,t);return!X&&M&&M(),await new Promise((x,te)=>{FC(x,te,{data:ie,headers:sr.from(H.headers),status:H.status,statusText:H.statusText,config:t,request:S})})}catch(U){throw M&&M(),U&&U.name==="TypeError"&&/fetch/i.test(U.message)?Object.assign(new Qe("Network Error",Qe.ERR_NETWORK,t,S),{cause:U.cause||U}):Qe.from(U,U&&U.code,t,S)}}),Yv={http:JU,xhr:Ij,fetch:Uj};ee.forEach(Yv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const CS=t=>`- ${t}`,jj=t=>ee.isFunction(t)||t===null||t===!1,KC={getAdapter:t=>{t=ee.isArray(t)?t:[t];const{length:e}=t;let n,r;const a={};for(let o=0;o<e;o++){n=t[o];let u;if(r=n,!jj(n)&&(r=Yv[(u=String(n)).toLowerCase()],r===void 0))throw new Qe(`Unknown adapter '${u}'`);if(r)break;a[u||"#"+o]=r}if(!r){const o=Object.entries(a).map(([h,d])=>`adapter ${h} `+(d===!1?"is not supported by the environment":"is not available in the build"));let u=e?o.length>1?`since :
`+o.map(CS).join(`
`):" "+CS(o[0]):"as no adapter specified";throw new Qe("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:Yv};function ev(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Iu(null,t)}function OS(t){return ev(t),t.headers=sr.from(t.headers),t.data=Jg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),KC.getAdapter(t.adapter||$h.adapter)(t).then(function(r){return ev(t),r.data=Jg.call(t,t.transformResponse,r),r.headers=sr.from(r.headers),r},function(r){return zC(r)||(ev(t),r&&r.response&&(r.response.data=Jg.call(t,t.transformResponse,r.response),r.response.headers=sr.from(r.response.headers))),Promise.reject(r)})}const QC="1.8.4",ym={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ym[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const IS={};ym.transitional=function(e,n,r){function a(o,u){return"[Axios v"+QC+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return(o,u,h)=>{if(e===!1)throw new Qe(a(u," has been removed"+(n?" in "+n:"")),Qe.ERR_DEPRECATED);return n&&!IS[u]&&(IS[u]=!0,console.warn(a(u," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,u,h):!0}};ym.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Bj(t,e,n){if(typeof t!="object")throw new Qe("options must be an object",Qe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let a=r.length;for(;a-- >0;){const o=r[a],u=e[o];if(u){const h=t[o],d=h===void 0||u(h,o,t);if(d!==!0)throw new Qe("option "+o+" must be "+d,Qe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Qe("Unknown option "+o,Qe.ERR_BAD_OPTION)}}const Hd={assertOptions:Bj,validators:ym},Ni=Hd.validators;let Uo=class{constructor(e){this.defaults=e,this.interceptors={request:new ES,response:new ES}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Wo(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:o}=n;r!==void 0&&Hd.assertOptions(r,{silentJSONParsing:Ni.transitional(Ni.boolean),forcedJSONParsing:Ni.transitional(Ni.boolean),clarifyTimeoutError:Ni.transitional(Ni.boolean)},!1),a!=null&&(ee.isFunction(a)?n.paramsSerializer={serialize:a}:Hd.assertOptions(a,{encode:Ni.function,serialize:Ni.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Hd.assertOptions(n,{baseUrl:Ni.spelling("baseURL"),withXsrfToken:Ni.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=o&&ee.merge(o.common,o[n.method]);o&&ee.forEach(["delete","get","head","post","put","patch","common"],S=>{delete o[S]}),n.headers=sr.concat(u,o);const h=[];let d=!0;this.interceptors.request.forEach(function(M){typeof M.runWhen=="function"&&M.runWhen(n)===!1||(d=d&&M.synchronous,h.unshift(M.fulfilled,M.rejected))});const m=[];this.interceptors.response.forEach(function(M){m.push(M.fulfilled,M.rejected)});let g,y=0,w;if(!d){const S=[OS.bind(this),void 0];for(S.unshift.apply(S,h),S.push.apply(S,m),w=S.length,g=Promise.resolve(n);y<w;)g=g.then(S[y++],S[y++]);return g}w=h.length;let T=n;for(y=0;y<w;){const S=h[y++],M=h[y++];try{T=S(T)}catch(I){M.call(this,I);break}}try{g=OS.call(this,T)}catch(S){return Promise.reject(S)}for(y=0,w=m.length;y<w;)g=g.then(m[y++],m[y++]);return g}getUri(e){e=Wo(this.defaults,e);const n=qC(e.baseURL,e.url,e.allowAbsoluteUrls);return UC(n,e.params,e.paramsSerializer)}};ee.forEach(["delete","get","head","options"],function(e){Uo.prototype[e]=function(n,r){return this.request(Wo(r||{},{method:e,url:n,data:(r||{}).data}))}});ee.forEach(["post","put","patch"],function(e){function n(r){return function(o,u,h){return this.request(Wo(h||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}Uo.prototype[e]=n(),Uo.prototype[e+"Form"]=n(!0)});let zj=class YC{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(a=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](a);r._listeners=null}),this.promise.then=a=>{let o;const u=new Promise(h=>{r.subscribe(h),o=h}).then(a);return u.cancel=function(){r.unsubscribe(o)},u},e(function(o,u,h){r.reason||(r.reason=new Iu(o,u,h),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new YC(function(a){e=a}),cancel:e}}};function Fj(t){return function(n){return t.apply(null,n)}}function qj(t){return ee.isObject(t)&&t.isAxiosError===!0}const Xv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Xv).forEach(([t,e])=>{Xv[e]=t});function XC(t){const e=new Uo(t),n=CC(Uo.prototype.request,e);return ee.extend(n,Uo.prototype,e,{allOwnKeys:!0}),ee.extend(n,e,null,{allOwnKeys:!0}),n.create=function(a){return XC(Wo(t,a))},n}const Qt=XC($h);Qt.Axios=Uo;Qt.CanceledError=Iu;Qt.CancelToken=zj;Qt.isCancel=zC;Qt.VERSION=QC;Qt.toFormData=gm;Qt.AxiosError=Qe;Qt.Cancel=Qt.CanceledError;Qt.all=function(e){return Promise.all(e)};Qt.spread=Fj;Qt.isAxiosError=qj;Qt.mergeConfig=Wo;Qt.AxiosHeaders=sr;Qt.formToJSON=t=>BC(ee.isHTMLForm(t)?new FormData(t):t);Qt.getAdapter=KC.getAdapter;Qt.HttpStatusCode=Xv;Qt.default=Qt;const{Axios:pB,AxiosError:mB,CanceledError:_B,isCancel:gB,CancelToken:vB,VERSION:yB,all:EB,Cancel:bB,isAxiosError:wB,spread:TB,toFormData:SB,AxiosHeaders:AB,HttpStatusCode:RB,formToJSON:CB,getAdapter:OB,mergeConfig:IB}=Qt,Hj="676134b682142225bf54ca5441fe069a",$j="https://api.openweathermap.org/data/2.5/weather",Gj=async t=>{var e;try{const r=(await Qt.get($j,{params:{q:t,appid:Hj,units:"metric",lang:"en"}})).data;return{temp:Math.trunc(r.main.temp),localTime:W3(r.timezone)}}catch(n){if(Qt.isAxiosError(n)&&((e=n.response)==null?void 0:e.status)===404){console.warn(`City not found: ${t}`);return}throw console.error("Error while getting city information",n),n}};class Kj{constructor(e,n,r,a){pe(this,"_isInit",!1);pe(this,"_isInitFromUrl",!1);pe(this,"_isLoading",!0);pe(this,"_isLikeLoading",!1);pe(this,"_minLoading",!0);pe(this,"_requestError",null);pe(this,"_unsubscribeFn",null);pe(this,"init",fe(async()=>{this._isInit||(await this._fetchAllWithRetry(),this._subscribeToUpdates(),zt(()=>this._isInit=!0))}));pe(this,"initUrlSync",fe((e,n)=>{this._urlSyncStore.initUrlSync(e,n)}));pe(this,"initFromUrl",fe(async e=>{try{this._isInitFromUrl||(await this._filterStore.loadDropdownOptions(),zt(()=>this._isInitFromUrl=!0)),zt(async()=>{await this._urlSyncStore.initFromUrl(e)}),await this._loadPaginatedCities()}catch(n){console.error("Error initializing from URL:",n)}}));pe(this,"setError",fe(e=>{this._requestError=e}));pe(this,"_fetchAllWithRetry",fe(async(e=3,n=2e3)=>{this._startLoading();const r=await Kc({mode:"all"});if(typeof r=="string"){e>0?setTimeout(()=>this._fetchAllWithRetry(e-1,n),n):zt(()=>{this.setError(r),this._isLoading=!1});return}zt(()=>{this.setError(null),this._citiesDataStore.updateCities(r),this._isLoading=!1})}));pe(this,"fetchRelated",fe(async(e,n)=>{this._startLoading(),await Kc({mode:"related",relatedCities:e,currentCityId:n}).then(r=>{zt(()=>{Array.isArray(r)&&this._citiesDataStore.updateRelatedCities(r)})}).finally(()=>{zt(()=>{this._isLoading=!1})})}));pe(this,"clearRelated",fe(()=>{this._citiesDataStore.updateRelatedCities([])}));pe(this,"fetchCurrent",fe(async e=>{this._startLoading();const n=await Kc({mode:"single",currentCityId:e});if(typeof n!="string"){const r=await Gj(n.name);zt(async()=>{this._citiesDataStore.updateCurrentCity({...n,...r})})}zt(()=>{this._isLoading=!1})}));pe(this,"_subscribeToUpdates",fe(()=>{this._unsubscribeFn=pU({mode:"all",onUpdate:e=>{if(this._startLoading(),typeof e=="string"){zt(()=>{this.setError(e)});return}zt(()=>{this._citiesDataStore.updateCities(e),this._isLoading=!1})}})}));pe(this,"toggleLike",fe(async(e,n)=>{this._isLikeLoading=!0;const r=await _S({mode:"like",cityId:e,userId:n});zt(()=>{if(typeof r=="string"){this.setError(r),this._isLikeLoading=!1;return}this._citiesDataStore.updateCityLikes(e,r),this._isLikeLoading=!1})}));pe(this,"addComment",fe(async(e,n,r)=>{const a=await _S({mode:"comment",cityId:e,userId:n,message:r});zt(()=>{if(typeof a=="string")return a;this._citiesDataStore.updateCityComments(e,a)})}));pe(this,"_loadPaginatedCities",fe(async()=>{this._startLoading();const e=this._paginationStore.currentPage===1||this._filterStore.searchQuery||this._filterStore.dropdownFilters.length>0,n=this._filterStore.dropdownFilters,r=e?null:this._paginationStore.targetCursor,a=await Kc({mode:"paginate",viewPerPage:this._paginationStore.viewPerPage,searchQuery:this._filterStore.searchQuery,currentPage:this._paginationStore.currentPage,dropdownFilters:n,lastDoc:r});zt(()=>{typeof a!="string"&&"data"in a&&(this._citiesDataStore.updatePaginatedCities(a.data),this._paginationStore.setTotalPaginationCities(a.total),a.lastDoc&&this._paginationStore.setLastDoc(a.lastDoc))}),zt(()=>{this._isLoading=!1})}));pe(this,"_startLoading",fe(()=>{this._startMinLoading(),this._isLoading=!0,this._requestError=null}));pe(this,"_startMinLoading",fe(()=>{setTimeout(()=>{zt(()=>{this._minLoading=!1})},K3)}));this._urlSyncStore=e,this._citiesDataStore=n,this._paginationStore=r,this._filterStore=a,n9(this,{_isInit:ze,_isInitFromUrl:ze,_isLoading:ze,_isLikeLoading:ze,_minLoading:ze,_requestError:ze,_unsubscribeFn:ze,isInit:Dt,isInitFromUrl:Dt,requestError:Dt,init:fe,initUrlSync:fe,initFromUrl:fe,setError:fe,_startLoading:fe,_startMinLoading:fe,_fetchAllWithRetry:fe,_subscribeToUpdates:fe,_loadPaginatedCities:fe,fetchRelated:fe,fetchCurrent:fe,toggleLike:fe})}get requestError(){return this._requestError}get isLoading(){return this._isLoading||this._minLoading}get isLikeLoading(){return this._isLikeLoading}get isInit(){return this._isInit}get isInitFromUrl(){return this._isInitFromUrl}dispose(){var e;(e=this._unsubscribeFn)==null||e.call(this)}}class Qj{constructor(){pe(this,"_modal",null);pe(this,"openModal",fe(e=>{this._modal=e}));pe(this,"closeModal",fe(()=>{this._modal=null}));Yi(this,{_modal:ze,modal:Dt,openModal:fe,closeModal:fe})}get modal(){return this._modal}}const Yj=async()=>{try{return await Yk(v0),!0}catch(t){return t instanceof $n?"Failed to log out. Please try again.":"Unexpected error. Please try again."}},Xj=async({email:t,password:e})=>{try{return(await Gk(v0,t,e)).user}catch(n){return n instanceof $n?{"auth/invalid-email":"Invalid email format","auth/wrong-password":"Incorrect email or password","auth/user-not-found":"Incorrect email or password"}[n.code]??"Login failed. Please try again.":"Unexpected error. Please try again."}},Wj=async({email:t,password:e})=>{try{return(await $k(v0,t,e)).user}catch(n){return n instanceof $n?{"auth/email-already-in-use":"Email already in use","auth/invalid-email":"Invalid email format","auth/weak-password":"Password should be at least 6 characters"}[n.code]??"Registration failed. Please try again.":"Unexpected error. Please try again."}};class Zj{constructor(){pe(this,"_user",null);pe(this,"register",fe(async(e,n)=>{const r=await Wj({email:e,password:n});if(typeof r=="string")return r;zt(()=>{this._user=r})}));pe(this,"login",fe(async(e,n)=>{const r=await Xj({email:e,password:n});if(typeof r=="string")return r;zt(()=>{this._user=r})}));pe(this,"logout",fe(async()=>{const e=await Yj();if(typeof e=="string")return e;zt(()=>{this._user=null})}));Yi(this,{_user:ze,user:Dt,register:fe,login:fe,logout:fe})}get user(){return this._user}}class Jj{constructor(){pe(this,"_toasts",[]);pe(this,"_counter",0);pe(this,"showToast",fe((e,n,r,a,o,u)=>{this._clearToasts();const h=this._counter++,d=()=>{r==null||r(),this.hideToast(h)};this._toasts.push({id:h,message:e,variant:n,onClose:d,duration:a,showAnimation:o,className:u})}));pe(this,"hideToast",fe(e=>{this._toasts=this._toasts.filter(n=>n.id!==e)}));pe(this,"_clearToasts",fe(()=>{this._toasts=[]}));Yi(this,{_toasts:ze,_counter:ze,toasts:Dt,showToast:fe,hideToast:fe,_clearToasts:fe})}get toasts(){return this._toasts}}class eB{constructor(){pe(this,"pathname","");pe(this,"search","");Yi(this,{pathname:ze,search:ze,setLocation:fe})}setLocation(e,n){this.pathname=e,this.search=n}}class tB{constructor(e,n){pe(this,"initUrlSync",(e,n)=>l2(()=>({searchQuery:this._filterStore.searchQuery,currentPage:this._paginationStore.currentPage,viewPerPage:this._paginationStore.viewPerPage,dropdownFilters:this._filterStore.dropdownFilters}),({searchQuery:r,currentPage:a,viewPerPage:o,dropdownFilters:u})=>{const h=new URLSearchParams;r&&h.set("searchQuery",r),a>1&&h.set("currentPage",String(a)),o!==3&&h.set("viewPerPage",String(o)),u.forEach(d=>h.append("filter",d)),e(`${n}?${h.toString()}`)}));pe(this,"initFromUrl",fe(async e=>{const n=new URLSearchParams(e);await this._setStateFromQuery(n)}));pe(this,"_setStateFromQuery",fe(async e=>{const n=e.get("searchQuery")??"",r=Math.max(1,Number(e.get("currentPage"))||1),a=Number(e.get("viewPerPage"))||3,o=e.getAll("filter"),u=this._filterStore.dropdownOptions.filter(({value:d})=>o.includes(d));let h=!1;return this._filterStore.searchQuery!==n&&(this._filterStore.setSearchQuery(n),h=!0),this._paginationStore.currentPage!==r&&(this._paginationStore.setCurrentPage(r),h=!0),this._paginationStore.viewPerPage!==a&&(this._paginationStore.setViewPerPage(a,!0),h=!0),JSON.stringify(this._filterStore.dropdownValue)!==JSON.stringify(u)&&(this._filterStore.setDropdownValue(u,!0),h=!0),h}));this._filterStore=e,this._paginationStore=n,Yi(this,{initFromUrl:fe,_setStateFromQuery:fe})}}class nB{constructor(){pe(this,"_cities",[]);pe(this,"_relatedCities",[]);pe(this,"_paginatedCities",[]);pe(this,"_currentCity",null);pe(this,"_citiesLikes",{});pe(this,"_citiesComments",{});pe(this,"updateCities",fe(e=>{this._cities=e,this._citiesLikes=Object.fromEntries(this._cities.map(n=>[n.id,n.likes||[]])),this._citiesComments=Object.fromEntries(this._cities.map(n=>[n.id,n.comments||[]]))}));pe(this,"updatePaginatedCities",fe(e=>{this._paginatedCities=e}));pe(this,"updateRelatedCities",fe(e=>{this._relatedCities=e}));pe(this,"updateCurrentCity",fe(e=>{this._currentCity=e}));pe(this,"updateCityLikes",fe((e,n)=>{this._citiesLikes={...this._citiesLikes,[e]:n}}));pe(this,"updateCityComments",fe((e,n)=>{this._citiesComments={...this._citiesComments,[e]:n}}));Yi(this,{_cities:ze,_relatedCities:ze,_paginatedCities:ze,_currentCity:ze,_citiesLikes:ze,_citiesComments:ze.struct,cities:Dt,relatedCities:Dt,paginatedCities:Dt,mostLikedCity:Dt,currentCity:Dt,citiesLikes:Dt,citiesComments:Dt,updateCities:fe,updatePaginatedCities:fe,updateRelatedCities:fe,updateCurrentCity:fe,updateCityLikes:fe,updateCityComments:fe})}get cities(){return Vc(this._cities)}get relatedCities(){return Vc(this._relatedCities)}get paginatedCities(){return Vc(this._paginatedCities)}get mostLikedCity(){return X3(this._cities)}get currentCity(){return Vc(this._currentCity)}get citiesLikes(){return this._citiesLikes}get citiesComments(){return this._citiesComments}}class rB{constructor(){pe(this,"_currentPage",1);pe(this,"_viewPerPage",3);pe(this,"_totalPaginatedCities",0);pe(this,"_lastDocs",{});pe(this,"setTotalPaginationCities",fe(e=>{this._totalPaginatedCities=e}));pe(this,"setCurrentPage",fe(e=>{this._currentPage!==e&&(this._currentPage=e)}));pe(this,"setViewPerPage",fe((e,n)=>{if(this._viewPerPage!==e){if(this._viewPerPage=e,n)return;this.resetPagination()}}));pe(this,"resetPagination",fe(()=>{this._lastDocs={},this._currentPage=1}));pe(this,"setLastDoc",fe(e=>{this._lastDocs[this._currentPage]=e}));Yi(this,{_currentPage:ze,_viewPerPage:ze,_totalPaginatedCities:ze,_lastDocs:ze,currentPage:Dt,viewPerPage:Dt,totalPaginatedCities:Dt,targetCursor:Dt,setTotalPaginationCities:fe,setCurrentPage:fe,setViewPerPage:fe,resetPagination:fe,setLastDoc:fe})}get currentPage(){return this._currentPage}get viewPerPage(){return this._viewPerPage}get totalPaginatedCities(){return this._totalPaginatedCities}get targetCursor(){return this._currentPage===1?null:this._lastDocs[this._currentPage-1]??null}}class iB{constructor(e){pe(this,"_searchQuery","");pe(this,"_dropdownOptions",[]);pe(this,"_dropdownValue",[]);pe(this,"setDropdownValue",fe((e,n)=>{this._dropdownValue=e,!n&&this._paginationStore.resetPagination()}));pe(this,"setSearchQuery",fe(e=>{this._searchQuery=e,this._paginationStore.resetPagination()}));pe(this,"loadDropdownOptions",fe(async()=>{const e=await Kc({mode:"options"});zt(()=>{Array.isArray(e)&&(this._dropdownOptions=e)})}));this._paginationStore=e,Yi(this,{_searchQuery:ze,_dropdownOptions:ze,_dropdownValue:ze,dropdownTitle:Dt,dropdownFilters:Dt,dropdownValue:Dt,dropdownOptions:Dt,searchQuery:Dt,setDropdownValue:fe,setSearchQuery:fe,loadDropdownOptions:fe})}get dropdownValue(){return Vc(this._dropdownValue)}get dropdownOptions(){return this._dropdownOptions}get searchQuery(){return this._searchQuery}get dropdownTitle(){return this._dropdownValue.length===0?"Choose Country":this.dropdownFilters.join(", ")}get dropdownFilters(){return this._dropdownValue.map(({value:e})=>e)}}class sB{constructor(){pe(this,"userStore",new Zj);pe(this,"modalStore",new Qj);pe(this,"toastStore",new Jj);pe(this,"routerStore",new eB);pe(this,"citiesDataStore",new nB);pe(this,"paginationStore",new rB);pe(this,"filterStore",new iB(this.paginationStore));pe(this,"urlSyncStore",new tB(this.filterStore,this.paginationStore));pe(this,"citiesStore",new Kj(this.urlSyncStore,this.citiesDataStore,this.paginationStore,this.filterStore));pe(this,"_navigate",()=>{});pe(this,"setNavigate",e=>{this._navigate=e});pe(this,"dispose",()=>{var e,n;(n=(e=this.citiesStore).dispose)==null||n.call(e)});Yi(this,{userStore:ze,modalStore:ze,citiesStore:ze,toastStore:ze,isAppReady:Dt,setNavigate:fe,_navigate:ze}),l2(()=>({pathname:this.routerStore.pathname,search:this.routerStore.search}),async({pathname:e,search:n})=>{this.citiesStore.init(),e===qo&&(this.citiesStore.isInitFromUrl||this.citiesStore.initUrlSync(this._navigate,e),await this.citiesStore.initFromUrl(n))})}get isAppReady(){return this.citiesStore.isInit}}const aB=new sB,oB=({children:t})=>D.jsx(K2.Provider,{value:aB,children:t}),lB=()=>D.jsxs(oB,{children:[D.jsx(dU,{}),D.jsx(S6,{}),D.jsx(XV,{})]});A9.createRoot(document.getElementById("root")).render(D.jsx(F.StrictMode,{children:D.jsx(lB,{})}));
